System.register(["./index-legacy-FTCtj1B_.js"],(function(e,t){"use strict";var i,n,r,o,s,a,l,c,h,u,d,p,g,f,m,v,_,y,b,x,w,C,S,E,T,k,I,R,M,P,L,O,F,A,D,z,N,j,G,B,W,V,K,X,Y,H,q,$,Z,U,J,Q,ee,te,ie,ne,re,oe,se,ae,le,ce,he,ue,de,pe,ge;return{setters:[e=>{i=e.g,n=e.o,r=e.u,o=e.a,s=e.b,a=e.n,l=e.w,c=e.r,h=e.i,u=e.d,d=e.c,p=e.e,g=e.f,f=e.h,m=e.j,v=e.k,_=e.N,y=e.l,b=e.m,x=e.p,w=e.q,C=e.s,S=e.t,E=e.v,T=e.x,k=e.y,I=e.z,R=e.A,M=e.B,P=e.C,L=e.D,O=e.E,F=e.F,A=e.G,D=e.H,z=e.I,N=e.J,j=e.K,G=e.L,B=e.M,W=e.O,V=e.P,K=e.Q,X=e.T,Y=e.R,H=e.S,q=e.U,$=e.V,Z=e.W,U=e.X,J=e.Y,Q=e.Z,ee=e._,te=e.$,ie=e.a0,ne=e.a1,re=e.a2,oe=e.a3,se=e.a4,ae=e.a5,le=e.a6,ce=e.a7,he=e.a8,ue=e.a9,de=e.aa,pe=e.ab,ge=e.ac}],execute:function(){var fe=document.createElement("style");fe.textContent="@charset \"UTF-8\";:root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary-rgb:64,158,255;--el-color-success-rgb:103,194,58;--el-color-warning-rgb:230,162,60;--el-color-danger-rgb:245,108,108;--el-color-error-rgb:245,108,108;--el-color-info-rgb:144,147,153;--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-family:\"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"微软雅黑\",Arial,sans-serif;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-transition-duration:.3s;--el-transition-duration-fast:.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(.645, .045, .355, 1);--el-transition-function-fast-bezier:cubic-bezier(.23, 1, .32, 1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-box-shadow:box-shadow var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-component-size-large:40px;--el-component-size:32px;--el-component-size-small:24px}:root{color-scheme:light;--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary:#409eff;--el-color-primary-light-3:#79bbff;--el-color-primary-light-5:#a0cfff;--el-color-primary-light-7:#c6e2ff;--el-color-primary-light-8:#d9ecff;--el-color-primary-light-9:#ecf5ff;--el-color-primary-dark-2:#337ecc;--el-color-success:#67c23a;--el-color-success-light-3:#95d475;--el-color-success-light-5:#b3e19d;--el-color-success-light-7:#d1edc4;--el-color-success-light-8:#e1f3d8;--el-color-success-light-9:#f0f9eb;--el-color-success-dark-2:#529b2e;--el-color-warning:#e6a23c;--el-color-warning-light-3:#eebe77;--el-color-warning-light-5:#f3d19e;--el-color-warning-light-7:#f8e3c5;--el-color-warning-light-8:#faecd8;--el-color-warning-light-9:#fdf6ec;--el-color-warning-dark-2:#b88230;--el-color-danger:#f56c6c;--el-color-danger-light-3:#f89898;--el-color-danger-light-5:#fab6b6;--el-color-danger-light-7:#fcd3d3;--el-color-danger-light-8:#fde2e2;--el-color-danger-light-9:#fef0f0;--el-color-danger-dark-2:#c45656;--el-color-error:#f56c6c;--el-color-error-light-3:#f89898;--el-color-error-light-5:#fab6b6;--el-color-error-light-7:#fcd3d3;--el-color-error-light-8:#fde2e2;--el-color-error-light-9:#fef0f0;--el-color-error-dark-2:#c45656;--el-color-info:#909399;--el-color-info-light-3:#b1b3b8;--el-color-info-light-5:#c8c9cc;--el-color-info-light-7:#dedfe0;--el-color-info-light-8:#e9e9eb;--el-color-info-light-9:#f4f4f5;--el-color-info-dark-2:#73767a;--el-bg-color:#ffffff;--el-bg-color-page:#f2f3f5;--el-bg-color-overlay:#ffffff;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#a8abb2;--el-text-color-disabled:#c0c4cc;--el-border-color:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-color-dark:#d4d7de;--el-border-color-darker:#cdd0d6;--el-fill-color:#f0f2f5;--el-fill-color-light:#f5f7fa;--el-fill-color-lighter:#fafafa;--el-fill-color-extra-light:#fafcff;--el-fill-color-dark:#ebedf0;--el-fill-color-darker:#e6e8eb;--el-fill-color-blank:#ffffff;--el-box-shadow:0px 12px 32px 4px rgba(0, 0, 0, .04),0px 8px 20px rgba(0, 0, 0, .08);--el-box-shadow-light:0px 0px 12px rgba(0, 0, 0, .12);--el-box-shadow-lighter:0px 0px 6px rgba(0, 0, 0, .12);--el-box-shadow-dark:0px 16px 48px 16px rgba(0, 0, 0, .08),0px 12px 32px rgba(0, 0, 0, .12),0px 8px 16px -8px rgba(0, 0, 0, .16);--el-disabled-bg-color:var(--el-fill-color-light);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-overlay-color:rgba(0, 0, 0, .8);--el-overlay-color-light:rgba(0, 0, 0, .7);--el-overlay-color-lighter:rgba(0, 0, 0, .5);--el-mask-color:rgba(255, 255, 255, .9);--el-mask-color-extra-light:rgba(255, 255, 255, .3);--el-border-width:1px;--el-border-style:solid;--el-border-color-hover:var(--el-text-color-disabled);--el-border:var(--el-border-width) var(--el-border-style) var(--el-border-color);--el-svg-monochrome-grey:var(--el-border-color)}.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.fade-in-linear-enter-from,.fade-in-linear-leave-to{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.el-fade-in-linear-enter-from,.el-fade-in-linear-leave-to{opacity:0}.el-fade-in-enter-active,.el-fade-in-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-fade-in-enter-from,.el-fade-in-leave-active{opacity:0}.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter-from,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center top}.el-zoom-in-top-enter-active[data-popper-placement^=top],.el-zoom-in-top-leave-active[data-popper-placement^=top]{transform-origin:center bottom}.el-zoom-in-top-enter-from,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center bottom}.el-zoom-in-bottom-enter-from,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1);transition:var(--el-transition-md-fade);transform-origin:top left}.el-zoom-in-left-enter-from,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45)}.collapse-transition{transition:var(--el-transition-duration) height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.el-collapse-transition-enter-active,.el-collapse-transition-leave-active{transition:var(--el-transition-duration) max-height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.horizontal-collapse-transition{transition:var(--el-transition-duration) width ease-in-out,var(--el-transition-duration) padding-left ease-in-out,var(--el-transition-duration) padding-right ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter-from,.el-list-leave-to{opacity:0;transform:translateY(-30px)}.el-list-leave-active{position:absolute!important}.el-opacity-transition{transition:opacity var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-icon-loading{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@-webkit-keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.el-icon{--color:inherit;height:1em;width:1em;line-height:1em;display:inline-flex;justify-content:center;align-items:center;position:relative;fill:currentColor;color:var(--color);font-size:inherit}.el-icon.is-loading{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.el-icon svg{height:1em;width:1em}.el-container{display:flex;flex-direction:row;flex:1;flex-basis:auto;box-sizing:border-box;min-width:0}.el-container.is-vertical{flex-direction:column}.el-aside{overflow:auto;box-sizing:border-box;flex-shrink:0;width:var(--el-aside-width,300px)}.el-footer{--el-footer-padding:0 20px;--el-footer-height:60px;padding:var(--el-footer-padding);box-sizing:border-box;flex-shrink:0;height:var(--el-footer-height)}.el-header{--el-header-padding:0 20px;--el-header-height:60px;padding:var(--el-header-padding);box-sizing:border-box;flex-shrink:0;height:var(--el-header-height)}.el-main{--el-main-padding:20px;display:block;flex:1;flex-basis:auto;overflow:auto;box-sizing:border-box;padding:var(--el-main-padding)}.el-textarea{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%}.el-textarea{position:relative;display:inline-block;width:100%;vertical-align:bottom;font-size:var(--el-font-size-base)}.el-textarea__inner{position:relative;display:block;resize:vertical;padding:5px 11px;line-height:1.5;box-sizing:border-box;width:100%;font-size:inherit;font-family:inherit;color:var(--el-input-text-color,var(--el-text-color-regular));background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;-webkit-appearance:none;box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));transition:var(--el-transition-box-shadow);border:none}.el-textarea__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:-ms-input-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-textarea__inner:focus{outline:0;box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-textarea .el-input__count{color:var(--el-color-info);background:var(--el-fill-color-blank);position:absolute;font-size:12px;line-height:14px;bottom:5px;right:10px}.el-textarea.is-disabled .el-textarea__inner{box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner:-ms-input-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-exceed .el-textarea__inner{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-textarea.is-exceed .el-input__count{color:var(--el-color-danger)}.el-input{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%}.el-input{--el-input-height:var(--el-component-size);position:relative;font-size:var(--el-font-size-base);display:inline-flex;width:var(--el-input-width);line-height:var(--el-input-height);box-sizing:border-box;vertical-align:middle}.el-input::-webkit-scrollbar{z-index:11;width:6px}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{border-radius:5px;width:6px;background:var(--el-text-color-disabled)}.el-input::-webkit-scrollbar-corner{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track-piece{background:var(--el-fill-color-blank);width:6px}.el-input .el-input__clear,.el-input .el-input__password{color:var(--el-input-icon-color);font-size:14px;cursor:pointer}.el-input .el-input__clear:hover,.el-input .el-input__password:hover{color:var(--el-input-clear-hover-color)}.el-input .el-input__count{height:100%;display:inline-flex;align-items:center;color:var(--el-color-info);font-size:12px}.el-input .el-input__count .el-input__count-inner{background:var(--el-fill-color-blank);line-height:initial;display:inline-block;padding-left:8px}.el-input__wrapper{display:inline-flex;flex-grow:1;align-items:center;justify-content:center;padding:1px 11px;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));cursor:text;transition:var(--el-transition-box-shadow);transform:translateZ(0);box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset}.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 32px) - 2px);width:100%;flex-grow:1;-webkit-appearance:none;color:var(--el-input-text-color,var(--el-text-color-regular));font-size:inherit;height:var(--el-input-inner-height);line-height:var(--el-input-inner-height);padding:0;outline:0;border:none;background:0 0;box-sizing:border-box}.el-input__inner:focus{outline:0}.el-input__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner:-ms-input-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner[type=password]::-ms-reveal{display:none}.el-input__prefix{display:inline-flex;white-space:nowrap;flex-shrink:0;flex-wrap:nowrap;height:100%;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__prefix-inner{pointer-events:all;display:inline-flex;align-items:center;justify-content:center}.el-input__prefix-inner>:last-child{margin-right:8px}.el-input__prefix-inner>:first-child,.el-input__prefix-inner>:first-child.el-input__icon{margin-left:0}.el-input__suffix{display:inline-flex;white-space:nowrap;flex-shrink:0;flex-wrap:nowrap;height:100%;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__suffix-inner{pointer-events:all;display:inline-flex;align-items:center;justify-content:center}.el-input__suffix-inner>:first-child{margin-left:8px}.el-input .el-input__icon{height:inherit;line-height:inherit;display:flex;justify-content:center;align-items:center;transition:all var(--el-transition-duration);margin-left:8px}.el-input__validateIcon{pointer-events:none}.el-input.is-active .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-color,) inset}.el-input.is-disabled{cursor:not-allowed}.el-input.is-disabled .el-input__wrapper{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset}.el-input.is-disabled .el-input__inner{color:var(--el-disabled-text-color);-webkit-text-fill-color:var(--el-disabled-text-color);cursor:not-allowed}.el-input.is-disabled .el-input__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner::placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-input.is-exceed .el-input__wrapper{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-input.is-exceed .el-input__suffix .el-input__count{color:var(--el-color-danger)}.el-input--large{--el-input-height:var(--el-component-size-large);font-size:14px}.el-input--large .el-input__wrapper{padding:1px 15px}.el-input--large .el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 40px) - 2px)}.el-input--small{--el-input-height:var(--el-component-size-small);font-size:12px}.el-input--small .el-input__wrapper{padding:1px 7px}.el-input--small .el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 24px) - 2px)}.el-input-group{display:inline-flex;width:100%;align-items:stretch}.el-input-group__append,.el-input-group__prepend{background-color:var(--el-fill-color-light);color:var(--el-color-info);position:relative;display:inline-flex;align-items:center;justify-content:center;min-height:100%;border-radius:var(--el-input-border-radius);padding:0 20px;white-space:nowrap}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:0}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;margin:0 -20px}.el-input-group__append button.el-button,.el-input-group__append button.el-button:hover,.el-input-group__append div.el-select .el-input__wrapper,.el-input-group__append div.el-select:hover .el-input__wrapper,.el-input-group__prepend button.el-button,.el-input-group__prepend button.el-button:hover,.el-input-group__prepend div.el-select .el-input__wrapper,.el-input-group__prepend div.el-select:hover .el-input__wrapper{border-color:transparent;background-color:transparent;color:inherit}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group__append{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--prepend>.el-input__wrapper{border-top-left-radius:0;border-bottom-left-radius:0}.el-input-group--prepend .el-input-group__prepend .el-select .el-input .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select .el-input .el-input__wrapper{border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__wrapper{box-shadow:1px 0 0 0 var(--el-input-focus-border-color) inset,1px 0 0 0 var(--el-input-focus-border-color),0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important;z-index:2}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__wrapper:focus{outline:0;z-index:2;box-shadow:1px 0 0 0 var(--el-input-focus-border-color) inset,1px 0 0 0 var(--el-input-focus-border-color),0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important}.el-input-group--prepend .el-input-group__prepend .el-select:hover .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select:hover .el-input__wrapper{z-index:1;box-shadow:1px 0 0 0 var(--el-input-hover-border-color) inset,1px 0 0 0 var(--el-input-hover-border-color),0 1px 0 0 var(--el-input-hover-border-color) inset,0 -1px 0 0 var(--el-input-hover-border-color) inset!important}.el-input-group--append>.el-input__wrapper{border-top-right-radius:0;border-bottom-right-radius:0}.el-input-group--append .el-input-group__append .el-select .el-input .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select .el-input .el-input__wrapper{border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--append .el-input-group__append .el-select .el-input.is-focus .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select .el-input.is-focus .el-input__wrapper{z-index:2;box-shadow:-1px 0 0 0 var(--el-input-focus-border-color),-1px 0 0 0 var(--el-input-focus-border-color) inset,0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important}.el-input-group--append .el-input-group__append .el-select:hover .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select:hover .el-input__wrapper{z-index:1;box-shadow:-1px 0 0 0 var(--el-input-hover-border-color),-1px 0 0 0 var(--el-input-hover-border-color) inset,0 1px 0 0 var(--el-input-hover-border-color) inset,0 -1px 0 0 var(--el-input-hover-border-color) inset!important}.el-tag{--el-tag-font-size:12px;--el-tag-border-radius:4px;--el-tag-border-radius-rounded:9999px}.el-tag{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary);--el-tag-text-color:var(--el-color-primary);background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);color:var(--el-tag-text-color);display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:24px;padding:0 9px;font-size:var(--el-tag-font-size);line-height:1;border-width:1px;border-style:solid;border-radius:var(--el-tag-border-radius);box-sizing:border-box;white-space:nowrap;--el-icon-size:14px}.el-tag.el-tag--primary{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-bg-color:var(--el-color-success-light-9);--el-tag-border-color:var(--el-color-success-light-8);--el-tag-hover-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-bg-color:var(--el-color-warning-light-9);--el-tag-border-color:var(--el-color-warning-light-8);--el-tag-hover-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-bg-color:var(--el-color-danger-light-9);--el-tag-border-color:var(--el-color-danger-light-8);--el-tag-hover-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-bg-color:var(--el-color-error-light-9);--el-tag-border-color:var(--el-color-error-light-8);--el-tag-hover-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-bg-color:var(--el-color-info-light-9);--el-tag-border-color:var(--el-color-info-light-8);--el-tag-hover-color:var(--el-color-info)}.el-tag.el-tag--primary{--el-tag-text-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-text-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-text-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-text-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-text-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-text-color:var(--el-color-info)}.el-tag.is-hit{border-color:var(--el-color-primary)}.el-tag.is-round{border-radius:var(--el-tag-border-radius-rounded)}.el-tag .el-tag__close{color:var(--el-tag-text-color)}.el-tag .el-tag__close:hover{color:var(--el-color-white);background-color:var(--el-tag-hover-color)}.el-tag .el-icon{border-radius:50%;cursor:pointer;font-size:calc(var(--el-icon-size) - 2px);height:var(--el-icon-size);width:var(--el-icon-size)}.el-tag .el-tag__close{margin-left:6px}.el-tag--dark{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3);--el-tag-text-color:var(--el-color-white)}.el-tag--dark.el-tag--primary{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3)}.el-tag--dark.el-tag--success{--el-tag-bg-color:var(--el-color-success);--el-tag-border-color:var(--el-color-success);--el-tag-hover-color:var(--el-color-success-light-3)}.el-tag--dark.el-tag--warning{--el-tag-bg-color:var(--el-color-warning);--el-tag-border-color:var(--el-color-warning);--el-tag-hover-color:var(--el-color-warning-light-3)}.el-tag--dark.el-tag--danger{--el-tag-bg-color:var(--el-color-danger);--el-tag-border-color:var(--el-color-danger);--el-tag-hover-color:var(--el-color-danger-light-3)}.el-tag--dark.el-tag--error{--el-tag-bg-color:var(--el-color-error);--el-tag-border-color:var(--el-color-error);--el-tag-hover-color:var(--el-color-error-light-3)}.el-tag--dark.el-tag--info{--el-tag-bg-color:var(--el-color-info);--el-tag-border-color:var(--el-color-info);--el-tag-hover-color:var(--el-color-info-light-3)}.el-tag--dark.el-tag--primary,.el-tag--dark.el-tag--success,.el-tag--dark.el-tag--warning,.el-tag--dark.el-tag--danger,.el-tag--dark.el-tag--error,.el-tag--dark.el-tag--info{--el-tag-text-color:var(--el-color-white)}.el-tag--plain{--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary);--el-tag-bg-color:var(--el-fill-color-blank)}.el-tag--plain.el-tag--primary{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary)}.el-tag--plain.el-tag--success{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-success-light-5);--el-tag-hover-color:var(--el-color-success)}.el-tag--plain.el-tag--warning{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-warning-light-5);--el-tag-hover-color:var(--el-color-warning)}.el-tag--plain.el-tag--danger{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-danger-light-5);--el-tag-hover-color:var(--el-color-danger)}.el-tag--plain.el-tag--error{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-error-light-5);--el-tag-hover-color:var(--el-color-error)}.el-tag--plain.el-tag--info{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-info-light-5);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-closable{padding-right:5px}.el-tag--large{padding:0 11px;height:32px;--el-icon-size:16px}.el-tag--large .el-tag__close{margin-left:8px}.el-tag--large.is-closable{padding-right:7px}.el-tag--small{padding:0 7px;height:20px;--el-icon-size:12px}.el-tag--small .el-tag__close{margin-left:4px}.el-tag--small.is-closable{padding-right:3px}.el-tag--small .el-icon-close{transform:scale(.8)}.el-tag.el-tag--primary.is-hit{border-color:var(--el-color-primary)}.el-tag.el-tag--success.is-hit{border-color:var(--el-color-success)}.el-tag.el-tag--warning.is-hit{border-color:var(--el-color-warning)}.el-tag.el-tag--danger.is-hit{border-color:var(--el-color-danger)}.el-tag.el-tag--error.is-hit{border-color:var(--el-color-error)}.el-tag.el-tag--info.is-hit{border-color:var(--el-color-info)}.el-select-dropdown__item{font-size:var(--el-font-size-base);padding:0 32px 0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--el-text-color-regular);height:34px;line-height:34px;box-sizing:border-box;cursor:pointer}.el-select-dropdown__item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown__item.hover,.el-select-dropdown__item:hover{background-color:var(--el-fill-color-light)}.el-select-dropdown__item.selected{color:var(--el-color-primary);font-weight:700}.el-select-group{margin:0;padding:0}.el-select-group__wrap{position:relative;list-style:none;margin:0;padding:0}.el-select-group__wrap:not(:last-of-type){padding-bottom:24px}.el-select-group__wrap:not(:last-of-type):after{content:\"\";position:absolute;display:block;left:20px;right:20px;bottom:12px;height:1px;background:var(--el-border-color-light)}.el-select-group__split-dash{position:absolute;left:20px;right:20px;height:1px;background:var(--el-border-color-light)}.el-select-group__title{padding-left:20px;font-size:12px;color:var(--el-color-info);line-height:30px}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-scrollbar{--el-scrollbar-opacity:.3;--el-scrollbar-bg-color:var(--el-text-color-secondary);--el-scrollbar-hover-opacity:.5;--el-scrollbar-hover-bg-color:var(--el-text-color-secondary)}.el-scrollbar{overflow:hidden;position:relative;height:100%}.el-scrollbar__wrap{overflow:auto;height:100%}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{display:none}.el-scrollbar__thumb{position:relative;display:block;width:0;height:0;cursor:pointer;border-radius:inherit;background-color:var(--el-scrollbar-bg-color,var(--el-text-color-secondary));transition:var(--el-transition-duration) background-color;opacity:var(--el-scrollbar-opacity,.3)}.el-scrollbar__thumb:hover{background-color:var(--el-scrollbar-hover-bg-color,var(--el-text-color-secondary));opacity:var(--el-scrollbar-hover-opacity,.5)}.el-scrollbar__bar{position:absolute;right:2px;bottom:2px;z-index:1;border-radius:4px}.el-scrollbar__bar.is-vertical{width:6px;top:2px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-scrollbar-fade-enter-active{transition:opacity .34s ease-out}.el-scrollbar-fade-leave-active{transition:opacity .12s ease-out}.el-scrollbar-fade-enter-from,.el-scrollbar-fade-leave-active{opacity:0}.el-popper{--el-popper-border-radius:var(--el-popover-border-radius, 4px)}.el-popper{position:absolute;border-radius:var(--el-popper-border-radius);padding:5px 11px;z-index:2000;font-size:12px;line-height:20px;min-width:10px;word-wrap:break-word;visibility:visible}.el-popper.is-dark{color:var(--el-bg-color);background:var(--el-text-color-primary);border:1px solid var(--el-text-color-primary)}.el-popper.is-dark .el-popper__arrow:before{border:1px solid var(--el-text-color-primary);background:var(--el-text-color-primary);right:0}.el-popper.is-light{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light)}.el-popper.is-light .el-popper__arrow:before{border:1px solid var(--el-border-color-light);background:var(--el-bg-color-overlay);right:0}.el-popper.is-pure{padding:0}.el-popper__arrow{position:absolute;width:10px;height:10px;z-index:-1}.el-popper__arrow:before{position:absolute;width:10px;height:10px;z-index:-1;content:\" \";transform:rotate(45deg);background:var(--el-text-color-primary);box-sizing:border-box}.el-popper[data-popper-placement^=top]>.el-popper__arrow{bottom:-5px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-bottom-right-radius:2px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow{top:-5px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-top-left-radius:2px}.el-popper[data-popper-placement^=left]>.el-popper__arrow{right:-5px}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-top-right-radius:2px}.el-popper[data-popper-placement^=right]>.el-popper__arrow{left:-5px}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-bottom-left-radius:2px}.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent!important;border-left-color:transparent!important}.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent!important;border-right-color:transparent!important}.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent!important;border-bottom-color:transparent!important}.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent!important;border-top-color:transparent!important}.el-select-dropdown{z-index:calc(var(--el-index-top) + 1);border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected{color:var(--el-color-primary);background-color:var(--el-bg-color-overlay)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover{background-color:var(--el-fill-color-light)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected:after{content:\"\";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:center;background-color:var(--el-color-primary);-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask-size:100% 100%;-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.is-disabled:after{background-color:var(--el-text-color-disabled)}.el-select-dropdown .el-select-dropdown__option-item.is-selected:after{content:\"\";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:center;background-color:var(--el-color-primary);-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask-size:100% 100%;-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown .el-select-dropdown__item.is-disabled:hover{background-color:unset}.el-select-dropdown .el-select-dropdown__item.is-disabled.selected{color:var(--el-text-color-disabled)}.el-select-dropdown__empty{padding:10px 0;margin:0;text-align:center;color:var(--el-text-color-secondary);font-size:var(--el-select-font-size)}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{list-style:none;padding:6px 0;margin:0;box-sizing:border-box}.el-select-dropdown__header{padding:10px;border-bottom:1px solid var(--el-border-color-light)}.el-select-dropdown__footer{padding:10px;border-top:1px solid var(--el-border-color-light)}.el-select{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px}.el-select{display:inline-block;position:relative;vertical-align:middle;line-height:32px}.el-select__popper.el-popper{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light);box-shadow:var(--el-box-shadow-light)}.el-select__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-select__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent;border-left-color:transparent}.el-select__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-select__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent;border-bottom-color:transparent}.el-select__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-select .el-select-tags-wrapper.has-prefix{margin-left:6px}.el-select--large{line-height:40px}.el-select--large .el-select-tags-wrapper.has-prefix{margin-left:8px}.el-select--small{line-height:24px}.el-select--small .el-select-tags-wrapper.has-prefix{margin-left:4px}.el-select .el-select__tags>span{display:inline-block}.el-select:hover:not(.el-select--disabled) .el-input__wrapper{box-shadow:0 0 0 1px var(--el-select-border-color-hover) inset}.el-select .el-select__tags-text{display:inline-block;line-height:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-select .el-input__wrapper{cursor:pointer}.el-select .el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-select-input-focus-border-color) inset!important}.el-select .el-input__inner{cursor:pointer}.el-select .el-input{display:flex}.el-select .el-input .el-select__caret{color:var(--el-select-input-color);font-size:var(--el-select-input-font-size);transition:transform var(--el-transition-duration);transform:rotate(0);cursor:pointer}.el-select .el-input .el-select__caret.is-reverse{transform:rotate(-180deg)}.el-select .el-input .el-select__caret.is-show-close{font-size:var(--el-select-font-size);text-align:center;transform:rotate(0);border-radius:var(--el-border-radius-circle);color:var(--el-select-input-color);transition:var(--el-transition-color)}.el-select .el-input .el-select__caret.is-show-close:hover{color:var(--el-select-close-hover-color)}.el-select .el-input .el-select__caret.el-icon{position:relative;height:inherit;z-index:2}.el-select .el-input.is-disabled .el-input__wrapper{cursor:not-allowed}.el-select .el-input.is-disabled .el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-select-disabled-border) inset}.el-select .el-input.is-disabled .el-input__inner,.el-select .el-input.is-disabled .el-select__caret{cursor:not-allowed}.el-select .el-input.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-select-input-focus-border-color) inset!important}.el-select__input{border:none;outline:0;padding:0;margin-left:15px;color:var(--el-select-multiple-input-color);font-size:var(--el-select-font-size);-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;background-color:transparent}.el-select__input.is-disabled{cursor:not-allowed}.el-select__input--iOS{position:absolute;left:0;top:0;z-index:6}.el-select__input.is-small{height:14px}.el-select__close{cursor:pointer;position:absolute;top:8px;z-index:var(--el-index-top);right:25px;color:var(--el-select-input-color);line-height:18px;font-size:var(--el-select-input-font-size)}.el-select__close:hover{color:var(--el-select-close-hover-color)}.el-select__tags{position:absolute;line-height:normal;top:50%;transform:translateY(-50%);white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap;cursor:pointer}.el-select__tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select__tags .el-tag:last-child{margin-right:0}.el-select__tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select__tags .el-tag .el-icon-close:before{display:block;transform:translateY(.5px)}.el-select__tags .el-tag--info{background-color:var(--el-fill-color)}.el-select__tags.is-disabled{cursor:not-allowed}.el-select__collapse-tags{white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap;cursor:pointer}.el-select__collapse-tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select__collapse-tags .el-tag:last-child{margin-right:0}.el-select__collapse-tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select__collapse-tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select__collapse-tags .el-tag .el-icon-close:before{display:block;transform:translateY(.5px)}.el-select__collapse-tags .el-tag--info{background-color:var(--el-fill-color)}.el-select__collapse-tag{line-height:inherit;height:inherit;display:flex}.el-switch{--el-switch-on-color:var(--el-color-primary);--el-switch-off-color:var(--el-border-color)}.el-switch{display:inline-flex;align-items:center;position:relative;font-size:14px;line-height:20px;height:32px;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{transition:var(--el-transition-duration-fast);height:20px;display:inline-block;font-size:14px;font-weight:500;cursor:pointer;vertical-align:middle;color:var(--el-text-color-primary)}.el-switch__label.is-active{color:var(--el-color-primary)}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{line-height:1;font-size:14px;display:inline-block}.el-switch__label .el-icon{height:inherit}.el-switch__label .el-icon svg{vertical-align:middle}.el-switch__input{position:absolute;width:0;height:0;opacity:0;margin:0}.el-switch__input:focus-visible~.el-switch__core{outline:2px solid var(--el-switch-on-color);outline-offset:1px}.el-switch__core{display:inline-flex;position:relative;align-items:center;min-width:40px;height:20px;border:1px solid var(--el-switch-border-color,var(--el-switch-off-color));outline:0;border-radius:10px;box-sizing:border-box;background:var(--el-switch-off-color);cursor:pointer;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration)}.el-switch__core .el-switch__inner{width:100%;transition:all var(--el-transition-duration);height:16px;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:0 4px 0 18px}.el-switch__core .el-switch__inner .is-icon,.el-switch__core .el-switch__inner .is-text{font-size:12px;color:var(--el-color-white);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-switch__core .el-switch__action{position:absolute;left:1px;border-radius:var(--el-border-radius-circle);transition:all var(--el-transition-duration);width:16px;height:16px;background-color:var(--el-color-white);display:flex;justify-content:center;align-items:center;color:var(--el-switch-off-color)}.el-switch.is-checked .el-switch__core{border-color:var(--el-switch-border-color,var(--el-switch-on-color));background-color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__action{left:calc(100% - 17px);color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__inner{padding:0 18px 0 4px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter-from,.el-switch .label-fade-leave-active{opacity:0}.el-switch--large{font-size:14px;line-height:24px;height:40px}.el-switch--large .el-switch__label{height:24px;font-size:14px}.el-switch--large .el-switch__label *{font-size:14px}.el-switch--large .el-switch__core{min-width:50px;height:24px;border-radius:12px}.el-switch--large .el-switch__core .el-switch__inner{height:20px;padding:0 6px 0 22px}.el-switch--large .el-switch__core .el-switch__action{width:20px;height:20px}.el-switch--large.is-checked .el-switch__core .el-switch__action{left:calc(100% - 21px)}.el-switch--large.is-checked .el-switch__core .el-switch__inner{padding:0 22px 0 6px}.el-switch--small{font-size:12px;line-height:16px;height:24px}.el-switch--small .el-switch__label{height:16px;font-size:12px}.el-switch--small .el-switch__label *{font-size:12px}.el-switch--small .el-switch__core{min-width:30px;height:16px;border-radius:8px}.el-switch--small .el-switch__core .el-switch__inner{height:12px;padding:0 2px 0 14px}.el-switch--small .el-switch__core .el-switch__action{width:12px;height:12px}.el-switch--small.is-checked .el-switch__core .el-switch__action{left:calc(100% - 13px)}.el-switch--small.is-checked .el-switch__core .el-switch__inner{padding:0 14px 0 2px}.el-button{--el-button-font-weight:var(--el-font-weight-primary);--el-button-border-color:var(--el-border-color);--el-button-bg-color:var(--el-fill-color-blank);--el-button-text-color:var(--el-text-color-regular);--el-button-disabled-text-color:var(--el-disabled-text-color);--el-button-disabled-bg-color:var(--el-fill-color-blank);--el-button-disabled-border-color:var(--el-border-color-light);--el-button-divide-border-color:rgba(255, 255, 255, .5);--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-color-primary-light-9);--el-button-hover-border-color:var(--el-color-primary-light-7);--el-button-active-text-color:var(--el-button-hover-text-color);--el-button-active-border-color:var(--el-color-primary);--el-button-active-bg-color:var(--el-button-hover-bg-color);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-hover-link-text-color:var(--el-color-info);--el-button-active-color:var(--el-text-color-primary)}.el-button{display:inline-flex;justify-content:center;align-items:center;line-height:1;height:32px;white-space:nowrap;cursor:pointer;color:var(--el-button-text-color);text-align:center;box-sizing:border-box;outline:0;transition:.1s;font-weight:var(--el-button-font-weight);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-webkit-appearance:none;background-color:var(--el-button-bg-color);border:var(--el-border);border-color:var(--el-button-border-color);padding:8px 15px;font-size:var(--el-font-size-base);border-radius:var(--el-border-radius-base)}.el-button:focus,.el-button:hover{color:var(--el-button-hover-text-color);border-color:var(--el-button-hover-border-color);background-color:var(--el-button-hover-bg-color);outline:0}.el-button:active{color:var(--el-button-active-text-color);border-color:var(--el-button-active-border-color);background-color:var(--el-button-active-bg-color);outline:0}.el-button:focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px}.el-button>span{display:inline-flex;align-items:center}.el-button+.el-button{margin-left:12px}.el-button.is-round{padding:8px 15px}.el-button::-moz-focus-inner{border:0}.el-button [class*=el-icon]+span{margin-left:6px}.el-button [class*=el-icon] svg{vertical-align:bottom}.el-button.is-plain{--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-fill-color-blank);--el-button-hover-border-color:var(--el-color-primary)}.el-button.is-active{color:var(--el-button-active-text-color);border-color:var(--el-button-active-border-color);background-color:var(--el-button-active-bg-color);outline:0}.el-button.is-disabled,.el-button.is-disabled:focus,.el-button.is-disabled:hover{color:var(--el-button-disabled-text-color);cursor:not-allowed;background-image:none;background-color:var(--el-button-disabled-bg-color);border-color:var(--el-button-disabled-border-color)}.el-button.is-loading{position:relative;pointer-events:none}.el-button.is-loading:before{z-index:1;pointer-events:none;content:\"\";position:absolute;left:-1px;top:-1px;right:-1px;bottom:-1px;border-radius:inherit;background-color:var(--el-mask-color-extra-light)}.el-button.is-round{border-radius:var(--el-border-radius-round)}.el-button.is-circle{width:32px;border-radius:50%;padding:8px}.el-button.is-text{color:var(--el-button-text-color);border:0 solid transparent;background-color:transparent}.el-button.is-text.is-disabled{color:var(--el-button-disabled-text-color);background-color:transparent!important}.el-button.is-text:not(.is-disabled):focus,.el-button.is-text:not(.is-disabled):hover{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled):focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px}.el-button.is-text:not(.is-disabled):active{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled).is-has-bg:focus,.el-button.is-text:not(.is-disabled).is-has-bg:hover{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg:active{background-color:var(--el-fill-color-dark)}.el-button__text--expand{letter-spacing:.3em;margin-right:-.3em}.el-button.is-link{border-color:transparent;color:var(--el-button-text-color);background:0 0;padding:2px;height:auto}.el-button.is-link:focus,.el-button.is-link:hover{color:var(--el-button-hover-link-text-color)}.el-button.is-link.is-disabled{color:var(--el-button-disabled-text-color);background-color:transparent!important;border-color:transparent!important}.el-button.is-link:not(.is-disabled):focus,.el-button.is-link:not(.is-disabled):hover{border-color:transparent;background-color:transparent}.el-button.is-link:not(.is-disabled):active{color:var(--el-button-active-color);border-color:transparent;background-color:transparent}.el-button--text{border-color:transparent;background:0 0;color:var(--el-color-primary);padding-left:0;padding-right:0}.el-button--text.is-disabled{color:var(--el-button-disabled-text-color);background-color:transparent!important;border-color:transparent!important}.el-button--text:not(.is-disabled):focus,.el-button--text:not(.is-disabled):hover{color:var(--el-color-primary-light-3);border-color:transparent;background-color:transparent}.el-button--text:not(.is-disabled):active{color:var(--el-color-primary-dark-2);border-color:transparent;background-color:transparent}.el-button__link--expand{letter-spacing:.3em;margin-right:-.3em}.el-button--primary{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-primary);--el-button-border-color:var(--el-color-primary);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-active-color:var(--el-color-primary-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-primary-light-5);--el-button-hover-bg-color:var(--el-color-primary-light-3);--el-button-hover-border-color:var(--el-color-primary-light-3);--el-button-active-bg-color:var(--el-color-primary-dark-2);--el-button-active-border-color:var(--el-color-primary-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-primary-light-5);--el-button-disabled-border-color:var(--el-color-primary-light-5)}.el-button--primary.is-link,.el-button--primary.is-plain,.el-button--primary.is-text{--el-button-text-color:var(--el-color-primary);--el-button-bg-color:var(--el-color-primary-light-9);--el-button-border-color:var(--el-color-primary-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-primary);--el-button-hover-border-color:var(--el-color-primary);--el-button-active-text-color:var(--el-color-white)}.el-button--primary.is-link.is-disabled,.el-button--primary.is-link.is-disabled:active,.el-button--primary.is-link.is-disabled:focus,.el-button--primary.is-link.is-disabled:hover,.el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover,.el-button--primary.is-text.is-disabled,.el-button--primary.is-text.is-disabled:active,.el-button--primary.is-text.is-disabled:focus,.el-button--primary.is-text.is-disabled:hover{color:var(--el-color-primary-light-5);background-color:var(--el-color-primary-light-9);border-color:var(--el-color-primary-light-8)}.el-button--success{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-success);--el-button-border-color:var(--el-color-success);--el-button-outline-color:var(--el-color-success-light-5);--el-button-active-color:var(--el-color-success-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-success-light-5);--el-button-hover-bg-color:var(--el-color-success-light-3);--el-button-hover-border-color:var(--el-color-success-light-3);--el-button-active-bg-color:var(--el-color-success-dark-2);--el-button-active-border-color:var(--el-color-success-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-success-light-5);--el-button-disabled-border-color:var(--el-color-success-light-5)}.el-button--success.is-link,.el-button--success.is-plain,.el-button--success.is-text{--el-button-text-color:var(--el-color-success);--el-button-bg-color:var(--el-color-success-light-9);--el-button-border-color:var(--el-color-success-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-success);--el-button-hover-border-color:var(--el-color-success);--el-button-active-text-color:var(--el-color-white)}.el-button--success.is-link.is-disabled,.el-button--success.is-link.is-disabled:active,.el-button--success.is-link.is-disabled:focus,.el-button--success.is-link.is-disabled:hover,.el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover,.el-button--success.is-text.is-disabled,.el-button--success.is-text.is-disabled:active,.el-button--success.is-text.is-disabled:focus,.el-button--success.is-text.is-disabled:hover{color:var(--el-color-success-light-5);background-color:var(--el-color-success-light-9);border-color:var(--el-color-success-light-8)}.el-button--warning{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-warning);--el-button-border-color:var(--el-color-warning);--el-button-outline-color:var(--el-color-warning-light-5);--el-button-active-color:var(--el-color-warning-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-warning-light-5);--el-button-hover-bg-color:var(--el-color-warning-light-3);--el-button-hover-border-color:var(--el-color-warning-light-3);--el-button-active-bg-color:var(--el-color-warning-dark-2);--el-button-active-border-color:var(--el-color-warning-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-warning-light-5);--el-button-disabled-border-color:var(--el-color-warning-light-5)}.el-button--warning.is-link,.el-button--warning.is-plain,.el-button--warning.is-text{--el-button-text-color:var(--el-color-warning);--el-button-bg-color:var(--el-color-warning-light-9);--el-button-border-color:var(--el-color-warning-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-warning);--el-button-hover-border-color:var(--el-color-warning);--el-button-active-text-color:var(--el-color-white)}.el-button--warning.is-link.is-disabled,.el-button--warning.is-link.is-disabled:active,.el-button--warning.is-link.is-disabled:focus,.el-button--warning.is-link.is-disabled:hover,.el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover,.el-button--warning.is-text.is-disabled,.el-button--warning.is-text.is-disabled:active,.el-button--warning.is-text.is-disabled:focus,.el-button--warning.is-text.is-disabled:hover{color:var(--el-color-warning-light-5);background-color:var(--el-color-warning-light-9);border-color:var(--el-color-warning-light-8)}.el-button--danger{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-danger);--el-button-border-color:var(--el-color-danger);--el-button-outline-color:var(--el-color-danger-light-5);--el-button-active-color:var(--el-color-danger-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-danger-light-5);--el-button-hover-bg-color:var(--el-color-danger-light-3);--el-button-hover-border-color:var(--el-color-danger-light-3);--el-button-active-bg-color:var(--el-color-danger-dark-2);--el-button-active-border-color:var(--el-color-danger-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-danger-light-5);--el-button-disabled-border-color:var(--el-color-danger-light-5)}.el-button--danger.is-link,.el-button--danger.is-plain,.el-button--danger.is-text{--el-button-text-color:var(--el-color-danger);--el-button-bg-color:var(--el-color-danger-light-9);--el-button-border-color:var(--el-color-danger-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-danger);--el-button-hover-border-color:var(--el-color-danger);--el-button-active-text-color:var(--el-color-white)}.el-button--danger.is-link.is-disabled,.el-button--danger.is-link.is-disabled:active,.el-button--danger.is-link.is-disabled:focus,.el-button--danger.is-link.is-disabled:hover,.el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover,.el-button--danger.is-text.is-disabled,.el-button--danger.is-text.is-disabled:active,.el-button--danger.is-text.is-disabled:focus,.el-button--danger.is-text.is-disabled:hover{color:var(--el-color-danger-light-5);background-color:var(--el-color-danger-light-9);border-color:var(--el-color-danger-light-8)}.el-button--info{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-info);--el-button-border-color:var(--el-color-info);--el-button-outline-color:var(--el-color-info-light-5);--el-button-active-color:var(--el-color-info-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-info-light-5);--el-button-hover-bg-color:var(--el-color-info-light-3);--el-button-hover-border-color:var(--el-color-info-light-3);--el-button-active-bg-color:var(--el-color-info-dark-2);--el-button-active-border-color:var(--el-color-info-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-info-light-5);--el-button-disabled-border-color:var(--el-color-info-light-5)}.el-button--info.is-link,.el-button--info.is-plain,.el-button--info.is-text{--el-button-text-color:var(--el-color-info);--el-button-bg-color:var(--el-color-info-light-9);--el-button-border-color:var(--el-color-info-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-info);--el-button-hover-border-color:var(--el-color-info);--el-button-active-text-color:var(--el-color-white)}.el-button--info.is-link.is-disabled,.el-button--info.is-link.is-disabled:active,.el-button--info.is-link.is-disabled:focus,.el-button--info.is-link.is-disabled:hover,.el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover,.el-button--info.is-text.is-disabled,.el-button--info.is-text.is-disabled:active,.el-button--info.is-text.is-disabled:focus,.el-button--info.is-text.is-disabled:hover{color:var(--el-color-info-light-5);background-color:var(--el-color-info-light-9);border-color:var(--el-color-info-light-8)}.el-button--large{--el-button-size:40px;height:var(--el-button-size);padding:12px 19px;font-size:var(--el-font-size-base);border-radius:var(--el-border-radius-base)}.el-button--large [class*=el-icon]+span{margin-left:8px}.el-button--large.is-round{padding:12px 19px}.el-button--large.is-circle{width:var(--el-button-size);padding:12px}.el-button--small{--el-button-size:24px;height:var(--el-button-size);padding:5px 11px;font-size:12px;border-radius:calc(var(--el-border-radius-base) - 1px)}.el-button--small [class*=el-icon]+span{margin-left:4px}.el-button--small.is-round{padding:5px 11px}.el-button--small.is-circle{width:var(--el-button-size);padding:5px}.login-page[data-v-3e3da1dd]{height:100vh;background-color:#fff}.login-page .page[data-v-3e3da1dd]{height:100%}.login-page .page .title[data-v-3e3da1dd]{padding:10px;font-weight:700;font-size:24px;margin-left:10%}.login-page .page .main[data-v-3e3da1dd]{height:100%}.login-page .page .main .mapcontext[data-v-3e3da1dd]{height:100%;padding:0}.login-page .page .main .aside[data-v-3e3da1dd]{text-align:center;padding:0;margin-top:15px}.login-page .page .main .aside .el-input__wrapper[data-v-3e3da1dd]{max-width:100px}.map-container[data-v-3e3da1dd]{box-sizing:border-box;height:100%}.ol-popup[data-v-3e3da1dd]{position:absolute;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.2);padding:15px;border-radius:10px;border:1px solid #cccccc;bottom:12px;left:-50px;min-width:280px}.ol-popup[data-v-3e3da1dd]:before,.ol-popup[data-v-3e3da1dd]:after{top:100%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}.ol-popup[data-v-3e3da1dd]:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup[data-v-3e3da1dd]:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer[data-v-3e3da1dd]{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer[data-v-3e3da1dd]:after{content:\"✖\"}\n",document.head.appendChild(fe);const me=(e,t,{checkForDefaultPrevented:i=!0}={})=>n=>{const r=null==e?void 0:e(n);if(!1===i||!r)return null==t?void 0:t(n)};var ve;const _e="undefined"!=typeof window,ye=e=>"string"==typeof e,be=()=>{},xe=_e&&(null==(ve=null==window?void 0:window.navigator)?void 0:ve.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function we(e){return"function"==typeof e?e():r(e)}function Ce(e){return!!i()&&(n(e),!0)}function Se(e){var t;const i=we(e);return null!=(t=null==i?void 0:i.$el)?t:i}const Ee=_e?window:void 0;function Te(...e){let t,i,n,r;if(ye(e[0])||Array.isArray(e[0])?([i,n,r]=e,t=Ee):[t,i,n,r]=e,!t)return be;Array.isArray(i)||(i=[i]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach((e=>e())),o.length=0},a=l((()=>[Se(t),we(r)]),(([e,t])=>{s(),e&&o.push(...i.flatMap((i=>n.map((n=>((e,t,i,n)=>(e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)))(e,i,n,t))))))}),{immediate:!0,flush:"post"}),c=()=>{a(),s()};return Ce(c),c}let ke=!1;function Ie(e,t=!1){const i=c(),n=()=>i.value=Boolean(e());return n(),function(e,t=!0){o()?s(e):t?e():a(e)}(n,t),i}const Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Me="__vueuse_ssr_handlers__";Re[Me]=Re[Me]||{};var Pe,Le,Oe=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;function De(e,t,i={}){const n=i,{window:r=Ee}=n,o=((e,t)=>{var i={};for(var n in e)Fe.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&Oe)for(var n of Oe(e))t.indexOf(n)<0&&Ae.call(e,n)&&(i[n]=e[n]);return i})(n,["window"]);let s;const a=Ie((()=>r&&"ResizeObserver"in r)),c=()=>{s&&(s.disconnect(),s=void 0)},h=l((()=>Se(e)),(e=>{c(),a.value&&r&&e&&(s=new ResizeObserver(t),s.observe(e,o))}),{immediate:!0,flush:"post"}),u=()=>{c(),h()};return Ce(u),{isSupported:a,stop:u}}(Le=Pe||(Pe={})).UP="UP",Le.RIGHT="RIGHT",Le.DOWN="DOWN",Le.LEFT="LEFT",Le.NONE="NONE";var ze=Object.defineProperty,Ne=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,Be=(e,t,i)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;((e,t)=>{for(var i in t||(t={}))je.call(t,i)&&Be(e,i,t[i]);if(Ne)for(var i of Ne(t))Ge.call(t,i)&&Be(e,i,t[i])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const We="object"==typeof global&&global&&global.Object===Object&&global;var Ve="object"==typeof self&&self&&self.Object===Object&&self;const Ke=We||Ve||Function("return this")(),Xe=Ke.Symbol;var Ye=Object.prototype,He=Ye.hasOwnProperty,qe=Ye.toString,$e=Xe?Xe.toStringTag:void 0,Ze=Object.prototype.toString,Ue="[object Null]",Je="[object Undefined]",Qe=Xe?Xe.toStringTag:void 0;function et(e){return null==e?void 0===e?Je:Ue:Qe&&Qe in Object(e)?function(e){var t=He.call(e,$e),i=e[$e];try{e[$e]=void 0;var n=!0}catch(o){}var r=qe.call(e);return n&&(t?e[$e]=i:delete e[$e]),r}(e):function(e){return Ze.call(e)}(e)}function tt(e){return null!=e&&"object"==typeof e}var it="[object Symbol]";function nt(e){return"symbol"==typeof e||tt(e)&&et(e)==it}const rt=Array.isArray;var ot=1/0,st=Xe?Xe.prototype:void 0,at=st?st.toString:void 0;function lt(e){if("string"==typeof e)return e;if(rt(e))return function(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}(e,lt)+"";if(nt(e))return at?at.call(e):"";var t=e+"";return"0"==t&&1/e==-ot?"-0":t}var ct=/\s/,ht=/^\s+/;function ut(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ct.test(e.charAt(t)););return t}(e)+1).replace(ht,""):e}function dt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var pt=NaN,gt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,vt=parseInt;function _t(e){if("number"==typeof e)return e;if(nt(e))return pt;if(dt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=dt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ut(e);var i=ft.test(e);return i||mt.test(e)?vt(e.slice(2),i?2:8):gt.test(e)?pt:+e}var yt=1/0,bt=17976931348623157e292;function xt(e){var t=function(e){return e?(e=_t(e))===yt||e===-yt?(e<0?-1:1)*bt:e==e?e:0:0===e?e:0}(e),i=t%1;return t==t?i?t-i:t:0}function wt(e){return e}var Ct="[object AsyncFunction]",St="[object Function]",Et="[object GeneratorFunction]",Tt="[object Proxy]";function kt(e){if(!dt(e))return!1;var t=et(e);return t==St||t==Et||t==Ct||t==Tt}const It=Ke["__core-js_shared__"];var Rt,Mt=(Rt=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+Rt:"",Pt=Function.prototype.toString;function Lt(e){if(null!=e){try{return Pt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Ot=/^\[object .+?Constructor\]$/,Ft=Function.prototype,At=Object.prototype,Dt=Ft.toString,zt=At.hasOwnProperty,Nt=RegExp("^"+Dt.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jt(e){return!(!dt(e)||(t=e,Mt&&Mt in t))&&(kt(e)?Nt:Ot).test(Lt(e));var t}function Gt(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return jt(i)?i:void 0}const Bt=Gt(Ke,"WeakMap");var Wt=9007199254740991,Vt=/^(?:0|[1-9]\d*)$/;function Kt(e,t){var i=typeof e;return!!(t=null==t?Wt:t)&&("number"==i||"symbol"!=i&&Vt.test(e))&&e>-1&&e%1==0&&e<t}function Xt(e,t){return e===t||e!=e&&t!=t}var Yt=9007199254740991;function Ht(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Yt}var qt=Object.prototype;function $t(e){return tt(e)&&"[object Arguments]"==et(e)}var Zt=Object.prototype,Ut=Zt.hasOwnProperty,Jt=Zt.propertyIsEnumerable,Qt=$t(function(){return arguments}())?$t:function(e){return tt(e)&&Ut.call(e,"callee")&&!Jt.call(e,"callee")};const ei=Qt;var ti="object"==typeof e&&e&&!e.nodeType&&e,ii=ti&&"object"==typeof t&&t&&!t.nodeType&&t,ni=ii&&ii.exports===ti?Ke.Buffer:void 0;const ri=(ni?ni.isBuffer:void 0)||function(){return!1};var oi={};oi["[object Float32Array]"]=oi["[object Float64Array]"]=oi["[object Int8Array]"]=oi["[object Int16Array]"]=oi["[object Int32Array]"]=oi["[object Uint8Array]"]=oi["[object Uint8ClampedArray]"]=oi["[object Uint16Array]"]=oi["[object Uint32Array]"]=!0,oi["[object Arguments]"]=oi["[object Array]"]=oi["[object ArrayBuffer]"]=oi["[object Boolean]"]=oi["[object DataView]"]=oi["[object Date]"]=oi["[object Error]"]=oi["[object Function]"]=oi["[object Map]"]=oi["[object Number]"]=oi["[object Object]"]=oi["[object RegExp]"]=oi["[object Set]"]=oi["[object String]"]=oi["[object WeakMap]"]=!1;var si,ai="object"==typeof e&&e&&!e.nodeType&&e,li=ai&&"object"==typeof t&&t&&!t.nodeType&&t,ci=li&&li.exports===ai&&We.process,hi=function(){try{var e=li&&li.require&&li.require("util").types;return e||ci&&ci.binding&&ci.binding("util")}catch(t){}}(),ui=hi&&hi.isTypedArray;const di=ui?(si=ui,function(e){return si(e)}):function(e){return tt(e)&&Ht(e.length)&&!!oi[et(e)]};var pi=Object.prototype.hasOwnProperty;function gi(e,t){var i=rt(e),n=!i&&ei(e),r=!i&&!n&&ri(e),o=!i&&!n&&!r&&di(e),s=i||n||r||o,a=s?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!pi.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Kt(c,l))||a.push(c);return a}var fi=function(e,t){return function(i){return e(t(i))}}(Object.keys,Object);const mi=fi;var vi=Object.prototype.hasOwnProperty;function _i(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||qt))return mi(e);var t,i,n=[];for(var r in Object(e))vi.call(e,r)&&"constructor"!=r&&n.push(r);return n}function yi(e){return null!=(t=e)&&Ht(t.length)&&!kt(t)?gi(e):_i(e);var t}var bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xi=/^\w*$/;function wi(e,t){if(rt(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!nt(e))||xi.test(e)||!bi.test(e)||null!=t&&e in Object(t)}const Ci=Gt(Object,"create");var Si=Object.prototype.hasOwnProperty,Ei=Object.prototype.hasOwnProperty;function Ti(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ki(e,t){for(var i=e.length;i--;)if(Xt(e[i][0],t))return i;return-1}Ti.prototype.clear=function(){this.__data__=Ci?Ci(null):{},this.size=0},Ti.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ti.prototype.get=function(e){var t=this.__data__;if(Ci){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return Si.call(t,e)?t[e]:void 0},Ti.prototype.has=function(e){var t=this.__data__;return Ci?void 0!==t[e]:Ei.call(t,e)},Ti.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ci&&void 0===t?"__lodash_hash_undefined__":t,this};var Ii=Array.prototype.splice;function Ri(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Ri.prototype.clear=function(){this.__data__=[],this.size=0},Ri.prototype.delete=function(e){var t=this.__data__,i=ki(t,e);return!(i<0||(i==t.length-1?t.pop():Ii.call(t,i,1),--this.size,0))},Ri.prototype.get=function(e){var t=this.__data__,i=ki(t,e);return i<0?void 0:t[i][1]},Ri.prototype.has=function(e){return ki(this.__data__,e)>-1},Ri.prototype.set=function(e,t){var i=this.__data__,n=ki(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};const Mi=Gt(Ke,"Map");function Pi(e,t){var i,n,r=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function Li(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Li.prototype.clear=function(){this.size=0,this.__data__={hash:new Ti,map:new(Mi||Ri),string:new Ti}},Li.prototype.delete=function(e){var t=Pi(this,e).delete(e);return this.size-=t?1:0,t},Li.prototype.get=function(e){return Pi(this,e).get(e)},Li.prototype.has=function(e){return Pi(this,e).has(e)},Li.prototype.set=function(e,t){var i=Pi(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var Oi="Expected a function";function Fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Oi);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s)||o,s};return i.cache=new(Fi.Cache||Li),i}Fi.Cache=Li;var Ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Di=/\\(\\)?/g,zi=function(e){var t=Fi(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ai,(function(e,i,n,r){t.push(n?r.replace(Di,"$1"):i||e)})),t}));const Ni=zi;function ji(e,t){return rt(e)?e:wi(e,t)?[e]:Ni(function(e){return null==e?"":lt(e)}(e))}var Gi=1/0;function Bi(e){if("string"==typeof e||nt(e))return e;var t=e+"";return"0"==t&&1/e==-Gi?"-0":t}function Wi(e,t){for(var i=0,n=(t=ji(t,e)).length;null!=e&&i<n;)e=e[Bi(t[i++])];return i&&i==n?e:void 0}function Vi(e,t,i){var n=null==e?void 0:Wi(e,t);return void 0===n?i:n}function Ki(e){var t=this.__data__=new Ri(e);this.size=t.size}Ki.prototype.clear=function(){this.__data__=new Ri,this.size=0},Ki.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Ki.prototype.get=function(e){return this.__data__.get(e)},Ki.prototype.has=function(e){return this.__data__.has(e)},Ki.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ri){var n=i.__data__;if(!Mi||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Li(n)}return i.set(e,t),this.size=i.size,this};var Xi=Object.prototype.propertyIsEnumerable,Yi=Object.getOwnPropertySymbols;const Hi=Yi?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}(Yi(e),(function(t){return Xi.call(e,t)})))}:function(){return[]};function qi(e){return function(e,t,i){var n=t(e);return rt(e)?n:function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}(n,i(e))}(e,yi,Hi)}const $i=Gt(Ke,"DataView"),Zi=Gt(Ke,"Promise"),Ui=Gt(Ke,"Set");var Ji="[object Map]",Qi="[object Promise]",en="[object Set]",tn="[object WeakMap]",nn="[object DataView]",rn=Lt($i),on=Lt(Mi),sn=Lt(Zi),an=Lt(Ui),ln=Lt(Bt),cn=et;($i&&cn(new $i(new ArrayBuffer(1)))!=nn||Mi&&cn(new Mi)!=Ji||Zi&&cn(Zi.resolve())!=Qi||Ui&&cn(new Ui)!=en||Bt&&cn(new Bt)!=tn)&&(cn=function(e){var t=et(e),i="[object Object]"==t?e.constructor:void 0,n=i?Lt(i):"";if(n)switch(n){case rn:return nn;case on:return Ji;case sn:return Qi;case an:return en;case ln:return tn}return t});const hn=cn,un=Ke.Uint8Array;function dn(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Li;++t<i;)this.add(e[t])}function pn(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function gn(e,t){return e.has(t)}dn.prototype.add=dn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},dn.prototype.has=function(e){return this.__data__.has(e)};var fn=1,mn=2;function vn(e,t,i,n,r,o){var s=i&fn,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var u=-1,d=!0,p=i&mn?new dn:void 0;for(o.set(e,t),o.set(t,e);++u<a;){var g=e[u],f=t[u];if(n)var m=s?n(f,g,u,t,e,o):n(g,f,u,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!pn(t,(function(e,t){if(!gn(p,t)&&(g===e||r(g,e,i,n,o)))return p.push(t)}))){d=!1;break}}else if(g!==f&&!r(g,f,i,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function _n(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function yn(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var bn=1,xn=2,wn="[object Boolean]",Cn="[object Date]",Sn="[object Error]",En="[object Map]",Tn="[object Number]",kn="[object RegExp]",In="[object Set]",Rn="[object String]",Mn="[object Symbol]",Pn="[object ArrayBuffer]",Ln="[object DataView]",On=Xe?Xe.prototype:void 0,Fn=On?On.valueOf:void 0,An=1,Dn=Object.prototype.hasOwnProperty,zn=1,Nn="[object Arguments]",jn="[object Array]",Gn="[object Object]",Bn=Object.prototype.hasOwnProperty;function Wn(e,t,i,n,r,o){var s=rt(e),a=rt(t),l=s?jn:hn(e),c=a?jn:hn(t),h=(l=l==Nn?Gn:l)==Gn,u=(c=c==Nn?Gn:c)==Gn,d=l==c;if(d&&ri(e)){if(!ri(t))return!1;s=!0,h=!1}if(d&&!h)return o||(o=new Ki),s||di(e)?vn(e,t,i,n,r,o):function(e,t,i,n,r,o,s){switch(i){case Ln:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pn:return!(e.byteLength!=t.byteLength||!o(new un(e),new un(t)));case wn:case Cn:case Tn:return Xt(+e,+t);case Sn:return e.name==t.name&&e.message==t.message;case kn:case Rn:return e==t+"";case En:var a=_n;case In:var l=n&bn;if(a||(a=yn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=xn,s.set(e,t);var h=vn(a(e),a(t),n,r,o,s);return s.delete(e),h;case Mn:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,i,n,r,o);if(!(i&zn)){var p=h&&Bn.call(e,"__wrapped__"),g=u&&Bn.call(t,"__wrapped__");if(p||g){var f=p?e.value():e,m=g?t.value():t;return o||(o=new Ki),r(f,m,i,n,o)}}return!!d&&(o||(o=new Ki),function(e,t,i,n,r,o){var s=i&An,a=qi(e),l=a.length;if(l!=qi(t).length&&!s)return!1;for(var c=l;c--;){var h=a[c];if(!(s?h in t:Dn.call(t,h)))return!1}var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=s;++c<l;){var f=e[h=a[c]],m=t[h];if(n)var v=s?n(m,f,h,t,e,o):n(f,m,h,e,t,o);if(!(void 0===v?f===m||r(f,m,i,n,o):v)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var _=e.constructor,y=t.constructor;_==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,i,n,r,o))}function Vn(e,t,i,n,r){return e===t||(null==e||null==t||!tt(e)&&!tt(t)?e!=e&&t!=t:Wn(e,t,i,n,Vn,r))}var Kn=1,Xn=2;function Yn(e){return e==e&&!dt(e)}function Hn(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}}function qn(e){var t=function(e){for(var t=yi(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,Yn(r)]}return t}(e);return 1==t.length&&t[0][2]?Hn(t[0][0],t[0][1]):function(i){return i===e||function(e,t,i,n){var r=i.length,o=r,s=!n;if(null==e)return!o;for(e=Object(e);r--;){var a=i[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){var l=(a=i[r])[0],c=e[l],h=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var u=new Ki;if(n)var d=n(c,h,l,e,t,u);if(!(void 0===d?Vn(h,c,Kn|Xn,n,u):d))return!1}}return!0}(i,e,t)}}function $n(e,t){return null!=e&&t in Object(e)}function Zn(e,t){return null!=e&&function(e,t,i){for(var n=-1,r=(t=ji(t,e)).length,o=!1;++n<r;){var s=Bi(t[n]);if(!(o=null!=e&&i(e,s)))break;e=e[s]}return o||++n!=r?o:!!(r=null==e?0:e.length)&&Ht(r)&&Kt(s,r)&&(rt(e)||ei(e))}(e,t,$n)}var Un=1,Jn=2;function Qn(e){return wi(e)?(t=Bi(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Wi(t,e)}}(e);var t}function er(e){return"function"==typeof e?e:null==e?wt:"object"==typeof e?rt(e)?(t=e[0],i=e[1],wi(t)&&Yn(i)?Hn(Bi(t),i):function(e){var n=Vi(e,t);return void 0===n&&n===i?Zn(e,t):Vn(i,n,Un|Jn)}):qn(e):Qn(e);var t,i}const tr=function(){return Ke.Date.now()};var ir=Math.max,nr=Math.min;function rr(e,t,i){var n,r,o,s,a,l,c=0,h=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,o=r;return n=r=void 0,c=t,s=e.apply(o,i)}function g(e){var i=e-l;return void 0===l||i>=t||i<0||u&&e-c>=o}function f(){var e=tr();if(g(e))return m(e);a=setTimeout(f,function(e){var i=t-(e-l);return u?nr(i,o-(e-c)):i}(e))}function m(e){return a=void 0,d&&n?p(e):(n=r=void 0,s)}function v(){var e=tr(),i=g(e);if(n=arguments,r=this,l=e,i){if(void 0===a)return function(e){return c=e,a=setTimeout(f,t),h?p(e):s}(l);if(u)return clearTimeout(a),a=setTimeout(f,t),p(l)}return void 0===a&&(a=setTimeout(f,t)),s}return t=_t(t)||0,dt(i)&&(h=!!i.leading,o=(u="maxWait"in i)?ir(_t(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=r=a=void 0},v.flush=function(){return void 0===a?s:m(tr())},v}var or=Math.max,sr=Math.min;function ar(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var r=e[t];n[r[0]]=r[1]}return n}function lr(e,t){return Vn(e,t)}function cr(e){return null==e}const hr=e=>void 0===e,ur=e=>"boolean"==typeof e,dr=e=>"number"==typeof e,pr=e=>"undefined"!=typeof Element&&e instanceof Element;class gr extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function fr(e,t){throw new gr(`[${e}] ${t}`)}function mr(e,t="px"){return e?dr(e)||h(i=e)&&!Number.isNaN(Number(i))?`${e}${t}`:h(e)?e:void 0:"";var i}/*! Element Plus Icons Vue v2.3.1 */var vr=u({name:"ArrowDown",__name:"arrow-down",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}),_r=u({name:"CircleCheck",__name:"circle-check",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),g("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}),yr=u({name:"CircleClose",__name:"circle-close",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),g("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),br=u({name:"Close",__name:"close",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}),xr=u({name:"Hide",__name:"hide",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),g("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}),wr=u({name:"Loading",__name:"loading",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}),Cr=u({name:"View",__name:"view",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))});const Sr="__epPropKey",Er=(e,t)=>{if(!f(e)||f(i=e)&&i[Sr])return e;var i;const{values:n,required:r,default:o,type:s,validator:a}=e,l=n||a?i=>{let r=!1,s=[];if(n&&(s=Array.from(n),m(e,"default")&&s.push(o),r||(r=s.includes(i))),a&&(r||(r=a(i))),!r&&s.length>0){const e=[...new Set(s)].map((e=>JSON.stringify(e))).join(", ");v(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(i)}.`)}return r}:void 0,c={type:s,required:!!r,validator:l,[Sr]:!0};return m(e,"default")&&(c.default=o),c},Tr=e=>ar(Object.entries(e).map((([e,t])=>[e,Er(t,e)]))),kr=[String,Object,Function],Ir={validating:wr,success:_r,error:yr},Rr=(e,t)=>{if(e.install=i=>{for(const n of[e,...Object.values(null!=t?t:{})])i.component(n.name,n)},t)for(const[i,n]of Object.entries(t))e[i]=n;return e},Mr=e=>(e.install=_,e),Pr="Tab",Lr="Enter",Or="Space",Fr="Escape",Ar="Delete",Dr="Backspace",zr="update:modelValue",Nr="change",jr="input",Gr=["","default","small","large"],Br={large:40,default:32,small:24},Wr=e=>["",...Gr].includes(e),Vr=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Kr=["class","style"],Xr=/^on[A-Z]/,Yr=({from:e,replacement:t,scope:i,version:n,ref:o,type:s="API"},a)=>{l((()=>r(a)),(e=>{}),{immediate:!0})};var Hr={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const qr=e=>(t,i)=>$r(t,i,r(e)),$r=(e,t,i)=>Vi(i,e,e).replace(/\{(\w+)\}/g,((e,i)=>{var n;return`${null!=(n=null==t?void 0:t[i])?n:`{${i}}`}`})),Zr=Symbol("localeContextKey"),Ur=e=>{const t=e||b(Zr,c());return(e=>({lang:y((()=>r(e).name)),locale:x(e)?e:c(e),t:qr(e)}))(y((()=>t.value||Hr)))},Jr="el",Qr=(e,t,i,n,r)=>{let o=`${e}-${t}`;return i&&(o+=`-${i}`),n&&(o+=`__${n}`),r&&(o+=`--${r}`),o},eo=Symbol("namespaceContextKey"),to=e=>{const t=e||(o()?b(eo,c(Jr)):c(Jr));return y((()=>r(t)||Jr))},io=(e,t)=>{const i=to(t);return{namespace:i,b:(t="")=>Qr(i.value,e,t,"",""),e:t=>t?Qr(i.value,e,"",t,""):"",m:t=>t?Qr(i.value,e,"","",t):"",be:(t,n)=>t&&n?Qr(i.value,e,t,n,""):"",em:(t,n)=>t&&n?Qr(i.value,e,"",t,n):"",bm:(t,n)=>t&&n?Qr(i.value,e,t,"",n):"",bem:(t,n,r)=>t&&n&&r?Qr(i.value,e,t,n,r):"",is:(e,...t)=>{const i=!(t.length>=1)||t[0];return e&&i?`is-${e}`:""},cssVar:e=>{const t={};for(const n in e)e[n]&&(t[`--${i.value}-${n}`]=e[n]);return t},cssVarName:e=>`--${i.value}-${e}`,cssVarBlock:t=>{const n={};for(const r in t)t[r]&&(n[`--${i.value}-${e}-${r}`]=t[r]);return n},cssVarBlockName:t=>`--${i.value}-${e}-${t}`}},no=Er({type:Boolean,default:null}),ro=Er({type:Function}),oo=e=>{const t=`update:${e}`,i=`onUpdate:${e}`;return{useModelToggle:({indicator:n,toggleReason:r,shouldHideWhenRouteChanges:a,shouldProceed:c,onShow:h,onHide:u})=>{const d=o(),{emit:p}=d,g=d.props,f=y((()=>w(g[i]))),m=y((()=>null===g[e])),v=e=>{!0!==n.value&&(n.value=!0,r&&(r.value=e),w(h)&&h(e))},_=e=>{!1!==n.value&&(n.value=!1,r&&(r.value=e),w(u)&&u(e))},b=e=>{if(!0===g.disabled||w(c)&&!c())return;const i=f.value&&_e;i&&p(t,!0),!m.value&&i||v(e)},x=e=>{if(!0===g.disabled||!_e)return;const i=f.value&&_e;i&&p(t,!1),!m.value&&i||_(e)},C=e=>{ur(e)&&(g.disabled&&e?f.value&&p(t,!1):n.value!==e&&(e?v():_()))};return l((()=>g[e]),C),a&&void 0!==d.appContext.config.globalProperties.$route&&l((()=>({...d.proxy.$route})),(()=>{a.value&&n.value&&x()})),s((()=>{C(g[e])})),{hide:x,show:b,toggle:()=>{n.value?x():b()},hasUpdateHandler:f}},useModelToggleProps:{[e]:no,[i]:ro},useModelToggleEmits:[t]}};oo("modelValue");const so=e=>{const t=o();return y((()=>{var i,n;return null==(n=null==(i=null==t?void 0:t.proxy)?void 0:i.$props)?void 0:n[e]}))};var ao="top",lo="bottom",co="right",ho="left",uo="auto",po=[ao,lo,co,ho],go="start",fo="end",mo="clippingParents",vo="viewport",_o="popper",yo="reference",bo=po.reduce((function(e,t){return e.concat([t+"-"+go,t+"-"+fo])}),[]),xo=[].concat(po,[uo]).reduce((function(e,t){return e.concat([t,t+"-"+go,t+"-"+fo])}),[]),wo=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Co(e){return e?(e.nodeName||"").toLowerCase():null}function So(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Eo(e){return e instanceof So(e).Element||e instanceof Element}function To(e){return e instanceof So(e).HTMLElement||e instanceof HTMLElement}function ko(e){return"undefined"!=typeof ShadowRoot&&(e instanceof So(e).ShadowRoot||e instanceof ShadowRoot)}var Io={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];!To(r)||!Co(r)||(Object.assign(r.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});!To(n)||!Co(n)||(Object.assign(n.style,o),Object.keys(r).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Ro(e){return e.split("-")[0]}var Mo=Math.max,Po=Math.min,Lo=Math.round;function Oo(e,t){void 0===t&&(t=!1);var i=e.getBoundingClientRect(),n=1,r=1;if(To(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(n=Lo(i.width)/s||1),o>0&&(r=Lo(i.height)/o||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function Fo(e){var t=Oo(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Ao(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&ko(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Do(e){return So(e).getComputedStyle(e)}function zo(e){return["table","td","th"].indexOf(Co(e))>=0}function No(e){return((Eo(e)?e.ownerDocument:e.document)||window.document).documentElement}function jo(e){return"html"===Co(e)?e:e.assignedSlot||e.parentNode||(ko(e)?e.host:null)||No(e)}function Go(e){return To(e)&&"fixed"!==Do(e).position?e.offsetParent:null}function Bo(e){for(var t=So(e),i=Go(e);i&&zo(i)&&"static"===Do(i).position;)i=Go(i);return i&&("html"===Co(i)||"body"===Co(i)&&"static"===Do(i).position)?t:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&To(e)&&"fixed"===Do(e).position)return null;var i=jo(e);for(ko(i)&&(i=i.host);To(i)&&["html","body"].indexOf(Co(i))<0;){var n=Do(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function Wo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vo(e,t,i){return Mo(e,Po(t,i))}function Ko(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Xo(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var Yo={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,r=e.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=Ro(i.placement),l=Wo(a),c=[ho,co].indexOf(a)>=0?"height":"width";if(o&&s){var h=function(e,t){return Ko("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Xo(e,po))}(r.padding,i),u=Fo(o),d="y"===l?ao:ho,p="y"===l?lo:co,g=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],f=s[l]-i.rects.reference[l],m=Bo(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,_=g/2-f/2,y=h[d],b=v-u[c]-h[p],x=v/2-u[c]/2+_,w=Vo(y,x,b),C=l;i.modifiersData[n]=((t={})[C]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"==typeof n&&!(n=t.elements.popper.querySelector(n))||!Ao(t.elements.popper,n)||(t.elements.arrow=n))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ho(e){return e.split("-")[1]}var qo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $o(e){var t,i=e.popper,n=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,u=e.isFixed,d=s.x,p=void 0===d?0:d,g=s.y,f=void 0===g?0:g,m="function"==typeof h?h({x:p,y:f}):{x:p,y:f};p=m.x,f=m.y;var v=s.hasOwnProperty("x"),_=s.hasOwnProperty("y"),y=ho,b=ao,x=window;if(c){var w=Bo(i),C="clientHeight",S="clientWidth";w===So(i)&&"static"!==Do(w=No(i)).position&&"absolute"===a&&(C="scrollHeight",S="scrollWidth"),(r===ao||(r===ho||r===co)&&o===fo)&&(b=lo,f-=(u&&w===x&&x.visualViewport?x.visualViewport.height:w[C])-n.height,f*=l?1:-1),r!==ho&&(r!==ao&&r!==lo||o!==fo)||(y=co,p-=(u&&w===x&&x.visualViewport?x.visualViewport.width:w[S])-n.width,p*=l?1:-1)}var E,T=Object.assign({position:a},c&&qo),k=!0===h?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:Lo(t*n)/n||0,y:Lo(i*n)/n||0}}({x:p,y:f}):{x:p,y:f};return p=k.x,f=k.y,l?Object.assign({},T,((E={})[b]=_?"0":"",E[y]=v?"0":"",E.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",E)):Object.assign({},T,((t={})[b]=_?f+"px":"",t[y]=v?p+"px":"",t.transform="",t))}var Zo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:Ro(t.placement),variation:Ho(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$o(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$o(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Uo={passive:!0},Jo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,o=void 0===r||r,s=n.resize,a=void 0===s||s,l=So(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",i.update,Uo)})),a&&l.addEventListener("resize",i.update,Uo),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",i.update,Uo)})),a&&l.removeEventListener("resize",i.update,Uo)}},data:{}},Qo={left:"right",right:"left",bottom:"top",top:"bottom"};function es(e){return e.replace(/left|right|bottom|top/g,(function(e){return Qo[e]}))}var ts={start:"end",end:"start"};function is(e){return e.replace(/start|end/g,(function(e){return ts[e]}))}function ns(e){var t=So(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function rs(e){return Oo(No(e)).left+ns(e).scrollLeft}function os(e){var t=Do(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function ss(e){return["html","body","#document"].indexOf(Co(e))>=0?e.ownerDocument.body:To(e)&&os(e)?e:ss(jo(e))}function as(e,t){var i;void 0===t&&(t=[]);var n=ss(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),o=So(n),s=r?[o].concat(o.visualViewport||[],os(n)?n:[]):n,a=t.concat(s);return r?a:a.concat(as(jo(s)))}function ls(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function cs(e,t){return t===vo?ls(function(e){var t=So(e),i=No(e),n=t.visualViewport,r=i.clientWidth,o=i.clientHeight,s=0,a=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:r,height:o,x:s+rs(e),y:a}}(e)):Eo(t)?function(e){var t=Oo(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ls(function(e){var t,i=No(e),n=ns(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=Mo(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Mo(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+rs(e),l=-n.scrollTop;return"rtl"===Do(r||i).direction&&(a+=Mo(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(No(e)))}function hs(e,t,i){var n="clippingParents"===t?function(e){var t=as(jo(e)),i=["absolute","fixed"].indexOf(Do(e).position)>=0&&To(e)?Bo(e):e;return Eo(i)?t.filter((function(e){return Eo(e)&&Ao(e,i)&&"body"!==Co(e)})):[]}(e):[].concat(t),r=[].concat(n,[i]),o=r[0],s=r.reduce((function(t,i){var n=cs(e,i);return t.top=Mo(n.top,t.top),t.right=Po(n.right,t.right),t.bottom=Po(n.bottom,t.bottom),t.left=Mo(n.left,t.left),t}),cs(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function us(e){var t,i=e.reference,n=e.element,r=e.placement,o=r?Ro(r):null,s=r?Ho(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case ao:t={x:a,y:i.y-n.height};break;case lo:t={x:a,y:i.y+i.height};break;case co:t={x:i.x+i.width,y:l};break;case ho:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=o?Wo(o):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case go:t[c]=t[c]-(i[h]/2-n[h]/2);break;case fo:t[c]=t[c]+(i[h]/2-n[h]/2)}}return t}function ds(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=void 0===n?e.placement:n,o=i.boundary,s=void 0===o?mo:o,a=i.rootBoundary,l=void 0===a?vo:a,c=i.elementContext,h=void 0===c?_o:c,u=i.altBoundary,d=void 0!==u&&u,p=i.padding,g=void 0===p?0:p,f=Ko("number"!=typeof g?g:Xo(g,po)),m=h===_o?yo:_o,v=e.rects.popper,_=e.elements[d?m:h],y=hs(Eo(_)?_:_.contextElement||No(e.elements.popper),s,l),b=Oo(e.elements.reference),x=us({reference:b,element:v,strategy:"absolute",placement:r}),w=ls(Object.assign({},v,x)),C=h===_o?w:b,S={top:y.top-C.top+f.top,bottom:C.bottom-y.bottom+f.bottom,left:y.left-C.left+f.left,right:C.right-y.right+f.right},E=e.modifiersData.offset;if(h===_o&&E){var T=E[r];Object.keys(S).forEach((function(e){var t=[co,lo].indexOf(e)>=0?1:-1,i=[ao,lo].indexOf(e)>=0?"y":"x";S[e]+=T[i]*t}))}return S}var ps={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,h=i.boundary,u=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,g=void 0===p||p,f=i.allowedAutoPlacements,m=t.options.placement,v=Ro(m),_=l||(v!==m&&g?function(e){if(Ro(e)===uo)return[];var t=es(e);return[is(e),t,is(t)]}(m):[es(m)]),y=[m].concat(_).reduce((function(e,i){return e.concat(Ro(i)===uo?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?xo:l,h=Ho(n),u=h?a?bo:bo.filter((function(e){return Ho(e)===h})):po,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var p=d.reduce((function(t,i){return t[i]=ds(e,{placement:i,boundary:r,rootBoundary:o,padding:s})[Ro(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:h,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:f}):i)}),[]),b=t.rects.reference,x=t.rects.popper,w=new Map,C=!0,S=y[0],E=0;E<y.length;E++){var T=y[E],k=Ro(T),I=Ho(T)===go,R=[ao,lo].indexOf(k)>=0,M=R?"width":"height",P=ds(t,{placement:T,boundary:h,rootBoundary:u,altBoundary:d,padding:c}),L=R?I?co:ho:I?lo:ao;b[M]>x[M]&&(L=es(L));var O=es(L),F=[];if(o&&F.push(P[k]<=0),a&&F.push(P[L]<=0,P[O]<=0),F.every((function(e){return e}))){S=T,C=!1;break}w.set(T,F)}if(C)for(var A=function(e){var t=y.find((function(t){var i=w.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=g?3:1;D>0&&"break"!==A(D);D--);t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gs(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function fs(e){return[ao,co,lo,ho].some((function(t){return e[t]>=0}))}var ms={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=ds(t,{elementContext:"reference"}),a=ds(t,{altBoundary:!0}),l=gs(s,n),c=gs(a,r,o),h=fs(l),u=fs(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}},vs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.offset,o=void 0===r?[0,0]:r,s=xo.reduce((function(e,i){return e[i]=function(e,t,i){var n=Ro(e),r=[ho,ao].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ho,co].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}},_s={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=us({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ys={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,u=i.padding,d=i.tether,p=void 0===d||d,g=i.tetherOffset,f=void 0===g?0:g,m=ds(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:h}),v=Ro(t.placement),_=Ho(t.placement),y=!_,b=Wo(v),x=function(e){return"x"===e?"y":"x"}(b),w=t.modifiersData.popperOffsets,C=t.rects.reference,S=t.rects.popper,E="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,T="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(w){if(o){var R,M="y"===b?ao:ho,P="y"===b?lo:co,L="y"===b?"height":"width",O=w[b],F=O+m[M],A=O-m[P],D=p?-S[L]/2:0,z=_===go?C[L]:S[L],N=_===go?-S[L]:-C[L],j=t.elements.arrow,G=p&&j?Fo(j):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=B[M],V=B[P],K=Vo(0,C[L],G[L]),X=y?C[L]/2-D-K-W-T.mainAxis:z-K-W-T.mainAxis,Y=y?-C[L]/2+D+K+V+T.mainAxis:N+K+V+T.mainAxis,H=t.elements.arrow&&Bo(t.elements.arrow),q=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,$=null!=(R=null==k?void 0:k[b])?R:0,Z=O+Y-$,U=Vo(p?Po(F,O+X-$-q):F,O,p?Mo(A,Z):A);w[b]=U,I[b]=U-O}if(a){var J,Q="x"===b?ao:ho,ee="x"===b?lo:co,te=w[x],ie="y"===x?"height":"width",ne=te+m[Q],re=te-m[ee],oe=-1!==[ao,ho].indexOf(v),se=null!=(J=null==k?void 0:k[x])?J:0,ae=oe?ne:te-C[ie]-S[ie]-se+T.altAxis,le=oe?te+C[ie]+S[ie]-se-T.altAxis:re,ce=p&&oe?function(e,t,i){var n=Vo(e,t,i);return n>i?i:n}(ae,te,le):Vo(p?ae:ne,te,p?le:re);w[x]=ce,I[x]=ce-te}t.modifiersData[n]=I}},requiresIfExists:["offset"]};function bs(e,t,i){void 0===i&&(i=!1);var n=To(t),r=To(t)&&function(e){var t=e.getBoundingClientRect(),i=Lo(t.width)/e.offsetWidth||1,n=Lo(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),o=No(t),s=Oo(e,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==Co(t)||os(o))&&(a=function(e){return e!==So(e)&&To(e)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):ns(e)}(t)),To(t)?((l=Oo(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=rs(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function xs(e){var t=new Map,i=new Set,n=[];function r(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&r(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||r(e)})),n}function ws(e){var t;return function(){return t||(t=new Promise((function(i){Promise.resolve().then((function(){t=void 0,i(e())}))}))),t}}var Cs={placement:"bottom",modifiers:[],strategy:"absolute"};function Ss(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Es(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,o=void 0===r?Cs:r;return function(e,t,i){void 0===i&&(i=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cs,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(i){var a="function"==typeof i?i(r.options):i;c(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:Eo(e)?as(e):e.contextElement?as(e.contextElement):[],popper:as(t)};var h=function(e){var t=xs(e);return wo.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,r.options.modifiers)));return r.orderedModifiers=h.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"==typeof o){var a=o({state:r,name:t,instance:l,options:n}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=r.elements,t=e.reference,i=e.popper;if(Ss(t,i)){r.rects={reference:bs(t,Bo(i),"fixed"===r.options.strategy),popper:Fo(i)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<r.orderedModifiers.length;n++)if(!0!==r.reset){var o=r.orderedModifiers[n],s=o.fn,c=o.options,h=void 0===c?{}:c,u=o.name;"function"==typeof s&&(r=s({state:r,options:h,name:u,instance:l})||r)}else r.reset=!1,n=-1}}},update:ws((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){c(),a=!0}};if(!Ss(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(i).then((function(e){!a&&i.onFirstUpdate&&i.onFirstUpdate(e)})),l}}Es(),Es({defaultModifiers:[Jo,_s,Zo,Io]});var Ts=Es({defaultModifiers:[Jo,_s,Zo,Io,vs,ps,ys,Yo,ms]});const ks=(e,t,i={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:e})=>{const t=function(e){const t=Object.keys(e.elements),i=ar(t.map((t=>[t,e.styles[t]||{}]))),n=ar(t.map((t=>[t,e.attributes[t]])));return{styles:i,attributes:n}}(e);Object.assign(a.value,t)},requires:["computeStyles"]},o=y((()=>{const{onFirstUpdate:e,placement:t,strategy:o,modifiers:s}=r(i);return{onFirstUpdate:e,placement:t||"bottom",strategy:o||"absolute",modifiers:[...s||[],n,{name:"applyStyles",enabled:!1}]}})),s=C(),a=c({styles:{popper:{position:r(o).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),h=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return l(o,(e=>{const t=r(s);t&&t.setOptions(e)}),{deep:!0}),l([e,t],(([e,t])=>{h(),e&&t&&(s.value=Ts(e,t,r(o)))})),S((()=>{h()})),{state:y((()=>{var e;return{...(null==(e=r(s))?void 0:e.state)||{}}})),styles:y((()=>r(a).styles)),attributes:y((()=>r(a).attributes)),update:()=>{var e;return null==(e=r(s))?void 0:e.update()},forceUpdate:()=>{var e;return null==(e=r(s))?void 0:e.forceUpdate()},instanceRef:y((()=>r(s)))}};function Is(){let e;const t=()=>window.clearTimeout(e);return Ce((()=>t())),{registerTimeout:(i,n)=>{t(),e=window.setTimeout(i,n)},cancelTimeout:t}}const Rs={prefix:Math.floor(1e4*Math.random()),current:0},Ms=Symbol("elIdInjection"),Ps=()=>o()?b(Ms,Rs):Rs,Ls=e=>{const t=Ps(),i=to();return y((()=>r(e)||`${i.value}-id-${t.prefix}-${t.current++}`))};let Os=[];const Fs=e=>{const t=e;t.key===Fr&&Os.forEach((e=>e(t)))};let As;const Ds=()=>{const e=to(),t=Ps(),i=y((()=>`${e.value}-popper-container-${t.prefix}`)),n=y((()=>`#${i.value}`));return{id:i,selector:n}},zs=()=>{const{id:e,selector:t}=Ds();return E((()=>{_e&&(As||document.body.querySelector(t.value)||(As=(e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t})(e.value)))})),{id:e,selector:t}},Ns=Tr({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),js=Symbol("elForwardRef"),Gs=c(0),Bs=Symbol("zIndexContextKey"),Ws=Er({type:String,values:Gr,required:!1}),Vs=Symbol("size"),Ks=Symbol(),Xs=c();function Ys(e,t=void 0){const i=o()?b(Ks,Xs):Xs;return e?y((()=>{var n,r;return null!=(r=null==(n=i.value)?void 0:n[e])?r:t})):i}var Hs=(e,t)=>{const i=e.__vccOpts||e;for(const[n,r]of t)i[n]=r;return i};const qs=Tr({size:{type:[Number,String]},color:{type:String}}),$s=u({name:"ElIcon",inheritAttrs:!1}),Zs=u({...$s,props:qs,setup(e){const t=e,i=io("icon"),n=y((()=>{const{size:e,color:i}=t;return e||i?{fontSize:hr(e)?void 0:mr(e),"--color":i}:{}}));return(e,t)=>(d(),p("i",I({class:r(i).b(),style:r(n)},e.$attrs),[k(e.$slots,"default")],16))}}),Us=Rr(Hs(Zs,[["__file","icon.vue"]])),Js=Symbol("formContextKey"),Qs=Symbol("formItemContextKey"),ea=(e,t={})=>{const i=c(void 0),n=t.prop?i:so("size"),o=t.global?i:(()=>{const e=b(Vs,{});return y((()=>r(e.size)||""))})(),s=t.form?{size:void 0}:b(Js,void 0),a=t.formItem?{size:void 0}:b(Qs,void 0);return y((()=>n.value||r(e)||(null==a?void 0:a.size)||(null==s?void 0:s.size)||o.value||""))},ta=e=>{const t=so("disabled"),i=b(Js,void 0);return y((()=>t.value||r(e)||(null==i?void 0:i.disabled)||!1))},ia=()=>({form:b(Js,void 0),formItem:b(Qs,void 0)}),na=(e,{formItemContext:t,disableIdGeneration:i,disableIdManagement:n})=>{i||(i=c(!1)),n||(n=c(!1));const r=c();let o;const a=y((()=>{var i;return!!(!e.label&&t&&t.inputIds&&(null==(i=t.inputIds)?void 0:i.length)<=1)}));return s((()=>{o=l([R(e,"id"),i],(([e,i])=>{const o=null!=e?e:i?void 0:Ls().value;o!==r.value&&((null==t?void 0:t.removeInputId)&&(r.value&&t.removeInputId(r.value),(null==n?void 0:n.value)||i||!o||t.addInputId(o)),r.value=o)}),{immediate:!0})})),M((()=>{o&&o(),(null==t?void 0:t.removeInputId)&&r.value&&t.removeInputId(r.value)})),{isLabeledByFormItem:a,inputId:r}};let ra;const oa=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${_e&&/firefox/i.test(window.navigator.userAgent)?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,sa=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function aa(e,t=1,i){var n;ra||(ra=document.createElement("textarea"),document.body.appendChild(ra));const{paddingSize:r,borderSize:o,boxSizing:s,contextStyle:a}=function(e){const t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),r=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:sa.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:n,borderSize:r,boxSizing:i}}(e);ra.setAttribute("style",`${a};${oa}`),ra.value=e.value||e.placeholder||"";let l=ra.scrollHeight;const c={};"border-box"===s?l+=o:"content-box"===s&&(l-=r),ra.value="";const h=ra.scrollHeight-r;if(dr(t)){let e=h*t;"border-box"===s&&(e=e+r+o),l=Math.max(e,l),c.minHeight=`${e}px`}if(dr(i)){let e=h*i;"border-box"===s&&(e=e+r+o),l=Math.min(e,l)}return c.height=`${l}px`,null==(n=ra.parentNode)||n.removeChild(ra),ra=void 0,c}const la=Tr({id:{type:String,default:void 0},size:Ws,disabled:Boolean,modelValue:{type:[String,Number,Object],default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:kr},prefixIcon:{type:kr},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:[Object,Array,String],default:()=>({})},autofocus:{type:Boolean,default:!1}}),ca={[zr]:e=>h(e),input:e=>h(e),change:e=>h(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},ha=["role"],ua=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],da=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],pa=u({name:"ElInput",inheritAttrs:!1}),ga=u({...pa,props:la,emits:ca,setup(e,{expose:t,emit:i}){const n=e,h=P(),u=L(),m=y((()=>{const e={};return"combobox"===n.containerRole&&(e["aria-haspopup"]=h["aria-haspopup"],e["aria-owns"]=h["aria-owns"],e["aria-expanded"]=h["aria-expanded"]),e})),v=y((()=>["textarea"===n.type?H.b():Y.b(),Y.m(M.value),Y.is("disabled",X.value),Y.is("exceed",ve.value),{[Y.b("group")]:u.prepend||u.append,[Y.bm("group","append")]:u.append,[Y.bm("group","prepend")]:u.prepend,[Y.m("prefix")]:u.prefix||n.prefixIcon,[Y.m("suffix")]:u.suffix||n.suffixIcon||n.clearable||n.showPassword,[Y.bm("suffix","password-clear")]:pe.value&&ge.value},h.class])),b=y((()=>[Y.e("wrapper"),Y.is("focus",ne.value)])),x=((e={})=>{const{excludeListeners:t=!1,excludeKeys:i}=e,n=y((()=>((null==i?void 0:i.value)||[]).concat(Kr))),r=o();return y(r?()=>{var e;return ar(Object.entries(null==(e=r.proxy)?void 0:e.$attrs).filter((([e])=>!(n.value.includes(e)||t&&Xr.test(e)))))}:()=>({}))})({excludeKeys:y((()=>Object.keys(m.value)))}),{form:S,formItem:E}=ia(),{inputId:T}=na(n,{formItemContext:E}),M=ea(),X=ta(),Y=io("input"),H=io("textarea"),q=C(),$=C(),Z=c(!1),U=c(!1),J=c(!1),Q=c(),ee=C(n.inputStyle),te=y((()=>q.value||$.value)),{wrapperRef:ie,isFocused:ne,handleFocus:re,handleBlur:oe}=function(e,{afterFocus:t,beforeBlur:i,afterBlur:n}={}){const r=o(),{emit:s}=r,a=C(),h=c(!1);return l(a,(e=>{e&&e.setAttribute("tabindex","-1")})),Te(a,"click",(()=>{var t;null==(t=e.value)||t.focus()})),{wrapperRef:a,isFocused:h,handleFocus:e=>{h.value||(h.value=!0,s("focus",e),null==t||t())},handleBlur:e=>{var t;w(i)&&i(e)||e.relatedTarget&&(null==(t=a.value)?void 0:t.contains(e.relatedTarget))||(h.value=!1,s("blur",e),null==n||n())}}}(te,{afterBlur(){var e;n.validateEvent&&(null==(e=null==E?void 0:E.validate)||e.call(E,"blur").catch((e=>{})))}}),se=y((()=>{var e;return null!=(e=null==S?void 0:S.statusIcon)&&e})),ae=y((()=>(null==E?void 0:E.validateState)||"")),le=y((()=>ae.value&&Ir[ae.value])),ce=y((()=>J.value?Cr:xr)),he=y((()=>[h.style,n.inputStyle])),ue=y((()=>[n.inputStyle,ee.value,{resize:n.resize}])),de=y((()=>cr(n.modelValue)?"":String(n.modelValue))),pe=y((()=>n.clearable&&!X.value&&!n.readonly&&!!de.value&&(ne.value||Z.value))),ge=y((()=>n.showPassword&&!X.value&&!n.readonly&&!!de.value&&(!!de.value||ne.value))),fe=y((()=>n.showWordLimit&&!!x.value.maxlength&&("text"===n.type||"textarea"===n.type)&&!X.value&&!n.readonly&&!n.showPassword)),me=y((()=>de.value.length)),ve=y((()=>!!fe.value&&me.value>Number(x.value.maxlength))),ye=y((()=>!!u.suffix||!!n.suffixIcon||pe.value||n.showPassword||fe.value||!!ae.value&&se.value)),[be,xe]=function(e){const t=c();return[function(){if(null==e.value)return;const{selectionStart:i,selectionEnd:n,value:r}=e.value;if(null==i||null==n)return;const o=r.slice(0,Math.max(0,i)),s=r.slice(Math.max(0,n));t.value={selectionStart:i,selectionEnd:n,value:r,beforeTxt:o,afterTxt:s}},function(){if(null==e.value||null==t.value)return;const{value:i}=e.value,{beforeTxt:n,afterTxt:r,selectionStart:o}=t.value;if(null==n||null==r||null==o)return;let s=i.length;if(i.endsWith(r))s=i.length-r.length;else if(i.startsWith(n))s=n.length;else{const e=n[o-1],t=i.indexOf(e,o-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(q);De($,(e=>{if(Ce(),!fe.value||"both"!==n.resize)return;const t=e[0],{width:i}=t.contentRect;Q.value={right:`calc(100% - ${i+15+6}px)`}}));const we=()=>{const{type:e,autosize:t}=n;if(_e&&"textarea"===e&&$.value)if(t){const e=f(t)?t.minRows:void 0,i=f(t)?t.maxRows:void 0,n=aa($.value,e,i);ee.value={overflowY:"hidden",...n},a((()=>{$.value.offsetHeight,ee.value=n}))}else ee.value={minHeight:aa($.value).minHeight}},Ce=(e=>{let t=!1;return()=>{var i;!t&&n.autosize&&(null===(null==(i=$.value)?void 0:i.offsetParent)||(e(),t=!0))}})(we),Se=()=>{const e=te.value,t=n.formatter?n.formatter(de.value):de.value;e&&e.value!==t&&(e.value=t)},Ee=async e=>{be();let{value:t}=e.target;n.formatter&&(t=n.parser?n.parser(t):t),U.value||(t!==de.value?(i(zr,t),i("input",t),await a(),Se(),xe()):Se())},ke=e=>{i("change",e.target.value)},Ie=e=>{i("compositionstart",e),U.value=!0},Re=e=>{var t;i("compositionupdate",e);const n=null==(t=e.target)?void 0:t.value,r=n[n.length-1]||"";U.value=!Vr(r)},Me=e=>{i("compositionend",e),U.value&&(U.value=!1,Ee(e))},Pe=()=>{J.value=!J.value,Le()},Le=async()=>{var e;await a(),null==(e=te.value)||e.focus()},Oe=e=>{Z.value=!1,i("mouseleave",e)},Fe=e=>{Z.value=!0,i("mouseenter",e)},Ae=e=>{i("keydown",e)},ze=()=>{i(zr,""),i("change",""),i("clear"),i("input","")};return l((()=>n.modelValue),(()=>{var e;a((()=>we())),n.validateEvent&&(null==(e=null==E?void 0:E.validate)||e.call(E,"change").catch((e=>{})))})),l(de,(()=>Se())),l((()=>n.type),(async()=>{await a(),Se(),we()})),s((()=>{!n.formatter&&n.parser,Se(),a(we)})),t({input:q,textarea:$,ref:te,textareaStyle:ue,autosize:R(n,"autosize"),focus:Le,blur:()=>{var e;return null==(e=te.value)?void 0:e.blur()},select:()=>{var e;null==(e=te.value)||e.select()},clear:ze,resizeTextarea:we}),(e,t)=>O((d(),p("div",I(r(m),{class:r(v),style:r(he),role:e.containerRole,onMouseenter:Fe,onMouseleave:Oe}),[A(" input "),"textarea"!==e.type?(d(),p(D,{key:0},[A(" prepend slot "),e.$slots.prepend?(d(),p("div",{key:0,class:z(r(Y).be("group","prepend"))},[k(e.$slots,"prepend")],2)):A("v-if",!0),g("div",{ref_key:"wrapperRef",ref:ie,class:z(r(b))},[A(" prefix slot "),e.$slots.prefix||e.prefixIcon?(d(),p("span",{key:0,class:z(r(Y).e("prefix"))},[g("span",{class:z(r(Y).e("prefix-inner"))},[k(e.$slots,"prefix"),e.prefixIcon?(d(),N(r(Us),{key:0,class:z(r(Y).e("icon"))},{default:j((()=>[(d(),N(G(e.prefixIcon)))])),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0),g("input",I({id:r(T),ref_key:"input",ref:q,class:r(Y).e("inner")},r(x),{type:e.showPassword?J.value?"text":"password":e.type,disabled:r(X),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:n.form,autofocus:n.autofocus,onCompositionstart:Ie,onCompositionupdate:Re,onCompositionend:Me,onInput:Ee,onFocus:t[0]||(t[0]=(...e)=>r(re)&&r(re)(...e)),onBlur:t[1]||(t[1]=(...e)=>r(oe)&&r(oe)(...e)),onChange:ke,onKeydown:Ae}),null,16,ua),A(" suffix slot "),r(ye)?(d(),p("span",{key:1,class:z(r(Y).e("suffix"))},[g("span",{class:z(r(Y).e("suffix-inner"))},[r(pe)&&r(ge)&&r(fe)?A("v-if",!0):(d(),p(D,{key:0},[k(e.$slots,"suffix"),e.suffixIcon?(d(),N(r(Us),{key:0,class:z(r(Y).e("icon"))},{default:j((()=>[(d(),N(G(e.suffixIcon)))])),_:1},8,["class"])):A("v-if",!0)],64)),r(pe)?(d(),N(r(Us),{key:1,class:z([r(Y).e("icon"),r(Y).e("clear")]),onMousedown:W(r(_),["prevent"]),onClick:ze},{default:j((()=>[B(r(yr))])),_:1},8,["class","onMousedown"])):A("v-if",!0),r(ge)?(d(),N(r(Us),{key:2,class:z([r(Y).e("icon"),r(Y).e("password")]),onClick:Pe},{default:j((()=>[(d(),N(G(r(ce))))])),_:1},8,["class"])):A("v-if",!0),r(fe)?(d(),p("span",{key:3,class:z(r(Y).e("count"))},[g("span",{class:z(r(Y).e("count-inner"))},V(r(me))+" / "+V(r(x).maxlength),3)],2)):A("v-if",!0),r(ae)&&r(le)&&r(se)?(d(),N(r(Us),{key:4,class:z([r(Y).e("icon"),r(Y).e("validateIcon"),r(Y).is("loading","validating"===r(ae))])},{default:j((()=>[(d(),N(G(r(le))))])),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0)],2),A(" append slot "),e.$slots.append?(d(),p("div",{key:1,class:z(r(Y).be("group","append"))},[k(e.$slots,"append")],2)):A("v-if",!0)],64)):(d(),p(D,{key:1},[A(" textarea "),g("textarea",I({id:r(T),ref_key:"textarea",ref:$,class:r(H).e("inner")},r(x),{tabindex:e.tabindex,disabled:r(X),readonly:e.readonly,autocomplete:e.autocomplete,style:r(ue),"aria-label":e.label,placeholder:e.placeholder,form:n.form,autofocus:n.autofocus,onCompositionstart:Ie,onCompositionupdate:Re,onCompositionend:Me,onInput:Ee,onFocus:t[2]||(t[2]=(...e)=>r(re)&&r(re)(...e)),onBlur:t[3]||(t[3]=(...e)=>r(oe)&&r(oe)(...e)),onChange:ke,onKeydown:Ae}),null,16,da),r(fe)?(d(),p("span",{key:0,style:K(Q.value),class:z(r(Y).e("count"))},V(r(me))+" / "+V(r(x).maxlength),7)):A("v-if",!0)],64))],16,ha)),[[F,"hidden"!==e.type]])}}),fa=Rr(Hs(ga,[["__file","input.vue"]])),ma={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},va=Symbol("scrollbarContextKey"),_a=Tr({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),ya=u({__name:"thumb",props:_a,setup(e){const t=e,i=b(va),n=io("scrollbar");i||fr("Thumb","can not inject scrollbar context");const o=c(),s=c(),a=c({}),l=c(!1);let h=!1,u=!1,p=_e?document.onselectstart:null;const f=y((()=>ma[t.vertical?"vertical":"horizontal"])),m=y((()=>(({move:e,size:t,bar:i})=>({[i.size]:t,transform:`translate${i.axis}(${e}%)`}))({size:t.size,move:t.move,bar:f.value}))),v=y((()=>o.value[f.value.offset]**2/i.wrapElement[f.value.scrollSize]/t.ratio/s.value[f.value.offset])),_=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),w(e);const i=e.currentTarget;i&&(a.value[f.value.axis]=i[f.value.offset]-(e[f.value.client]-i.getBoundingClientRect()[f.value.direction]))},x=e=>{if(!s.value||!o.value||!i.wrapElement)return;const t=100*(Math.abs(e.target.getBoundingClientRect()[f.value.direction]-e[f.value.client])-s.value[f.value.offset]/2)*v.value/o.value[f.value.offset];i.wrapElement[f.value.scroll]=t*i.wrapElement[f.value.scrollSize]/100},w=e=>{e.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",E),p=document.onselectstart,document.onselectstart=()=>!1},C=e=>{if(!o.value||!s.value)return;if(!1===h)return;const t=a.value[f.value.axis];if(!t)return;const n=100*(-1*(o.value.getBoundingClientRect()[f.value.direction]-e[f.value.client])-(s.value[f.value.offset]-t))*v.value/o.value[f.value.offset];i.wrapElement[f.value.scroll]=n*i.wrapElement[f.value.scrollSize]/100},E=()=>{h=!1,a.value[f.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",E),T(),u&&(l.value=!1)};S((()=>{T(),document.removeEventListener("mouseup",E)}));const T=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return Te(R(i,"scrollbarElement"),"mousemove",(()=>{u=!1,l.value=!!t.size})),Te(R(i,"scrollbarElement"),"mouseleave",(()=>{u=!0,l.value=h})),(e,t)=>(d(),N(X,{name:r(n).b("fade"),persisted:""},{default:j((()=>[O(g("div",{ref_key:"instance",ref:o,class:z([r(n).e("bar"),r(n).is(r(f).key)]),onMousedown:x},[g("div",{ref_key:"thumb",ref:s,class:z(r(n).e("thumb")),style:K(r(m)),onMousedown:_},null,38)],34),[[F,e.always||l.value]])])),_:1},8,["name"]))}});var ba=Hs(ya,[["__file","thumb.vue"]]);const xa=Tr({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}});var wa=Hs(u({__name:"bar",props:xa,setup(e,{expose:t}){const i=e,n=c(0),r=c(0);return t({handleScroll:e=>{if(e){const t=e.offsetHeight-4,o=e.offsetWidth-4;r.value=100*e.scrollTop/t*i.ratioY,n.value=100*e.scrollLeft/o*i.ratioX}}}),(e,t)=>(d(),p(D,null,[B(ba,{move:n.value,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),B(ba,{move:r.value,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const Ca=Tr({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Object,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Sa={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(dr)},Ea=u({name:"ElScrollbar"}),Ta=u({...Ea,props:Ca,emits:Sa,setup(e,{expose:t,emit:i}){const n=e,o=io("scrollbar");let h,u;const m=c(),v=c(),_=c(),b=c("0"),x=c("0"),w=c(),C=c(1),S=c(1),E=y((()=>{const e={};return n.height&&(e.height=mr(n.height)),n.maxHeight&&(e.maxHeight=mr(n.maxHeight)),[n.wrapStyle,e]})),I=y((()=>[n.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!n.native}])),R=y((()=>[o.e("view"),n.viewClass])),M=()=>{var e;v.value&&(null==(e=w.value)||e.handleScroll(v.value),i("scroll",{scrollTop:v.value.scrollTop,scrollLeft:v.value.scrollLeft}))},P=()=>{if(!v.value)return;const e=v.value.offsetHeight-4,t=v.value.offsetWidth-4,i=e**2/v.value.scrollHeight,r=t**2/v.value.scrollWidth,o=Math.max(i,n.minSize),s=Math.max(r,n.minSize);C.value=i/(e-i)/(o/(e-o)),S.value=r/(t-r)/(s/(t-s)),x.value=o+4<e?`${o}px`:"",b.value=s+4<t?`${s}px`:""};return l((()=>n.noresize),(e=>{e?(null==h||h(),null==u||u()):(({stop:h}=De(_,P)),u=Te("resize",P))}),{immediate:!0}),l((()=>[n.maxHeight,n.height]),(()=>{n.native||a((()=>{var e;P(),v.value&&(null==(e=w.value)||e.handleScroll(v.value))}))})),T(va,Y({scrollbarElement:m,wrapElement:v})),s((()=>{n.native||a((()=>{P()}))})),H((()=>P())),t({wrapRef:v,update:P,scrollTo:function(e,t){f(e)?v.value.scrollTo(e):dr(e)&&dr(t)&&v.value.scrollTo(e,t)},setScrollTop:e=>{dr(e)&&(v.value.scrollTop=e)},setScrollLeft:e=>{dr(e)&&(v.value.scrollLeft=e)},handleScroll:M}),(e,t)=>(d(),p("div",{ref_key:"scrollbarRef",ref:m,class:z(r(o).b())},[g("div",{ref_key:"wrapRef",ref:v,class:z(r(I)),style:K(r(E)),onScroll:M},[(d(),N(G(e.tag),{id:e.id,ref_key:"resizeRef",ref:_,class:z(r(R)),style:K(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:j((()=>[k(e.$slots,"default")])),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?A("v-if",!0):(d(),N(wa,{key:0,ref_key:"barRef",ref:w,height:x.value,width:b.value,always:e.always,"ratio-x":S.value,"ratio-y":C.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}),ka=Rr(Hs(Ta,[["__file","scrollbar.vue"]])),Ia=Symbol("popper"),Ra=Symbol("popperContent"),Ma=Tr({role:{type:String,values:["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],default:"tooltip"}}),Pa=u({name:"ElPopper",inheritAttrs:!1});var La=Hs(u({...Pa,props:Ma,setup(e,{expose:t}){const i=e,n={triggerRef:c(),popperInstanceRef:c(),contentRef:c(),referenceRef:c(),role:y((()=>i.role))};return t(n),T(Ia,n),(e,t)=>k(e.$slots,"default")}}),[["__file","popper.vue"]]);const Oa=Tr({arrowOffset:{type:Number,default:5}}),Fa=u({name:"ElPopperArrow",inheritAttrs:!1});var Aa=Hs(u({...Fa,props:Oa,setup(e,{expose:t}){const i=e,n=io("popper"),{arrowOffset:o,arrowRef:s,arrowStyle:a}=b(Ra,void 0);return l((()=>i.arrowOffset),(e=>{o.value=e})),S((()=>{s.value=void 0})),t({arrowRef:s}),(e,t)=>(d(),p("span",{ref_key:"arrowRef",ref:s,class:z(r(n).e("arrow")),style:K(r(a)),"data-popper-arrow":""},null,6))}}),[["__file","arrow.vue"]]);const Da=u({name:"ElOnlyChild",setup(e,{slots:t,attrs:i}){var n;const r=b(js),o=(s=null!=(n=null==r?void 0:r.setForwardRef)?n:_,{mounted(e){s(e)},updated(e){s(e)},unmounted(){s(null)}});var s;return()=>{var e;const n=null==(e=t.default)?void 0:e.call(t,i);if(!n)return null;if(n.length>1)return null;const r=za(n);return r?O(q(r,i),[[o]]):null}}});function za(e){if(!e)return null;const t=e;for(const i of t){if(f(i))switch(i.type){case Z:continue;case $:case"svg":return Na(i);case D:return za(i.children);default:return i}return Na(i)}return null}function Na(e){const t=io("only-child");return B("span",{class:t.e("content")},[e])}const ja=Tr({virtualRef:{type:Object},virtualTriggering:Boolean,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onContextmenu:{type:Function},id:String,open:Boolean}),Ga=u({name:"ElPopperTrigger",inheritAttrs:!1}),Ba=u({...Ga,props:ja,setup(e,{expose:t}){const i=e,{role:n,triggerRef:o}=b(Ia,void 0);var a;a=o,T(js,{setForwardRef:e=>{a.value=e}});const c=y((()=>u.value?i.id:void 0)),h=y((()=>{if(n&&"tooltip"===n.value)return i.open&&i.id?i.id:void 0})),u=y((()=>{if(n&&"tooltip"!==n.value)return n.value})),p=y((()=>u.value?`${i.open}`:void 0));let g;return s((()=>{l((()=>i.virtualRef),(e=>{e&&(o.value=Se(e))}),{immediate:!0}),l(o,((e,t)=>{null==g||g(),g=void 0,pr(e)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach((n=>{var r;const o=i[n];o&&(e.addEventListener(n.slice(2).toLowerCase(),o),null==(r=null==t?void 0:t.removeEventListener)||r.call(t,n.slice(2).toLowerCase(),o))})),g=l([c,h,u,p],(t=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((i,n)=>{cr(t[n])?e.removeAttribute(i):e.setAttribute(i,t[n])}))}),{immediate:!0})),pr(t)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((e=>t.removeAttribute(e)))}),{immediate:!0})})),S((()=>{null==g||g(),g=void 0})),t({triggerRef:o}),(e,t)=>e.virtualTriggering?A("v-if",!0):(d(),N(r(Da),I({key:0},e.$attrs,{"aria-controls":r(c),"aria-describedby":r(h),"aria-expanded":r(p),"aria-haspopup":r(u)}),{default:j((()=>[k(e.$slots,"default")])),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Wa=Hs(Ba,[["__file","trigger.vue"]]);const Va="focus-trap.focus-after-trapped",Ka="focus-trap.focus-after-released",Xa={cancelable:!0,bubbles:!1},Ya={cancelable:!0,bubbles:!1},Ha="focusAfterTrapped",qa="focusAfterReleased",$a=Symbol("elFocusTrap"),Za=c(),Ua=c(0),Ja=c(0);let Qa=0;const el=e=>{const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t},tl=(e,t)=>{for(const i of e)if(!il(i,t))return i},il=(e,t)=>{if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},nl=(e,t)=>{if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),Ja.value=window.performance.now(),e!==i&&(e=>e instanceof HTMLInputElement&&"select"in e)(e)&&t&&e.select()}};function rl(e,t){const i=[...e],n=e.indexOf(t);return-1!==n&&i.splice(n,1),i}const ol=(()=>{let e=[];return{push:t=>{const i=e[0];i&&t!==i&&i.pause(),e=rl(e,t),e.unshift(t)},remove:t=>{var i,n;e=rl(e,t),null==(n=null==(i=e[0])?void 0:i.resume)||n.call(i)}}})(),sl=()=>{Za.value="pointer",Ua.value=window.performance.now()},al=()=>{Za.value="keyboard",Ua.value=window.performance.now()},ll=()=>(s((()=>{0===Qa&&(document.addEventListener("mousedown",sl),document.addEventListener("touchstart",sl),document.addEventListener("keydown",al)),Qa++})),S((()=>{Qa--,Qa<=0&&(document.removeEventListener("mousedown",sl),document.removeEventListener("touchstart",sl),document.removeEventListener("keydown",al))})),{focusReason:Za,lastUserFocusTimestamp:Ua,lastAutomatedFocusTimestamp:Ja}),cl=e=>new CustomEvent("focus-trap.focusout-prevented",{...Ya,detail:e}),hl=u({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Ha,qa,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const i=c();let n,o;const{focusReason:u}=ll();var d;d=i=>{e.trapped&&!p.paused&&t("release-requested",i)},s((()=>{0===Os.length&&document.addEventListener("keydown",Fs),_e&&Os.push(d)})),S((()=>{Os=Os.filter((e=>e!==d)),0===Os.length&&_e&&document.removeEventListener("keydown",Fs)}));const p={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},g=i=>{if(!e.loop&&!e.trapped)return;if(p.paused)return;const{key:n,altKey:r,ctrlKey:o,metaKey:s,currentTarget:a,shiftKey:l}=i,{loop:c}=e,h=n===Pr&&!r&&!o&&!s,d=document.activeElement;if(h&&d){const e=a,[n,r]=(e=>{const t=el(e);return[tl(t,e),tl(t.reverse(),e)]})(e);if(n&&r)if(l||d!==r){if(l&&[n,e].includes(d)){const e=cl({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||(i.preventDefault(),c&&nl(r,!0))}}else{const e=cl({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||(i.preventDefault(),c&&nl(n,!0))}else if(d===e){const e=cl({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||i.preventDefault()}}};T($a,{focusTrapRef:i,onKeydown:g}),l((()=>e.focusTrapEl),(e=>{e&&(i.value=e)}),{immediate:!0}),l([i],(([e],[t])=>{e&&(e.addEventListener("keydown",g),e.addEventListener("focusin",v),e.addEventListener("focusout",_)),t&&(t.removeEventListener("keydown",g),t.removeEventListener("focusin",v),t.removeEventListener("focusout",_))}));const f=e=>{t(Ha,e)},m=e=>t(qa,e),v=s=>{const a=r(i);if(!a)return;const l=s.target,c=s.relatedTarget,h=l&&a.contains(l);e.trapped||c&&a.contains(c)||(n=c),h&&t("focusin",s),p.paused||e.trapped&&(h?o=l:nl(o,!0))},_=n=>{const s=r(i);if(!p.paused&&s)if(e.trapped){const i=n.relatedTarget;cr(i)||s.contains(i)||setTimeout((()=>{if(!p.paused&&e.trapped){const e=cl({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||nl(o,!0)}}),0)}else{const e=n.target;e&&s.contains(e)||t("focusout",n)}};async function y(){await a();const t=r(i);if(t){ol.push(p);const i=t.contains(document.activeElement)?n:document.activeElement;if(n=i,!t.contains(i)){const n=new Event(Va,Xa);t.addEventListener(Va,f),t.dispatchEvent(n),n.defaultPrevented||a((()=>{let n=e.focusStartEl;h(n)||(nl(n),document.activeElement!==n&&(n="first")),"first"===n&&((e,t=!1)=>{const i=document.activeElement;for(const n of e)if(nl(n,t),document.activeElement!==i)return})(el(t),!0),document.activeElement!==i&&"container"!==n||nl(t)}))}}}function b(){const e=r(i);if(e){e.removeEventListener(Va,f);const t=new CustomEvent(Ka,{...Xa,detail:{focusReason:u.value}});e.addEventListener(Ka,m),e.dispatchEvent(t),t.defaultPrevented||"keyboard"!=u.value&&Ua.value>Ja.value&&!e.contains(document.activeElement)||nl(null!=n?n:document.body),e.removeEventListener(Ka,m),ol.remove(p)}}return s((()=>{e.trapped&&y(),l((()=>e.trapped),(e=>{e?y():b()}))})),S((()=>{e.trapped&&b()})),{onKeydown:g}}});var ul=Hs(hl,[["render",function(e,t,i,n,r,o){return k(e.$slots,"default",{handleKeydown:e.onKeydown})}],["__file","focus-trap.vue"]]);const dl=Tr({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Array,default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:xo,default:"bottom"},popperOptions:{type:Object,default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}}),pl=Tr({...dl,id:String,style:{type:[String,Array,Object]},className:{type:[String,Array,Object]},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:[String,Array,Object]},popperStyle:{type:[String,Array,Object]},referenceEl:{type:Object},triggerTargetEl:{type:Object},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),gl={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},fl=(e,t=[])=>{const{placement:i,strategy:n,popperOptions:r}=e,o={placement:i,strategy:n,...r,modifiers:[...ml(e),...t]};return function(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}(o,null==r?void 0:r.modifiers),o};function ml(e){const{offset:t,gpuAcceleration:i,fallbackPlacements:n}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:i}}]}const vl=e=>{const{popperInstanceRef:t,contentRef:i,triggerRef:n,role:o}=b(Ia,void 0),a=c(),h=c(),u=y((()=>({name:"eventListeners",enabled:!!e.visible}))),d=y((()=>{var e;const t=r(a),i=null!=(e=r(h))?e:0;return{name:"arrow",enabled:(n=t,!(void 0===n)),options:{element:t,padding:i}};var n})),p=y((()=>({onFirstUpdate:()=>{_()},...fl(e,[r(d),r(u)])}))),g=y((()=>(e=>{if(_e)return Se(e)})(e.referenceEl)||r(n))),{attributes:f,state:m,styles:v,update:_,forceUpdate:x,instanceRef:w}=ks(g,i,p);return l(w,(e=>t.value=e)),s((()=>{l((()=>{var e;return null==(e=r(g))?void 0:e.getBoundingClientRect()}),(()=>{_()}))})),{attributes:f,arrowRef:a,contentRef:i,instanceRef:w,state:m,styles:v,role:o,forceUpdate:x,update:_}},_l=(e,{attributes:t,styles:i,role:n})=>{const{nextZIndex:s}=(e=>{const t=e||(o()?b(Bs,void 0):void 0),i=y((()=>{const e=r(t);return dr(e)?e:2e3})),n=y((()=>i.value+Gs.value));return{initialZIndex:i,currentZIndex:n,nextZIndex:()=>(Gs.value++,n.value)}})(),a=io("popper"),l=y((()=>r(t).popper)),h=c(dr(e.zIndex)?e.zIndex:s()),u=y((()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass])),d=y((()=>[{zIndex:r(h)},r(i).popper,e.popperStyle||{}]));return{ariaModal:y((()=>"dialog"===n.value?"false":void 0)),arrowStyle:y((()=>r(i).arrow||{})),contentAttrs:l,contentClass:u,contentStyle:d,contentZIndex:h,updateZIndex:()=>{h.value=dr(e.zIndex)?e.zIndex:s()}}},yl=u({name:"ElPopperContent"}),bl=u({...yl,props:pl,emits:gl,setup(e,{expose:t,emit:i}){const n=e,{focusStartRef:o,trapped:a,onFocusAfterReleased:h,onFocusAfterTrapped:u,onFocusInTrap:g,onFocusoutPrevented:f,onReleaseRequested:m}=((e,t)=>{const i=c(!1),n=c();return{focusStartRef:n,trapped:i,onFocusAfterReleased:e=>{var i;"pointer"!==(null==(i=e.detail)?void 0:i.focusReason)&&(n.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:t=>{e.visible&&!i.value&&(t.target&&(n.value=t.target),i.value=!0)},onFocusoutPrevented:t=>{e.trapping||("pointer"===t.detail.focusReason&&t.preventDefault(),i.value=!1)},onReleaseRequested:()=>{i.value=!1,t("close")}}})(n,i),{attributes:v,arrowRef:y,contentRef:x,styles:w,instanceRef:C,role:E,update:R}=vl(n),{ariaModal:M,arrowStyle:P,contentAttrs:L,contentClass:O,contentStyle:F,updateZIndex:A}=_l(n,{styles:w,attributes:v,role:E}),D=b(Qs,void 0),z=c();let N;T(Ra,{arrowStyle:P,arrowRef:y,arrowOffset:z}),D&&(D.addInputId||D.removeInputId)&&T(Qs,{...D,addInputId:_,removeInputId:_});const G=(e=!0)=>{R(),e&&A()},W=()=>{G(!1),n.visible&&n.focusOnShow?a.value=!0:!1===n.visible&&(a.value=!1)};return s((()=>{l((()=>n.triggerTargetEl),((e,t)=>{null==N||N(),N=void 0;const i=r(e||x.value),o=r(t||x.value);pr(i)&&(N=l([E,()=>n.ariaLabel,M,()=>n.id],(e=>{["role","aria-label","aria-modal","id"].forEach(((t,n)=>{cr(e[n])?i.removeAttribute(t):i.setAttribute(t,e[n])}))}),{immediate:!0})),o!==i&&pr(o)&&["role","aria-label","aria-modal","id"].forEach((e=>{o.removeAttribute(e)}))}),{immediate:!0}),l((()=>n.visible),W,{immediate:!0})})),S((()=>{null==N||N(),N=void 0})),t({popperContentRef:x,popperInstanceRef:C,updatePopper:G,contentStyle:F}),(e,t)=>(d(),p("div",I({ref_key:"contentRef",ref:x},r(L),{style:r(F),class:r(O),tabindex:"-1",onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))}),[B(r(ul),{trapped:r(a),"trap-on-focus-in":!0,"focus-trap-el":r(x),"focus-start-el":r(o),onFocusAfterTrapped:r(u),onFocusAfterReleased:r(h),onFocusin:r(g),onFocusoutPrevented:r(f),onReleaseRequested:r(m)},{default:j((()=>[k(e.$slots,"default")])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var xl=Hs(bl,[["__file","content.vue"]]);const wl=Rr(La),Cl=Symbol("elTooltip"),Sl=Tr({...Ns,...pl,appendTo:{type:[String,Object]},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Boolean,default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),El=Tr({...ja,disabled:Boolean,trigger:{type:[String,Array],default:"hover"},triggerKeys:{type:Array,default:()=>[Lr,Or]}}),{useModelToggleProps:Tl,useModelToggleEmits:kl,useModelToggle:Il}=oo("visible"),Rl=Tr({...Ma,...Tl,...Sl,...El,...Oa,showArrow:{type:Boolean,default:!0}}),Ml=[...kl,"before-show","before-hide","show","hide","open","close"],Pl=(e,t,i)=>n=>{((e,t)=>U(e)?e.includes(t):e===t)(r(e),t)&&i(n)},Ll=u({name:"ElTooltipTrigger"}),Ol=u({...Ll,props:El,setup(e,{expose:t}){const i=e,n=io("tooltip"),{controlled:o,id:s,open:a,onOpen:l,onClose:h,onToggle:u}=b(Cl,void 0),p=c(null),g=()=>{if(r(o)||i.disabled)return!0},f=R(i,"trigger"),m=me(g,Pl(f,"hover",l)),v=me(g,Pl(f,"hover",h)),_=me(g,Pl(f,"click",(e=>{0===e.button&&u(e)}))),y=me(g,Pl(f,"focus",l)),x=me(g,Pl(f,"focus",h)),w=me(g,Pl(f,"contextmenu",(e=>{e.preventDefault(),u(e)}))),C=me(g,(e=>{const{code:t}=e;i.triggerKeys.includes(t)&&(e.preventDefault(),u(e))}));return t({triggerRef:p}),(e,t)=>(d(),N(r(Wa),{id:r(s),"virtual-ref":e.virtualRef,open:r(a),"virtual-triggering":e.virtualTriggering,class:z(r(n).e("trigger")),onBlur:r(x),onClick:r(_),onContextmenu:r(w),onFocus:r(y),onMouseenter:r(m),onMouseleave:r(v),onKeydown:r(C)},{default:j((()=>[k(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Fl=Hs(Ol,[["__file","trigger.vue"]]);const Al=u({name:"ElTooltipContent",inheritAttrs:!1}),Dl=u({...Al,props:Sl,setup(e,{expose:t}){const i=e,{selector:n}=Ds(),o=io("tooltip"),s=c(null),a=c(!1),{controlled:h,id:u,open:p,trigger:g,onClose:f,onOpen:m,onShow:v,onHide:_,onBeforeShow:x,onBeforeHide:w}=b(Cl,void 0),C=y((()=>i.transition||`${o.namespace.value}-fade-in-linear`)),E=y((()=>i.persistent));S((()=>{a.value=!0}));const T=y((()=>!!r(E)||r(p))),R=y((()=>!i.disabled&&r(p))),M=y((()=>i.appendTo||n.value)),P=y((()=>{var e;return null!=(e=i.style)?e:{}})),L=y((()=>!r(p))),D=()=>{_()},z=()=>{if(r(h))return!0},G=me(z,(()=>{i.enterable&&"hover"===r(g)&&m()})),W=me(z,(()=>{"hover"===r(g)&&f()})),V=()=>{var e,t;null==(t=null==(e=s.value)?void 0:e.updatePopper)||t.call(e),null==x||x()},K=()=>{null==w||w()},Y=()=>{v(),q=function(e,t,i={}){const{window:n=Ee,ignore:r=[],capture:o=!0,detectIframe:s=!1}=i;if(!n)return;xe&&!ke&&(ke=!0,Array.from(n.document.body.children).forEach((e=>e.addEventListener("click",be))));let a=!0;const l=e=>r.some((t=>{if("string"==typeof t)return Array.from(n.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const i=Se(t);return i&&(e.target===i||e.composedPath().includes(i))}})),c=[Te(n,"click",(i=>{const n=Se(e);n&&n!==i.target&&!i.composedPath().includes(n)&&(0===i.detail&&(a=!l(i)),a?t(i):a=!0)}),{passive:!0,capture:o}),Te(n,"pointerdown",(t=>{const i=Se(e);i&&(a=!t.composedPath().includes(i)&&!l(t))}),{passive:!0}),s&&Te(n,"blur",(i=>{var r;const o=Se(e);"IFRAME"!==(null==(r=n.document.activeElement)?void 0:r.tagName)||(null==o?void 0:o.contains(n.document.activeElement))||t(i)}))].filter(Boolean);return()=>c.forEach((e=>e()))}(y((()=>{var e;return null==(e=s.value)?void 0:e.popperContentRef})),(()=>{r(h)||"hover"!==r(g)&&f()}))},H=()=>{i.virtualTriggering||f()};let q;return l((()=>r(p)),(e=>{e||null==q||q()}),{flush:"post"}),l((()=>i.content),(()=>{var e,t;null==(t=null==(e=s.value)?void 0:e.updatePopper)||t.call(e)})),t({contentRef:s}),(e,t)=>(d(),N(J,{disabled:!e.teleported,to:r(M)},[B(X,{name:r(C),onAfterLeave:D,onBeforeEnter:V,onAfterEnter:Y,onBeforeLeave:K},{default:j((()=>[r(T)?O((d(),N(r(xl),I({key:0,id:r(u),ref_key:"contentRef",ref:s},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":r(L),"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,r(P)],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:r(R),"z-index":e.zIndex,onMouseenter:r(G),onMouseleave:r(W),onBlur:H,onClose:r(f)}),{default:j((()=>[a.value?A("v-if",!0):k(e.$slots,"default",{key:0})])),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[F,r(R)]]):A("v-if",!0)])),_:3},8,["name"])],8,["disabled","to"]))}});var zl=Hs(Dl,[["__file","content.vue"]]);const Nl=["innerHTML"],jl={key:1},Gl=u({name:"ElTooltip"}),Bl=u({...Gl,props:Rl,emits:Ml,setup(e,{expose:t,emit:i}){const n=e;zs();const o=Ls(),s=c(),a=c(),h=()=>{var e;const t=r(s);t&&(null==(e=t.popperInstanceRef)||e.update())},u=c(!1),g=c(),{show:f,hide:m,hasUpdateHandler:v}=Il({indicator:u,toggleReason:g}),{onOpen:_,onClose:b}=(({showAfter:e,hideAfter:t,autoClose:i,open:n,close:o})=>{const{registerTimeout:s}=Is(),{registerTimeout:a,cancelTimeout:l}=Is();return{onOpen:t=>{s((()=>{n(t);const e=r(i);dr(e)&&e>0&&a((()=>{o(t)}),e)}),r(e))},onClose:e=>{l(),s((()=>{o(e)}),r(t))}}})({showAfter:R(n,"showAfter"),hideAfter:R(n,"hideAfter"),autoClose:R(n,"autoClose"),open:f,close:m}),x=y((()=>ur(n.visible)&&!v.value));return T(Cl,{controlled:x,id:o,open:Q(u),trigger:R(n,"trigger"),onOpen:e=>{_(e)},onClose:e=>{b(e)},onToggle:e=>{r(u)?b(e):_(e)},onShow:()=>{i("show",g.value)},onHide:()=>{i("hide",g.value)},onBeforeShow:()=>{i("before-show",g.value)},onBeforeHide:()=>{i("before-hide",g.value)},updatePopper:h}),l((()=>n.disabled),(e=>{e&&u.value&&(u.value=!1)})),ee((()=>u.value&&m())),t({popperRef:s,contentRef:a,isFocusInsideContent:e=>{var t,i;const n=null==(i=null==(t=a.value)?void 0:t.contentRef)?void 0:i.popperContentRef,r=(null==e?void 0:e.relatedTarget)||document.activeElement;return n&&n.contains(r)},updatePopper:h,onOpen:_,onClose:b,hide:m}),(e,t)=>(d(),N(r(wl),{ref_key:"popperRef",ref:s,role:e.role},{default:j((()=>[B(Fl,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:j((()=>[e.$slots.default?k(e.$slots,"default",{key:0}):A("v-if",!0)])),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),B(zl,{ref_key:"contentRef",ref:a,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:j((()=>[k(e.$slots,"content",{},(()=>[e.rawContent?(d(),p("span",{key:0,innerHTML:e.content},null,8,Nl)):(d(),p("span",jl,V(e.content),1))])),e.showArrow?(d(),N(r(Aa),{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):A("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),_:3},8,["role"]))}}),Wl=Rr(Hs(Bl,[["__file","tooltip.vue"]])),Vl=Symbol("buttonGroupContextKey"),Kl=Tr({size:Ws,disabled:Boolean,type:{type:String,values:["default","primary","success","warning","info","danger","text",""],default:""},icon:{type:kr},nativeType:{type:String,values:["button","submit","reset"],default:"button"},loading:Boolean,loadingIcon:{type:kr,default:()=>wr},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:[String,Object],default:"button"}}),Xl={click:e=>e instanceof MouseEvent};function Yl(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Hl(e){return Math.min(1,Math.max(0,e))}function ql(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function $l(e){return e<=1?"".concat(100*Number(e),"%"):e}function Zl(e){return 1===e.length?"0"+e:String(e)}function Ul(e,t,i){e=Yl(e,255),t=Yl(t,255),i=Yl(i,255);var n=Math.max(e,t,i),r=Math.min(e,t,i),o=0,s=0,a=(n+r)/2;if(n===r)s=0,o=0;else{var l=n-r;switch(s=a>.5?l/(2-n-r):l/(n+r),n){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4}o/=6}return{h:o,s:s,l:a}}function Jl(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*i*(t-e):i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Ql(e,t,i){e=Yl(e,255),t=Yl(t,255),i=Yl(i,255);var n=Math.max(e,t,i),r=Math.min(e,t,i),o=0,s=n,a=n-r,l=0===n?0:a/n;if(n===r)o=0;else{switch(n){case e:o=(t-i)/a+(t<i?6:0);break;case t:o=(i-e)/a+2;break;case i:o=(e-t)/a+4}o/=6}return{h:o,s:l,v:s}}function ec(e,t,i,n){var r=[Zl(Math.round(e).toString(16)),Zl(Math.round(t).toString(16)),Zl(Math.round(i).toString(16))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function tc(e){return ic(e)/255}function ic(e){return parseInt(e,16)}var nc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function rc(e){var t,i,n,r={r:0,g:0,b:0},o=1,s=null,a=null,l=null,c=!1,h=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(nc[e])e=nc[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var i=lc.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=lc.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=lc.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=lc.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=lc.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=lc.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=lc.hex8.exec(e))?{r:ic(i[1]),g:ic(i[2]),b:ic(i[3]),a:tc(i[4]),format:t?"name":"hex8"}:(i=lc.hex6.exec(e))?{r:ic(i[1]),g:ic(i[2]),b:ic(i[3]),format:t?"name":"hex"}:(i=lc.hex4.exec(e))?{r:ic(i[1]+i[1]),g:ic(i[2]+i[2]),b:ic(i[3]+i[3]),a:tc(i[4]+i[4]),format:t?"name":"hex8"}:!!(i=lc.hex3.exec(e))&&{r:ic(i[1]+i[1]),g:ic(i[2]+i[2]),b:ic(i[3]+i[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(cc(e.r)&&cc(e.g)&&cc(e.b)?(t=e.r,i=e.g,n=e.b,r={r:255*Yl(t,255),g:255*Yl(i,255),b:255*Yl(n,255)},c=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):cc(e.h)&&cc(e.s)&&cc(e.v)?(s=$l(e.s),a=$l(e.v),r=function(e,t,i){e=6*Yl(e,360),t=Yl(t,100),i=Yl(i,100);var n=Math.floor(e),r=e-n,o=i*(1-t),s=i*(1-r*t),a=i*(1-(1-r)*t),l=n%6;return{r:255*[i,s,o,o,a,i][l],g:255*[a,i,i,s,o,o][l],b:255*[o,o,a,i,i,s][l]}}(e.h,s,a),c=!0,h="hsv"):cc(e.h)&&cc(e.s)&&cc(e.l)&&(s=$l(e.s),l=$l(e.l),r=function(e,t,i){var n,r,o;if(e=Yl(e,360),t=Yl(t,100),i=Yl(i,100),0===t)r=i,o=i,n=i;else{var s=i<.5?i*(1+t):i+t-i*t,a=2*i-s;n=Jl(a,s,e+1/3),r=Jl(a,s,e),o=Jl(a,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(e.h,s,l),c=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=ql(o),{ok:c,format:e.format||h,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:o}}var oc="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),sc="[\\s|\\(]+(".concat(oc,")[,|\\s]+(").concat(oc,")[,|\\s]+(").concat(oc,")\\s*\\)?"),ac="[\\s|\\(]+(".concat(oc,")[,|\\s]+(").concat(oc,")[,|\\s]+(").concat(oc,")[,|\\s]+(").concat(oc,")\\s*\\)?"),lc={CSS_UNIT:new RegExp(oc),rgb:new RegExp("rgb"+sc),rgba:new RegExp("rgba"+ac),hsl:new RegExp("hsl"+sc),hsla:new RegExp("hsla"+ac),hsv:new RegExp("hsv"+sc),hsva:new RegExp("hsva"+ac),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function cc(e){return Boolean(lc.CSS_UNIT.exec(String(e)))}var hc=function(){function e(t,i){var n;if(void 0===t&&(t=""),void 0===i&&(i={}),t instanceof e)return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=rc(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=i.format)&&void 0!==n?n:r.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,i=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=ql(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=Ql(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Ql(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),n=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(i,"%, ").concat(n,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(n,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Ul(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Ul(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),n=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(i,"%, ").concat(n,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(n,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),ec(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,i,n,r){var o,s=[Zl(Math.round(e).toString(16)),Zl(Math.round(t).toString(16)),Zl(Math.round(i).toString(16)),Zl((o=n,Math.round(255*parseFloat(o)).toString(16)))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Yl(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Yl(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+ec(this.r,this.g,this.b,!1),t=0,i=Object.entries(nc);t<i.length;t++){var n=i[t],r=n[0];if(e===n[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var i=!1,n=this.a<1&&this.a>=0;return t||!n||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.l+=t/100,i.l=Hl(i.l),new e(i)},e.prototype.brighten=function(t){void 0===t&&(t=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-t/100*255))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-t/100*255))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-t/100*255))),new e(i)},e.prototype.darken=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.l-=t/100,i.l=Hl(i.l),new e(i)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.s-=t/100,i.s=Hl(i.s),new e(i)},e.prototype.saturate=function(t){void 0===t&&(t=10);var i=this.toHsl();return i.s+=t/100,i.s=Hl(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var i=this.toHsl(),n=(i.h+t)%360;return i.h=n<0?360+n:n,new e(i)},e.prototype.mix=function(t,i){void 0===i&&(i=50);var n=this.toRgb(),r=new e(t).toRgb(),o=i/100;return new e({r:(r.r-n.r)*o+n.r,g:(r.g-n.g)*o+n.g,b:(r.b-n.b)*o+n.b,a:(r.a-n.a)*o+n.a})},e.prototype.analogous=function(t,i){void 0===t&&(t=6),void 0===i&&(i=30);var n=this.toHsl(),r=360/i,o=[this];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,o.push(new e(n));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var i=this.toHsv(),n=i.h,r=i.s,o=i.v,s=[],a=1/t;t--;)s.push(new e({h:n,s:r,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),i=t.h;return[this,new e({h:(i+72)%360,s:t.s,l:t.l}),new e({h:(i+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var i=this.toRgb(),n=new e(t).toRgb(),r=i.a+n.a*(1-i.a);return new e({r:(i.r*i.a+n.r*n.a*(1-i.a))/r,g:(i.g*i.a+n.g*n.a*(1-i.a))/r,b:(i.b*i.a+n.b*n.a*(1-i.a))/r,a:r})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var i=this.toHsl(),n=i.h,r=[this],o=360/t,s=1;s<t;s++)r.push(new e({h:(n+s*o)%360,s:i.s,l:i.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function uc(e,t=20){return e.mix("#141414",t).toString()}const dc=u({name:"ElButton"}),pc=u({...dc,props:Kl,emits:Xl,setup(e,{expose:t,emit:i}){const n=e,o=function(e){const t=ta(),i=io("button");return y((()=>{let n={};const r=e.color;if(r){const o=new hc(r),s=e.dark?o.tint(20).toString():uc(o,20);if(e.plain)n=i.cssVarBlock({"bg-color":e.dark?uc(o,90):o.tint(90).toString(),"text-color":r,"border-color":e.dark?uc(o,50):o.tint(50).toString(),"hover-text-color":`var(${i.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":s,"active-text-color":`var(${i.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(n[i.cssVarBlockName("disabled-bg-color")]=e.dark?uc(o,90):o.tint(90).toString(),n[i.cssVarBlockName("disabled-text-color")]=e.dark?uc(o,50):o.tint(50).toString(),n[i.cssVarBlockName("disabled-border-color")]=e.dark?uc(o,80):o.tint(80).toString());else{const a=e.dark?uc(o,30):o.tint(30).toString(),l=o.isDark()?`var(${i.cssVarName("color-white")})`:`var(${i.cssVarName("color-black")})`;if(n=i.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":s,"active-border-color":s}),t.value){const t=e.dark?uc(o,50):o.tint(50).toString();n[i.cssVarBlockName("disabled-bg-color")]=t,n[i.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${i.cssVarName("color-white")})`,n[i.cssVarBlockName("disabled-border-color")]=t}}}return n}))}(n),s=io("button"),{_ref:a,_size:l,_type:h,_disabled:u,_props:g,shouldAddSpace:f,handleClick:m}=((e,t)=>{Yr({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},y((()=>"text"===e.type)));const i=b(Vl,void 0),n=Ys("button"),{form:r}=ia(),o=ea(y((()=>null==i?void 0:i.size))),s=ta(),a=c(),l=L(),h=y((()=>e.type||(null==i?void 0:i.type)||"")),u=y((()=>{var t,i,r;return null!=(r=null!=(i=e.autoInsertSpace)?i:null==(t=n.value)?void 0:t.autoInsertSpace)&&r})),d=y((()=>"button"===e.tag?{ariaDisabled:s.value||e.loading,disabled:s.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{})),p=y((()=>{var e;const t=null==(e=l.default)?void 0:e.call(l);if(u.value&&1===(null==t?void 0:t.length)){const e=t[0];if((null==e?void 0:e.type)===$){const t=e.children;return/^\p{Unified_Ideograph}{2}$/u.test(t.trim())}}return!1}));return{_disabled:s,_size:o,_type:h,_ref:a,_props:d,shouldAddSpace:p,handleClick:i=>{"reset"===e.nativeType&&(null==r||r.resetFields()),t("click",i)}}})(n,i);return t({ref:a,size:l,type:h,disabled:u,shouldAddSpace:f}),(e,t)=>(d(),N(G(e.tag),I({ref_key:"_ref",ref:a},r(g),{class:[r(s).b(),r(s).m(r(h)),r(s).m(r(l)),r(s).is("disabled",r(u)),r(s).is("loading",e.loading),r(s).is("plain",e.plain),r(s).is("round",e.round),r(s).is("circle",e.circle),r(s).is("text",e.text),r(s).is("link",e.link),r(s).is("has-bg",e.bg)],style:r(o),onClick:r(m)}),{default:j((()=>[e.loading?(d(),p(D,{key:0},[e.$slots.loading?k(e.$slots,"loading",{key:0}):(d(),N(r(Us),{key:1,class:z(r(s).is("loading"))},{default:j((()=>[(d(),N(G(e.loadingIcon)))])),_:1},8,["class"]))],64)):e.icon||e.$slots.icon?(d(),N(r(Us),{key:1},{default:j((()=>[e.icon?(d(),N(G(e.icon),{key:0})):k(e.$slots,"icon",{key:1})])),_:3})):A("v-if",!0),e.$slots.default?(d(),p("span",{key:2,class:z({[r(s).em("text","expand")]:r(f)})},[k(e.$slots,"default")],2)):A("v-if",!0)])),_:3},16,["class","style","onClick"]))}});var gc=Hs(pc,[["__file","button.vue"]]);const fc={size:Kl.size,type:Kl.type},mc=u({name:"ElButtonGroup"});var vc=Hs(u({...mc,props:fc,setup(e){const t=e;T(Vl,Y({size:R(t,"size"),type:R(t,"type")}));const i=io("button");return(e,t)=>(d(),p("div",{class:z(`${r(i).b("group")}`)},[k(e.$slots,"default")],2))}}),[["__file","button-group.vue"]]);const _c=Rr(gc,{ButtonGroup:vc});function yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Mr(vc);const bc=new Map;let xc;function wc(e,t){let i=[];return Array.isArray(t.arg)?i=t.arg:pr(t.arg)&&i.push(t.arg),function(n,r){const o=t.instance.popperRef,s=n.target,a=null==r?void 0:r.target,l=!t||!t.instance,c=!s||!a,h=e.contains(s)||e.contains(a),u=e===s,d=i.length&&i.some((e=>null==e?void 0:e.contains(s)))||i.length&&i.includes(a),p=o&&(o.contains(s)||o.contains(a));l||c||h||u||d||p||t.value(n,r)}}_e&&(document.addEventListener("mousedown",(e=>xc=e)),document.addEventListener("mouseup",(e=>{for(const t of bc.values())for(const{documentHandler:i}of t)i(e,xc)})));const Cc={beforeMount(e,t){bc.has(e)||bc.set(e,[]),bc.get(e).push({documentHandler:wc(e,t),bindingFn:t.value})},updated(e,t){bc.has(e)||bc.set(e,[]);const i=bc.get(e),n=i.findIndex((e=>e.bindingFn===t.oldValue)),r={documentHandler:wc(e,t),bindingFn:t.value};n>=0?i.splice(n,1,r):i.push(r)},unmounted(e){bc.delete(e)}},Sc=Tr({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Gr,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ec={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Tc=u({name:"ElTag"}),kc=Rr(Hs(u({...Tc,props:Sc,emits:Ec,setup(e,{emit:t}){const i=e,n=ea(),o=io("tag"),s=y((()=>{const{type:e,hit:t,effect:r,closable:s,round:a}=i;return[o.b(),o.is("closable",s),o.m(e),o.m(n.value),o.m(r),o.is("hit",t),o.is("round",a)]})),a=e=>{t("close",e)},l=e=>{t("click",e)};return(e,t)=>e.disableTransitions?(d(),p("span",{key:0,class:z(r(s)),style:K({backgroundColor:e.color}),onClick:l},[g("span",{class:z(r(o).e("content"))},[k(e.$slots,"default")],2),e.closable?(d(),N(r(Us),{key:0,class:z(r(o).e("close")),onClick:W(a,["stop"])},{default:j((()=>[B(r(br))])),_:1},8,["class","onClick"])):A("v-if",!0)],6)):(d(),N(X,{key:1,name:`${r(o).namespace.value}-zoom-in-center`,appear:""},{default:j((()=>[g("span",{class:z(r(s)),style:K({backgroundColor:e.color}),onClick:l},[g("span",{class:z(r(o).e("content"))},[k(e.$slots,"default")],2),e.closable?(d(),N(r(Us),{key:0,class:z(r(o).e("close")),onClick:W(a,["stop"])},{default:j((()=>[B(r(br))])),_:1},8,["class","onClick"])):A("v-if",!0)],6)])),_:3},8,["name"]))}}),[["__file","tag.vue"]])),Ic=u({name:"ElContainer"});var Rc=Hs(u({...Ic,props:{direction:{type:String}},setup(e){const t=e,i=L(),n=io("container"),o=y((()=>"vertical"===t.direction||"horizontal"!==t.direction&&(!(!i||!i.default)&&i.default().some((e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t})))));return(e,t)=>(d(),p("section",{class:z([r(n).b(),r(n).is("vertical",r(o))])},[k(e.$slots,"default")],2))}}),[["__file","container.vue"]]);const Mc=u({name:"ElAside"}),Pc=u({...Mc,props:{width:{type:String,default:null}},setup(e){const t=e,i=io("aside"),n=y((()=>t.width?i.cssVarBlock({width:t.width}):{}));return(e,t)=>(d(),p("aside",{class:z(r(i).b()),style:K(r(n))},[k(e.$slots,"default")],6))}});var Lc=Hs(Pc,[["__file","aside.vue"]]);const Oc=u({name:"ElFooter"}),Fc=u({...Oc,props:{height:{type:String,default:null}},setup(e){const t=e,i=io("footer"),n=y((()=>t.height?i.cssVarBlock({height:t.height}):{}));return(e,t)=>(d(),p("footer",{class:z(r(i).b()),style:K(r(n))},[k(e.$slots,"default")],6))}});var Ac=Hs(Fc,[["__file","footer.vue"]]);const Dc=u({name:"ElHeader"}),zc=u({...Dc,props:{height:{type:String,default:null}},setup(e){const t=e,i=io("header"),n=y((()=>t.height?i.cssVarBlock({height:t.height}):{}));return(e,t)=>(d(),p("header",{class:z(r(i).b()),style:K(r(n))},[k(e.$slots,"default")],6))}});var Nc=Hs(zc,[["__file","header.vue"]]);const jc=u({name:"ElMain"});var Gc=Hs(u({...jc,setup(e){const t=io("main");return(e,i)=>(d(),p("main",{class:z(r(t).b())},[k(e.$slots,"default")],2))}}),[["__file","main.vue"]]);const Bc=Rr(Rc,{Aside:Lc,Footer:Ac,Header:Nc,Main:Gc}),Wc=Mr(Lc);Mr(Ac);const Vc=Mr(Nc),Kc=Mr(Gc),Xc=Symbol("ElSelectGroup"),Yc=Symbol("ElSelect"),Hc=u({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=io("select"),i=Ls(),n=y((()=>[t.be("dropdown","item"),t.is("disabled",r(u)),{selected:r(h),hover:r(m)}])),s=Y({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:c,itemSelected:h,isDisabled:u,select:d,hoverItem:p}=function(e,t){const i=b(Yc),n=b(Xc,{disabled:!1}),s=y((()=>f(e.value))),a=y((()=>i.props.multiple?g(i.props.modelValue,e.value):m(e.value,i.props.modelValue))),c=y((()=>{if(i.props.multiple){const e=i.props.modelValue||[];return!a.value&&e.length>=i.props.multipleLimit&&i.props.multipleLimit>0}return!1})),h=y((()=>e.label||(s.value?"":e.value))),u=y((()=>e.value||e.label||"")),d=y((()=>e.disabled||t.groupDisabled||c.value)),p=o(),g=(e=[],t)=>{if(s.value){const n=i.props.valueKey;return e&&e.some((e=>te(Vi(e,n))===Vi(t,n)))}return e&&e.includes(t)},m=(e,t)=>{if(s.value){const{valueKey:n}=i.props;return Vi(e,n)===Vi(t,n)}return e===t};l((()=>h.value),(()=>{e.created||i.props.remote||i.setSelected()})),l((()=>e.value),((t,n)=>{const{remote:r,valueKey:o}=i.props;if(Object.is(t,n)||(i.onOptionDestroy(n,p.proxy),i.onOptionCreate(p.proxy)),!e.created&&!r){if(o&&f(t)&&f(n)&&t[o]===n[o])return;i.setSelected()}})),l((()=>n.disabled),(()=>{t.groupDisabled=n.disabled}),{immediate:!0});const{queryChange:v}=te(i);return l(v,(n=>{const{query:o}=r(n),s=new RegExp(((e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"))(o),"i");t.visible=s.test(h.value)||e.created,t.visible||i.filteredOptionsCount--}),{immediate:!0}),{select:i,currentLabel:h,currentValue:u,itemSelected:a,isDisabled:d,hoverItem:()=>{e.disabled||n.disabled||(i.hoverIndex=i.optionsArray.indexOf(p.proxy))}}}(e,s),{visible:g,hover:m}=ie(s),v=o().proxy;return d.onOptionCreate(v),S((()=>{const e=v.value,{selected:t}=d,i=(d.props.multiple?t:[t]).some((e=>e.value===v.value));a((()=>{d.cachedOptions.get(e)!==v||i||d.cachedOptions.delete(e)})),d.onOptionDestroy(e,v)})),{ns:t,id:i,containerKls:n,currentLabel:c,itemSelected:h,isDisabled:u,select:d,hoverItem:p,visible:g,hover:m,selectOptionClick:function(){!0!==e.disabled&&!0!==s.groupDisabled&&d.handleOptionSelect(v)},states:s}}}),qc=["id","aria-disabled","aria-selected"];var $c=Hs(Hc,[["render",function(e,t,i,n,r,o){return O((d(),p("li",{id:e.id,class:z(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=W(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[k(e.$slots,"default",{},(()=>[g("span",null,V(e.currentLabel),1)]))],42,qc)),[[F,e.visible]])}],["__file","option.vue"]]);const Zc=u({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=b(Yc),t=io("select"),i=y((()=>e.props.popperClass)),n=y((()=>e.props.multiple)),r=y((()=>e.props.fitInputWidth)),o=c("");function a(){var t;o.value=`${null==(t=e.selectWrapper)?void 0:t.offsetWidth}px`}return s((()=>{a(),De(e.selectWrapper,a)})),{ns:t,minWidth:o,popperClass:i,isMultiple:n,isFitInputWidth:r}}});var Uc=Hs(Zc,[["render",function(e,t,i,n,r,o){return d(),p("div",{class:z([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:K({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(d(),p("div",{key:0,class:z(e.ns.be("dropdown","header"))},[k(e.$slots,"header")],2)):A("v-if",!0),k(e.$slots,"default"),e.$slots.footer?(d(),p("div",{key:1,class:z(e.ns.be("dropdown","footer"))},[k(e.$slots,"footer")],2)):A("v-if",!0)],6)}],["__file","select-dropdown.vue"]]);const Jc=(e,t,i)=>{const{t:n}=Ur(),o=io("select");Yr({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},y((()=>!1===e.suffixTransition)));const s=c(null),u=c(null),d=c(null),p=c(null),g=c(null),m=c(null),v=c(null),_=c(null),b=c(),x=C({query:""}),S=C(""),E=c([]);let T=0;const{form:k,formItem:I}=ia(),R=y((()=>!e.filterable||e.multiple||!t.visible)),M=y((()=>e.disabled||(null==k?void 0:k.disabled))),P=y((()=>{const i=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!M.value&&t.inputHovering&&i})),L=y((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),O=y((()=>o.is("reverse",L.value&&t.visible&&e.suffixTransition))),F=y((()=>(null==k?void 0:k.statusIcon)&&(null==I?void 0:I.validateState)&&Ir[null==I?void 0:I.validateState])),A=y((()=>e.remote?300:0)),D=y((()=>e.loading?e.loadingText||n("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||n("el.select.noMatch"):0===t.options.size?e.noDataText||n("el.select.noData"):null))),z=y((()=>{const e=Array.from(t.options.values()),i=[];return E.value.forEach((t=>{const n=e.findIndex((e=>e.currentLabel===t));n>-1&&i.push(e[n])})),i.length>=e.length?i:e})),N=y((()=>Array.from(t.cachedOptions.values()))),j=y((()=>{const i=z.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!i})),G=ea(),B=y((()=>["small"].includes(G.value)?"small":"default")),W=y({get:()=>t.visible&&!1!==D.value,set(e){t.visible=e}});l([()=>M.value,()=>G.value,()=>null==k?void 0:k.size],(()=>{a((()=>{V()}))})),l((()=>e.placeholder),(i=>{t.cachedPlaceHolder=t.currentPlaceholder=i,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")})),l((()=>e.modelValue),((i,n)=>{e.multiple&&(V(),i&&i.length>0||u.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",K(t.query))),H(),e.filterable&&!e.multiple&&(t.inputLength=20),!lr(i,n)&&e.validateEvent&&(null==I||I.validate("change").catch((e=>{})))}),{flush:"post",deep:!0}),l((()=>t.visible),(n=>{var r,o,s,l,c;n?(null==(o=null==(r=p.value)?void 0:r.updatePopper)||o.call(r),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,null==(l=null==(s=d.value)?void 0:s.focus)||l.call(s),e.multiple?null==(c=u.value)||c.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),K(t.query),e.multiple||e.remote||(x.value.query="",ne(x),ne(S)))):(e.filterable&&(w(e.filterMethod)&&e.filterMethod(""),w(e.remoteMethod)&&e.remoteMethod("")),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,$(),a((()=>{u.value&&""===u.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),i.emit("visible-change",n)})),l((()=>t.options.entries()),(()=>{var i,n,r;if(!_e)return;null==(n=null==(i=p.value)?void 0:i.updatePopper)||n.call(i),e.multiple&&V();const o=(null==(r=v.value)?void 0:r.querySelectorAll("input"))||[];(e.filterable||e.defaultFirstOption||hr(e.modelValue))&&Array.from(o).includes(document.activeElement)||H(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Y()}),{flush:"post"}),l((()=>t.hoverIndex),(e=>{dr(e)&&e>-1?b.value=z.value[e]||{}:b.value={},z.value.forEach((e=>{e.hover=b.value===e}))}));const V=()=>{a((()=>{var e,i;if(!s.value)return;const n=s.value.$el.querySelector("input");T=T||(n.clientHeight>0?n.clientHeight+2:0);const r=m.value,a=getComputedStyle(n).getPropertyValue(o.cssVarName("input-height")),l=Number.parseFloat(a)||(c=G.value||(null==k?void 0:k.size),Br[c||"default"]);var c;const h=G.value||l===T||T<=0?l:T;!(null===n.offsetParent)&&(n.style.height=(0===t.selected.length?h:Math.max(r?r.clientHeight+(r.clientHeight>h?6:0):0,h))-2+"px"),t.visible&&!1!==D.value&&(null==(i=null==(e=p.value)?void 0:e.updatePopper)||i.call(e))}))},K=async i=>{t.previousQuery===i||t.isOnComposition||(null!==t.previousQuery||!w(e.filterMethod)&&!w(e.remoteMethod)?(t.previousQuery=i,a((()=>{var e,i;t.visible&&(null==(i=null==(e=p.value)?void 0:e.updatePopper)||i.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&a((()=>{if(!M.value){const i=15*u.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,i):i,X()}V()})),e.remote&&w(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(i)):w(e.filterMethod)?(e.filterMethod(i),ne(S)):(t.filteredOptionsCount=t.optionsCount,x.value.query=i,ne(x),ne(S)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await a(),Y())):t.previousQuery=i)},X=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=u.value.value?"":t.cachedPlaceHolder)},Y=()=>{const e=z.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),i=e.find((e=>e.created)),n=e[0];t.hoverIndex=ae(z.value,i||n)},H=()=>{var i;if(!e.multiple){const n=q(e.modelValue);return(null==(i=n.props)?void 0:i.created)?(t.createdLabel=n.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=n.currentLabel,t.selected=n,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const n=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{n.push(q(e))})),t.selected=n,a((()=>{V()}))},q=i=>{let n;const r="object"===re(i).toLowerCase(),o="null"===re(i).toLowerCase(),s="undefined"===re(i).toLowerCase();for(let l=t.cachedOptions.size-1;l>=0;l--){const t=N.value[l];if(r?Vi(t.value,e.valueKey)===Vi(i,e.valueKey):t.value===i){n={value:i,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(n)return n;const a={value:i,currentLabel:r?i.label:o||s?"":i};return e.multiple&&(a.hitState=!1),a},$=()=>{setTimeout((()=>{const i=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>z.value.findIndex((t=>Vi(t,i)===Vi(e,i)))))):t.hoverIndex=-1:t.hoverIndex=z.value.findIndex((e=>ge(e)===ge(t.selected)))}),300)},Z=()=>{var e;t.inputWidth=null==(e=s.value)?void 0:e.$el.offsetWidth},U=rr((()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,K(t.query))}),A.value),J=rr((e=>{K(e.target.value)}),A.value),Q=t=>{lr(e.modelValue,t)||i.emit(Nr,t)},ee=e=>function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return void 0!==i&&(r=xt(i),r=i<0?or(n+r,0):sr(r,n-1)),function(e,t,i,n){for(var r=e.length,o=i+(n?1:-1);n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}(e,er(t),r,!0)}(e,(e=>!t.disabledOptions.has(e))),ie=(n,r)=>{const o=t.selected.indexOf(r);if(o>-1&&!M.value){const t=e.modelValue.slice();t.splice(o,1),i.emit(zr,t),Q(t),i.emit("remove-tag",r.value)}n.stopPropagation(),ue()},oe=n=>{n.stopPropagation();const r=e.multiple?[]:"";if(!h(r))for(const e of t.selected)e.isDisabled&&r.push(e.value);i.emit(zr,r),Q(r),t.hoverIndex=-1,t.visible=!1,i.emit("clear"),ue()},se=n=>{var r;if(e.multiple){const o=(e.modelValue||[]).slice(),s=ae(o,n.value);s>-1?o.splice(s,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(n.value),i.emit(zr,o),Q(o),n.created&&(t.query="",K(""),t.inputLength=20),e.filterable&&(null==(r=u.value)||r.focus())}else i.emit(zr,n.value),Q(n.value),t.visible=!1;le(),t.visible||a((()=>{ce(n)}))},ae=(t=[],i)=>{if(!f(i))return t.indexOf(i);const n=e.valueKey;let r=-1;return t.some(((e,t)=>te(Vi(e,n))===Vi(i,n)&&(r=t,!0))),r},le=()=>{const e=u.value||s.value;e&&(null==e||e.focus())},ce=e=>{var t,i,n,r,s;const a=Array.isArray(e)?e[0]:e;let l=null;if(null==a?void 0:a.value){const e=z.value.filter((e=>e.value===a.value));e.length>0&&(l=e[0].$el)}if(p.value&&l){const e=null==(r=null==(n=null==(i=null==(t=p.value)?void 0:t.popperRef)?void 0:i.contentRef)?void 0:n.querySelector)?void 0:r.call(n,`.${o.be("dropdown","wrap")}`);e&&function(e,t){if(!_e)return;if(!t)return void(e.scrollTop=0);const i=[];let n=t.offsetParent;for(;null!==n&&e!==n&&e.contains(n);)i.push(n),n=n.offsetParent;const r=t.offsetTop+i.reduce(((e,t)=>e+t.offsetTop),0),o=r+t.offsetHeight,s=e.scrollTop,a=s+e.clientHeight;r<s?e.scrollTop=r:o>a&&(e.scrollTop=o-e.clientHeight)}(e,l)}null==(s=_.value)||s.handleScroll()},he=e=>{if(!Array.isArray(t.selected))return;const i=ee(t.selected.map((e=>e.value))),n=t.selected[i];return n?!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState):void 0},ue=()=>{var e,i;t.visible?null==(e=u.value||s.value)||e.focus():null==(i=s.value)||i.focus()},de=()=>{t.visible=!1},pe=e=>{e&&!t.mouseEnter||M.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:p.value&&p.value.isFocusInsideContent()||(t.visible=!t.visible),ue())},ge=t=>f(t.value)?Vi(t.value,e.valueKey):t.value,fe=y((()=>z.value.filter((e=>e.visible)).every((e=>e.disabled)))),me=y((()=>e.multiple?t.selected.slice(0,e.maxCollapseTags):[])),ve=y((()=>e.multiple?t.selected.slice(e.maxCollapseTags):[])),ye=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!fe.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const i=z.value[t.hoverIndex];!0!==i.disabled&&!0!==i.states.groupDisabled&&i.visible||ye(e),a((()=>ce(b.value)))}}else t.visible=!0},be=y((()=>({maxWidth:r(t.inputWidth)-32-(F.value?22:0)+"px",width:"100%"})));return{optionList:E,optionsArray:z,hoverOption:b,selectSize:G,handleResize:()=>{var t,i;Z(),null==(i=null==(t=p.value)?void 0:t.updatePopper)||i.call(t),e.multiple&&V()},debouncedOnInputChange:U,debouncedQueryChange:J,deletePrevTag:n=>{if(n.code!==Ar){if(n.target.value.length<=0&&!he()){const t=e.modelValue.slice(),n=ee(t);if(n<0)return;t.splice(n,1),i.emit(zr,t),Q(t)}1===n.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}},deleteTag:ie,deleteSelected:oe,handleOptionSelect:se,scrollToOption:ce,readonly:R,resetInputHeight:V,showClose:P,iconComponent:L,iconReverse:O,showNewOption:j,collapseTagSize:B,setSelected:H,managePlaceholder:X,selectDisabled:M,emptyText:D,toggleLastOptionHitState:he,resetInputState:e=>{e.code!==Dr&&he(!1),t.inputLength=15*u.value.value.length+20,V()},handleComposition:e=>{const i=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,a((()=>K(i)));else{const e=i[i.length-1]||"";t.isOnComposition=!Vr(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e),e.disabled&&t.disabledOptions.set(e.value,e)},onOptionDestroy:(e,i)=>{t.options.get(e)===i&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},handleMenuEnter:()=>{a((()=>ce(t.selected)))},handleFocus:n=>{t.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),t.focused=!0,i.emit("focus",n))},focus:ue,blur:()=>{var e,i,n;t.visible=!1,null==(e=s.value)||e.blur(),null==(n=null==(i=d.value)?void 0:i.blur)||n.call(i)},handleBlur:e=>{var n,r,o;(null==(n=p.value)?void 0:n.isFocusInsideContent(e))||(null==(r=g.value)?void 0:r.isFocusInsideContent(e))||(null==(o=v.value)?void 0:o.contains(e.relatedTarget))||(t.visible&&de(),t.focused=!1,i.emit("blur",e))},handleClearClick:e=>{oe(e)},handleClose:de,handleKeydownEscape:e=>{t.visible&&(e.preventDefault(),e.stopPropagation(),t.visible=!1)},toggleMenu:pe,selectOption:()=>{t.visible?z.value[t.hoverIndex]&&se(z.value[t.hoverIndex]):pe()},getValueKey:ge,navigateOptions:ye,handleDeleteTooltipTag:(e,t)=>{var i,n;ie(e,t),null==(n=null==(i=g.value)?void 0:i.updatePopper)||n.call(i)},dropMenuVisible:W,queryChange:x,groupQueryChange:S,showTagList:me,collapseTagList:ve,selectTagsStyle:be,reference:s,input:u,iOSInput:d,tooltipRef:p,tagTooltipRef:g,tags:m,selectWrapper:v,scrollbar:_,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Qc=u({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:i}){let n=[];return()=>{var e,r;const o=null==(e=t.default)?void 0:e.call(t),s=[];return o.length&&function e(t){Array.isArray(t)&&t.forEach((t=>{var i,n,r,o;const a=null==(i=(null==t?void 0:t.type)||{})?void 0:i.name;"ElOptionGroup"===a?e(h(t.children)||Array.isArray(t.children)||!w(null==(n=t.children)?void 0:n.default)?t.children:null==(r=t.children)?void 0:r.default()):"ElOption"===a?s.push(null==(o=t.props)?void 0:o.label):Array.isArray(t.children)&&e(t.children)}))}(null==(r=o[0])?void 0:r.children),function(e,t){if(e.length!==t.length)return!1;for(const[i]of e.entries())if(e[i]!=t[i])return!1;return!0}(s,n)||(n=s,i("update-options",s)),o}}});const eh="ElSelect",th=u({name:eh,componentName:eh,components:{ElInput:fa,ElSelectMenu:Uc,ElOption:$c,ElOptions:Qc,ElTag:kc,ElScrollbar:ka,ElTooltip:Wl,ElIcon:Us},directives:{ClickOutside:Cc},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Wr},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Sl.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:kr,default:yr},fitInputWidth:Boolean,suffixIcon:{type:kr,default:vr},tagType:{...Sc.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:xo,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[zr,Nr,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const i=io("select"),n=io("input"),{t:o}=Ur(),l=Ls(),c=function(e){const{t:t}=Ur();return Y({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}(e),{optionList:h,optionsArray:u,hoverOption:d,selectSize:p,readonly:g,handleResize:f,collapseTagSize:m,debouncedOnInputChange:v,debouncedQueryChange:_,deletePrevTag:b,deleteTag:x,deleteSelected:w,handleOptionSelect:C,scrollToOption:S,setSelected:E,resetInputHeight:k,managePlaceholder:I,showClose:R,selectDisabled:M,iconComponent:P,iconReverse:L,showNewOption:O,emptyText:F,toggleLastOptionHitState:A,resetInputState:D,handleComposition:z,onOptionCreate:N,onOptionDestroy:j,handleMenuEnter:G,handleFocus:B,focus:W,blur:V,handleBlur:K,handleClearClick:X,handleClose:H,handleKeydownEscape:q,toggleMenu:$,selectOption:Z,getValueKey:U,navigateOptions:J,handleDeleteTooltipTag:Q,dropMenuVisible:ee,reference:te,input:ne,iOSInput:re,tooltipRef:oe,tagTooltipRef:se,tags:ae,selectWrapper:le,scrollbar:ce,queryChange:he,groupQueryChange:ue,handleMouseEnter:de,handleMouseLeave:pe,showTagList:ge,collapseTagList:fe,selectTagsStyle:me}=Jc(e,c,t),{inputWidth:ve,selected:_e,inputLength:ye,filteredOptionsCount:be,visible:we,selectedLabel:Ce,hoverIndex:Se,query:Ee,inputHovering:Te,currentPlaceholder:ke,menuVisibleOnFocus:Ie,isOnComposition:Re,options:Me,cachedOptions:Pe,optionsCount:Le,prefixWidth:Oe}=ie(c),Fe=y((()=>{const t=[i.b()],n=r(p);return n&&t.push(i.m(n)),e.disabled&&t.push(i.m("disabled")),t})),Ae=y((()=>[i.e("tags"),i.is("disabled",r(M))])),ze=y((()=>[i.b("tags-wrapper"),{"has-prefix":r(Oe)&&r(_e).length}])),Ne=y((()=>[i.e("input"),i.is(r(p)),i.is("disabled",r(M))])),je=y((()=>[i.e("input"),i.is(r(p)),i.em("input","iOS")])),Ge=y((()=>[i.is("empty",!e.allowCreate&&Boolean(r(Ee))&&0===r(be))])),Be=y((()=>({maxWidth:(r(ve)>123&&r(_e).length>e.maxCollapseTags?r(ve)-123:r(ve)-75)+"px"}))),We=y((()=>({marginLeft:`${r(Oe)}px`,flexGrow:1,width:r(ye)/(r(ve)-32)+"%",maxWidth:r(ve)-42+"px"})));T(Yc,Y({props:e,options:Me,optionsArray:u,cachedOptions:Pe,optionsCount:Le,filteredOptionsCount:be,hoverIndex:Se,handleOptionSelect:C,onOptionCreate:N,onOptionDestroy:j,selectWrapper:le,selected:_e,setSelected:E,queryChange:he,groupQueryChange:ue})),s((()=>{c.cachedPlaceHolder=ke.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ke.value=""),De(le,f),e.remote&&e.multiple&&k(),a((()=>{const e=te.value&&te.value.$el;if(e&&(ve.value=e.getBoundingClientRect().width,t.slots.prefix)){const t=e.querySelector(`.${n.e("prefix")}`);Oe.value=Math.max(t.getBoundingClientRect().width+11,30)}})),E()})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(zr,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(zr,"");const Ve=y((()=>{var e,t;return null==(t=null==(e=oe.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{isIOS:xe,onOptionsRendered:e=>{h.value=e},prefixWidth:Oe,selectSize:p,readonly:g,handleResize:f,collapseTagSize:m,debouncedOnInputChange:v,debouncedQueryChange:_,deletePrevTag:b,deleteTag:x,handleDeleteTooltipTag:Q,deleteSelected:w,handleOptionSelect:C,scrollToOption:S,inputWidth:ve,selected:_e,inputLength:ye,filteredOptionsCount:be,visible:we,selectedLabel:Ce,hoverIndex:Se,query:Ee,inputHovering:Te,currentPlaceholder:ke,menuVisibleOnFocus:Ie,isOnComposition:Re,options:Me,resetInputHeight:k,managePlaceholder:I,showClose:R,selectDisabled:M,iconComponent:P,iconReverse:L,showNewOption:O,emptyText:F,toggleLastOptionHitState:A,resetInputState:D,handleComposition:z,handleMenuEnter:G,handleFocus:B,focus:W,blur:V,handleBlur:K,handleClearClick:X,handleClose:H,handleKeydownEscape:q,toggleMenu:$,selectOption:Z,getValueKey:U,navigateOptions:J,dropMenuVisible:ee,reference:te,input:ne,iOSInput:re,tooltipRef:oe,popperPaneRef:Ve,tags:ae,selectWrapper:le,scrollbar:ce,wrapperKls:Fe,tagsKls:Ae,tagWrapperKls:ze,inputKls:Ne,iOSInputKls:je,scrollbarKls:Ge,selectTagsStyle:me,nsSelect:i,tagTextStyle:Be,inputStyle:We,handleMouseEnter:de,handleMouseLeave:pe,showTagList:ge,collapseTagList:fe,tagTooltipRef:se,contentId:l,hoverOption:d}}}),ih=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],nh=["disabled"],rh={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};var oh=Hs(th,[["render",function(e,t,i,n,r,o){const s=oe("el-tag"),a=oe("el-tooltip"),l=oe("el-icon"),c=oe("el-input"),h=oe("el-option"),u=oe("el-options"),f=oe("el-scrollbar"),m=oe("el-select-menu"),v=se("click-outside");return O((d(),p("div",{ref:"selectWrapper",class:z(e.wrapperKls),onMouseenter:t[22]||(t[22]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[23]||(t[23]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onClick:t[24]||(t[24]=W(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[B(a,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:j((()=>{var i,n;return[g("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=t=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=t=>e.inputHovering=!1)},[e.multiple?(d(),p("div",{key:0,ref:"tags",tabindex:"-1",class:z(e.tagsKls),style:K(e.selectTagsStyle),onClick:t[15]||(t[15]=(...t)=>e.focus&&e.focus(...t))},[e.collapseTags&&e.selected.length?(d(),N(X,{key:0,onAfterLeave:e.resetInputHeight},{default:j((()=>[g("span",{class:z(e.tagWrapperKls)},[(d(!0),p(D,null,ae(e.showTagList,(t=>(d(),N(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:i=>e.deleteTag(i,t)},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text")),style:K(e.tagTextStyle)},V(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(d(),N(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:j((()=>[e.collapseTagsTooltip?(d(),N(a,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text"))},"+ "+V(e.selected.length-e.maxCollapseTags),3)])),content:j((()=>[g("div",{class:z(e.nsSelect.e("collapse-tags"))},[(d(!0),p(D,null,ae(e.collapseTagList,(t=>(d(),p("div",{key:e.getValueKey(t),class:z(e.nsSelect.e("collapse-tag"))},[B(s,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:i=>e.handleDeleteTooltipTag(i,t)},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text")),style:K({maxWidth:e.inputWidth-75+"px"})},V(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(d(),p("span",{key:1,class:z(e.nsSelect.e("tags-text"))},"+ "+V(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):A("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):A("v-if",!0),e.collapseTags?A("v-if",!0):(d(),N(X,{key:1,onAfterLeave:e.resetInputHeight},{default:j((()=>[g("span",{class:z(e.tagWrapperKls),style:K(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(d(!0),p(D,null,ae(e.selected,(t=>(d(),N(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:i=>e.deleteTag(i,t)},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text")),style:K({maxWidth:e.inputWidth-75+"px"})},V(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],6)])),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?O((d(),p("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.query=t),type:"text",class:z(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:K(e.inputStyle),role:"combobox","aria-activedescendant":(null==(i=e.hoverOption)?void 0:i.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[3]||(t[3]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[4]||(t[4]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[5]||(t[5]=le(W((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[6]||(t[6]=le(W((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[7]||(t[7]=le(((...t)=>e.handleKeydownEscape&&e.handleKeydownEscape(...t)),["esc"])),t[8]||(t[8]=le(W(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[9]||(t[9]=le(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[10]||(t[10]=le((t=>e.visible=!1),["tab"]))],onCompositionstart:t[11]||(t[11]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[14]||(t[14]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,ih)),[[ce,e.query]]):A("v-if",!0)],6)):A("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(d(),p("input",{key:1,ref:"iOSInput",class:z(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,nh)):A("v-if",!0),B(c,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=t=>e.selectedLabel=t),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:z([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":(null==(n=e.hoverOption)?void 0:n.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=le(W((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[18]||(t[18]=le(W((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),le(W(e.selectOption,["stop","prevent"]),["enter"]),le(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=le((t=>e.visible=!1),["tab"]))]},he({suffix:j((()=>[e.iconComponent&&!e.showClose?(d(),N(l,{key:0,class:z([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:j((()=>[(d(),N(G(e.iconComponent)))])),_:1},8,["class"])):A("v-if",!0),e.showClose&&e.clearIcon?(d(),N(l,{key:1,class:z([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:j((()=>[(d(),N(G(e.clearIcon)))])),_:1},8,["class","onClick"])):A("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:j((()=>[g("div",rh,[k(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]})),content:j((()=>[B(m,null,he({default:j((()=>[O(B(f,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:z(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:j((()=>[e.showNewOption?(d(),N(h,{key:0,value:e.query,created:!0},null,8,["value"])):A("v-if",!0),B(u,{onUpdateOptions:e.onOptionsRendered},{default:j((()=>[k(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[F,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(d(),p(D,{key:0},[e.$slots.empty?k(e.$slots,"empty",{key:0}):(d(),p("p",{key:1,class:z(e.nsSelect.be("dropdown","empty"))},V(e.emptyText),3))],64)):A("v-if",!0)])),_:2},[e.$slots.header?{name:"header",fn:j((()=>[k(e.$slots,"header")]))}:void 0,e.$slots.footer?{name:"footer",fn:j((()=>[k(e.$slots,"footer")]))}:void 0]),1024)])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[v,e.handleClose,e.popperPaneRef]])}],["__file","select.vue"]]);const sh=u({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=io("select"),i=c(!0),n=o(),r=c([]);T(Xc,Y({...ie(e)}));const a=b(Yc);s((()=>{r.value=h(n.subTree)}));const h=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var i;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(i=e.children)?void 0:i.length)&&t.push(...h(e))})),t},{groupQueryChange:u}=te(a);return l(u,(()=>{i.value=r.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:i,ns:t}}});var ah=Hs(sh,[["render",function(e,t,i,n,r,o){return O((d(),p("ul",{class:z(e.ns.be("group","wrap"))},[g("li",{class:z(e.ns.be("group","title"))},V(e.label),3),g("li",null,[g("ul",{class:z(e.ns.b("group"))},[k(e.$slots,"default")],2)])],2)),[[F,e.visible]])}],["__file","option-group.vue"]]);const lh=Rr(oh,{Option:$c,OptionGroup:ah}),ch=Mr($c);Mr(ah);const hh=Tr({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Wr},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:kr},activeActionIcon:{type:kr},activeIcon:{type:kr},inactiveIcon:{type:kr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Function},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),uh={[zr]:e=>ur(e)||h(e)||dr(e),[Nr]:e=>ur(e)||h(e)||dr(e),[jr]:e=>ur(e)||h(e)||dr(e)},dh=["onClick"],ph=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],gh=["aria-hidden"],fh=["aria-hidden"],mh=["aria-hidden"],vh="ElSwitch",_h=u({name:vh}),yh=u({..._h,props:hh,emits:uh,setup(e,{expose:t,emit:i}){const n=e,h=o(),{formItem:u}=ia(),f=ea(),m=io("switch");[['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]].forEach((e=>{Yr({from:e[0],replacement:e[1],scope:vh,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},y((()=>{var t;return!!(null==(t=h.vnode.props)?void 0:t[e[2]])})))}));const{inputId:v}=na(n,{formItemContext:u}),_=ta(y((()=>n.loading))),b=c(!1!==n.modelValue),x=c(),w=c(),C=y((()=>[m.b(),m.m(f.value),m.is("disabled",_.value),m.is("checked",R.value)])),S=y((()=>[m.e("label"),m.em("label","left"),m.is("active",!R.value)])),E=y((()=>[m.e("label"),m.em("label","right"),m.is("active",R.value)])),T=y((()=>({width:mr(n.width)})));l((()=>n.modelValue),(()=>{b.value=!0})),l((()=>n.value),(()=>{b.value=!1}));const I=y((()=>b.value?n.modelValue:n.value)),R=y((()=>I.value===n.activeValue));[n.activeValue,n.inactiveValue].includes(I.value)||(i(zr,n.inactiveValue),i(Nr,n.inactiveValue),i(jr,n.inactiveValue)),l(R,(e=>{var t;x.value.checked=e,n.validateEvent&&(null==(t=null==u?void 0:u.validate)||t.call(u,"change").catch((e=>{})))}));const M=()=>{const e=R.value?n.inactiveValue:n.activeValue;i(zr,e),i(Nr,e),i(jr,e),a((()=>{x.value.checked=R.value}))},P=()=>{if(_.value)return;const{beforeChange:e}=n;if(!e)return void M();const t=e();[ue(t),ur(t)].includes(!0)||fr(vh,"beforeChange must return type `Promise<boolean>` or `boolean`"),ue(t)?t.then((e=>{e&&M()})).catch((e=>{})):t&&M()},L=y((()=>m.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})));return s((()=>{x.value.checked=R.value})),t({focus:()=>{var e,t;null==(t=null==(e=x.value)?void 0:e.focus)||t.call(e)},checked:R}),(e,t)=>(d(),p("div",{class:z(r(C)),style:K(r(L)),onClick:W(P,["prevent"])},[g("input",{id:r(v),ref_key:"input",ref:x,class:z(r(m).e("input")),type:"checkbox",role:"switch","aria-checked":r(R),"aria-disabled":r(_),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:r(_),tabindex:e.tabindex,onChange:M,onKeydown:le(P,["enter"])},null,42,ph),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?A("v-if",!0):(d(),p("span",{key:0,class:z(r(S))},[e.inactiveIcon?(d(),N(r(Us),{key:0},{default:j((()=>[(d(),N(G(e.inactiveIcon)))])),_:1})):A("v-if",!0),!e.inactiveIcon&&e.inactiveText?(d(),p("span",{key:1,"aria-hidden":r(R)},V(e.inactiveText),9,gh)):A("v-if",!0)],2)),g("span",{ref_key:"core",ref:w,class:z(r(m).e("core")),style:K(r(T))},[e.inlinePrompt?(d(),p("div",{key:0,class:z(r(m).e("inner"))},[e.activeIcon||e.inactiveIcon?(d(),N(r(Us),{key:0,class:z(r(m).is("icon"))},{default:j((()=>[(d(),N(G(r(R)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(d(),p("span",{key:1,class:z(r(m).is("text")),"aria-hidden":!r(R)},V(r(R)?e.activeText:e.inactiveText),11,fh)):A("v-if",!0)],2)):A("v-if",!0),g("div",{class:z(r(m).e("action"))},[e.loading?(d(),N(r(Us),{key:0,class:z(r(m).is("loading"))},{default:j((()=>[B(r(wr))])),_:1},8,["class"])):r(R)?k(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(d(),N(r(Us),{key:0},{default:j((()=>[(d(),N(G(e.activeActionIcon)))])),_:1})):A("v-if",!0)])):r(R)?A("v-if",!0):k(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(d(),N(r(Us),{key:0},{default:j((()=>[(d(),N(G(e.inactiveActionIcon)))])),_:1})):A("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?A("v-if",!0):(d(),p("span",{key:1,class:z(r(E))},[e.activeIcon?(d(),N(r(Us),{key:0},{default:j((()=>[(d(),N(G(e.activeIcon)))])),_:1})):A("v-if",!0),!e.activeIcon&&e.activeText?(d(),p("span",{key:1,"aria-hidden":!r(R)},V(e.activeText),9,mh)):A("v-if",!0)],2))],14,dh))}}),bh=Rr(Hs(yh,[["__file","switch.vue"]])),xh=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},wh="propertychange",Ch=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function Sh(e,t){return e>t?1:e<t?-1:0}function Eh(e,t,i){if(e[0]<=t)return 0;const n=e.length;if(t<=e[n-1])return n-1;if("function"==typeof i){for(let r=1;r<n;++r){const n=e[r];if(n===t)return r;if(n<t)return i(t,e[r-1],n)>0?r-1:r}return n-1}if(i>0){for(let i=1;i<n;++i)if(e[i]<t)return i-1;return n-1}if(i<0){for(let i=1;i<n;++i)if(e[i]<=t)return i;return n-1}for(let r=1;r<n;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return n-1}function Th(e,t,i){for(;t<i;){const n=e[t];e[t]=e[i],e[i]=n,++t,--i}}function kh(e,t){const i=Array.isArray(t)?t:[t],n=i.length;for(let r=0;r<n;r++)e[e.length]=i[r]}function Ih(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Rh(){return!0}function Mh(){return!1}function Ph(){}function Lh(e){let t,i,n,r=!1;return function(){const o=Array.prototype.slice.call(arguments);return r&&this===n&&Ih(o,i)||(r=!0,n=this,i=o,t=e.apply(this,arguments)),t}}function Oh(e){for(const t in e)delete e[t]}function Fh(e){let t;for(t in e)return!1;return!t}const Ah=class extends Ch{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),n=i[e]||(i[e]=[]);n.includes(t)||n.push(t)}dispatchEvent(e){const t="string"==typeof e,i=t?e:e.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const r=t?new xh(e):e;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;i in o||(o[i]=0,s[i]=0),++o[i];for(let l=0,c=n.length;l<c;++l)if(a="handleEvent"in n[l]?n[l].handleEvent(r):n[l].call(this,r),!1===a||r.propagationStopped){a=!1;break}if(0==--o[i]){let e=s[i];for(delete s[i];e--;)this.removeEventListener(i,Ph);delete o[i]}return a}disposeInternal(){this.listeners_&&Oh(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const n=i.indexOf(t);-1!==n&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[n]=Ph,++this.pendingRemovals_[e]):(i.splice(n,1),0===i.length&&delete this.listeners_[e]))}},Dh="change",zh="error",Nh="contextmenu",jh="click",Gh="dblclick",Bh="keydown",Wh="keypress",Vh="load",Kh="touchmove",Xh="wheel";function Yh(e,t,i,n,r){if(n&&n!==e&&(i=i.bind(n)),r){const n=i;i=function(){e.removeEventListener(t,i),n.apply(this,arguments)}}const o={target:e,type:t,listener:i};return e.addEventListener(t,i),o}function Hh(e,t,i,n){return Yh(e,t,i,n,!0)}function qh(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Oh(e))}class $h extends Ah{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Dh)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,n=new Array(i);for(let r=0;r<i;++r)n[r]=Yh(this,e[r],t);return n}return Yh(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const n=e.length;i=new Array(n);for(let r=0;r<n;++r)i[r]=Hh(this,e[r],t)}else i=Hh(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)!function(e){if(Array.isArray(e))for(let t=0,i=e.length;t<i;++t)qh(e[t]);else qh(e)}(i);else if(Array.isArray(e))for(let n=0,r=e.length;n<r;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}$h.prototype.on,$h.prototype.once,$h.prototype.un;const Zh=$h;function Uh(){throw new Error("Unimplemented abstract method.")}let Jh=0;function Qh(e){return e.ol_uid||(e.ol_uid=String(++Jh))}class eu extends xh{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}const tu=class extends Zh{constructor(e){super(),this.on,this.once,this.un,Qh(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new eu(i,e,t)),i=wh,this.hasListener(i)&&this.dispatchEvent(new eu(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const n=this.values_||(this.values_={});if(i)n[e]=t;else{const i=n[e];n[e]=t,i!==t&&this.notify(e,i)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Fh(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},iu="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",nu=iu.includes("firefox");iu.includes("safari")&&!iu.includes("chrom")&&(iu.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(iu));const ru=iu.includes("webkit")&&!iu.includes("edge"),ou=iu.includes("macintosh"),su="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,au="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,lu="undefined"!=typeof Image&&Image.prototype.decode,cu=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(t){}return e}();function hu(e,t){if(!e)throw new Error(t)}function uu(e,t){const i=t[0],n=t[1];return t[0]=e[0]*i+e[2]*n+e[4],t[1]=e[1]*i+e[3]*n+e[5],t}function du(e,t,i,n,r,o,s,a){const l=Math.sin(o),c=Math.cos(o);return e[0]=n*c,e[1]=r*l,e[2]=-n*l,e[3]=r*c,e[4]=s*n*c-a*n*l+t,e[5]=s*r*l+a*r*c+i,e}function pu(e,t){const i=(n=t)[0]*n[3]-n[1]*n[2];var n;hu(0!==i,"Transformation matrix cannot be inverted");const r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],c=t[5];return e[0]=a/i,e[1]=-o/i,e[2]=-s/i,e[3]=r/i,e[4]=(s*c-a*l)/i,e[5]=-(r*c-o*l)/i,e}let gu;function fu(e){const t="matrix("+e.join(", ")+")";if(au)return t;const i=gu||(gu=document.createElement("div"));return i.style.transform=t,i.style.transform}new Array(6);const mu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function vu(e){const t=[1/0,1/0,-1/0,-1/0];for(let i=0,n=e.length;i<n;++i)Pu(t,e[i]);return t}function _u(e,t,i){return i?(i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]+t,i[3]=e[3]+t,i):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function yu(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function bu(e,t,i){let n,r;return n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,r=i<e[1]?e[1]-i:e[3]<i?i-e[3]:0,n*n+r*r}function xu(e,t){return Cu(e,t[0],t[1])}function wu(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function Cu(e,t,i){return e[0]<=t&&t<=e[2]&&e[1]<=i&&i<=e[3]}function Su(e,t){const i=e[0],n=e[1],r=e[2],o=e[3],s=t[0],a=t[1];let l=mu.UNKNOWN;return s<i?l|=mu.LEFT:s>r&&(l|=mu.RIGHT),a<n?l|=mu.BELOW:a>o&&(l|=mu.ABOVE),l===mu.UNKNOWN&&(l=mu.INTERSECTING),l}function Eu(e,t,i,n,r){return r?(r[0]=e,r[1]=t,r[2]=i,r[3]=n,r):[e,t,i,n]}function Tu(e){return Eu(1/0,1/0,-1/0,-1/0,e)}function ku(e,t){const i=e[0],n=e[1];return Eu(i,n,i,n,t)}function Iu(e,t,i,n,r){return Lu(Tu(r),e,t,i,n)}function Ru(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Mu(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Pu(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Lu(e,t,i,n,r){for(;i<n;i+=r)Ou(e,t[i],t[i+1]);return e}function Ou(e,t,i){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],i),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],i)}function Fu(e,t){let i;return i=t(Du(e)),i||(i=t(zu(e)),i||(i=t(Xu(e)),i||(i=t(Ku(e)),i||!1)))}function Au(e){let t=0;return qu(e)||(t=Yu(e)*Wu(e)),t}function Du(e){return[e[0],e[1]]}function zu(e){return[e[2],e[1]]}function Nu(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function ju(e,t){let i;if("bottom-left"===t)i=Du(e);else if("bottom-right"===t)i=zu(e);else if("top-left"===t)i=Ku(e);else{if("top-right"!==t)throw new Error("Invalid corner");i=Xu(e)}return i}function Gu(e,t,i,n,r){const[o,s,a,l,c,h,u,d]=Bu(e,t,i,n);return Eu(Math.min(o,a,c,u),Math.min(s,l,h,d),Math.max(o,a,c,u),Math.max(s,l,h,d),r)}function Bu(e,t,i,n){const r=t*n[0]/2,o=t*n[1]/2,s=Math.cos(i),a=Math.sin(i),l=r*s,c=r*a,h=o*s,u=o*a,d=e[0],p=e[1];return[d-l+u,p-c-h,d-l-u,p-c+h,d+l-u,p+c+h,d+l+u,p+c-h,d-l+u,p-c-h]}function Wu(e){return e[3]-e[1]}function Vu(e,t,i){const n=i||[1/0,1/0,-1/0,-1/0];return Hu(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):Tu(n),n}function Ku(e){return[e[0],e[3]]}function Xu(e){return[e[2],e[3]]}function Yu(e){return e[2]-e[0]}function Hu(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function qu(e){return e[2]<e[0]||e[3]<e[1]}function $u(e,t){const i=t.getExtent(),n=Nu(e);if(t.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){const t=Yu(i),r=Math.floor((n[0]-i[0])/t)*t;e[0]-=r,e[2]-=r}return e}const Zu={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Uu=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Zu[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Ju=6378137,Qu=Math.PI*Ju,ed=[-Qu,-Qu,Qu,Qu],td=[-180,-85,180,85],id=Ju*Math.log(Math.tan(Math.PI/2));class nd extends Uu{constructor(e){super({code:e,units:"m",extent:ed,global:!0,worldExtent:td,getPointResolution:function(e,t){return e/Math.cosh(t[1]/Ju)}})}}const rd=[new nd("EPSG:3857"),new nd("EPSG:102100"),new nd("EPSG:102113"),new nd("EPSG:900913"),new nd("http://www.opengis.net/def/crs/EPSG/0/3857"),new nd("http://www.opengis.net/gml/srs/epsg.xml#3857")];function od(e,t,i){const n=e.length;i=i>1?i:2,void 0===t&&(t=i>2?e.slice():new Array(n));for(let r=0;r<n;r+=i){t[r]=Qu*e[r]/180;let i=Ju*Math.log(Math.tan(Math.PI*(+e[r+1]+90)/360));i>id?i=id:i<-id&&(i=-id),t[r+1]=i}return t}function sd(e,t,i){const n=e.length;i=i>1?i:2,void 0===t&&(t=i>2?e.slice():new Array(n));for(let r=0;r<n;r+=i)t[r]=180*e[r]/Qu,t[r+1]=360*Math.atan(Math.exp(e[r+1]/Ju))/Math.PI-90;return t}const ad=[-180,-90,180,90],ld=6378137*Math.PI/180;class cd extends Uu{constructor(e,t){super({code:e,units:"degrees",extent:ad,axisOrientation:t,global:!0,metersPerUnit:ld,worldExtent:ad})}}const hd=[new cd("CRS:84"),new cd("EPSG:4326","neu"),new cd("urn:ogc:def:crs:OGC:1.3:CRS84"),new cd("urn:ogc:def:crs:OGC:2:84"),new cd("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new cd("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new cd("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ud={},dd={};function pd(e,t,i){const n=e.getCode(),r=t.getCode();n in dd||(dd[n]={}),dd[n][r]=i}function gd(e,t,i){return Math.min(Math.max(e,t),i)}function fd(e,t,i,n,r,o){const s=r-i,a=o-n;if(0!==s||0!==a){const l=((e-i)*s+(t-n)*a)/(s*s+a*a);l>1?(i=r,n=o):l>0&&(i+=s*l,n+=a*l)}return md(e,t,i,n)}function md(e,t,i,n){const r=i-e,o=n-t;return r*r+o*o}function vd(e){return e*Math.PI/180}function _d(e,t){const i=e%t;return i*t<0?i+t:i}function yd(e,t,i){return e+i*(t-e)}function bd(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}function xd(e,t){return Math.floor(bd(e,t))}function wd(e,t){return Math.ceil(bd(e,t))}function Cd(e,t,i){const n=void 0!==i?e.toFixed(i):""+e;let r=n.indexOf(".");return r=-1===r?n.length:r,r>t?n:new Array(1+t-r).join("0")+n}function Sd(e,t,i){const n=_d(t+180,360)-180,r=Math.abs(3600*n),o=i||0;let s=Math.floor(r/3600),a=Math.floor((r-3600*s)/60),l=bd(r-3600*s-60*a,o);l>=60&&(l=0,a+=1),a>=60&&(a=0,s+=1);let c=s+"°";return 0===a&&0===l||(c+=" "+Cd(a,2)+"′"),0!==l&&(c+=" "+Cd(l,2,o)+"″"),0!==n&&(c+=" "+e.charAt(n<0?1:0)),c}function Ed(e,t){let i=!0;for(let n=e.length-1;n>=0;--n)if(e[n]!=t[n]){i=!1;break}return i}function Td(e,t){const i=Math.cos(t),n=Math.sin(t),r=e[0]*i-e[1]*n,o=e[1]*i+e[0]*n;return e[0]=r,e[1]=o,e}function kd(e,t){const i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function Id(e,t){return Math.sqrt(kd(e,t))}function Rd(e,t){if(t.canWrapX()){const i=Yu(t.getExtent()),n=function(e,t,i){const n=t.getExtent();let r=0;return t.canWrapX()&&(e[0]<n[0]||e[0]>n[2])&&(i=i||Yu(n),r=Math.floor((e[0]-n[0])/i)),r}(e,t,i);n&&(e[0]-=n*i)}return e}const Md=6371008.8;function Pd(e,t,i){i=i||Md;const n=vd(e[1]),r=vd(t[1]),o=(r-n)/2,s=vd(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const Ld={info:1,warn:2,error:3,none:4};let Od=Ld.info;function Fd(...e){Od>Ld.warn||console.warn(...e)}let Ad=!0;function Dd(e){Ad=!(void 0===e||e)}function zd(e,t){if(void 0!==t)for(let i=0,n=e.length;i<n;++i)t[i]=e[i];else t=e.slice();return t}function Nd(e,t){if(void 0!==t&&e!==t){for(let i=0,n=e.length;i<n;++i)t[i]=e[i];e=t}return e}function jd(e){!function(e,t){ud[e]=t}(e.getCode(),e),pd(e,e,zd)}function Gd(e){return"string"==typeof e?ud[t=e]||ud[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function Bd(e,t,i,n){let r;const o=(e=Gd(e)).getPointResolutionFunc();if(o){if(r=o(t,i),n&&n!==e.getUnits()){const t=e.getMetersPerUnit();t&&(r=r*t/Zu[n])}}else{const o=e.getUnits();if("degrees"==o&&!n||"degrees"==n)r=t;else{const s=Yd(e,Gd("EPSG:4326"));if(s===Nd&&"degrees"!==o)r=t*e.getMetersPerUnit();else{let e=[i[0]-t/2,i[1],i[0]+t/2,i[1],i[0],i[1]-t/2,i[0],i[1]+t/2];e=s(e,e,2),r=(Pd(e.slice(0,2),e.slice(2,4))+Pd(e.slice(4,6),e.slice(6,8)))/2}const a=n?Zu[n]:e.getMetersPerUnit();void 0!==a&&(r/=a)}}return r}function Wd(e){!function(e){e.forEach(jd)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&pd(t,e,zd)}))}))}function Vd(e,t){return e?"string"==typeof e?Gd(e):e:Gd(t)}function Kd(e,t){const i=qd(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),n=i[0];return(n<-180||n>180)&&(i[0]=_d(n+180,360)-180),i}function Xd(e,t){if(e===t)return!0;const i=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Yd(e,t)===zd)&&i}function Yd(e,t){let i=function(e,t){let i;return e in dd&&t in dd[e]&&(i=dd[e][t]),i}(e.getCode(),t.getCode());return i||(i=Nd),i}function Hd(e,t){return Yd(Gd(e),Gd(t))}function qd(e,t,i){return Hd(t,i)(e,void 0,e.length)}function $d(e,t){return e}function Zd(e,t){return Ad&&!Ed(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(Ad=!1,Fd("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Ud(e,t){return e}function Jd(e,t){return e}var Qd,ep,tp;function ip(e,t,i,n,r,o){o=o||[];let s=0;for(let a=t;a<i;a+=n){const t=e[a],i=e[a+1];o[s++]=r[0]*t+r[2]*i+r[4],o[s++]=r[1]*t+r[3]*i+r[5]}return o&&o.length!=s&&(o.length=s),o}function np(e,t,i,n,r,o,s){s=s||[];const a=Math.cos(r),l=Math.sin(r),c=o[0],h=o[1];let u=0;for(let d=t;d<i;d+=n){const t=e[d]-c,i=e[d+1]-h;s[u++]=c+t*a-i*l,s[u++]=h+t*l+i*a;for(let r=d+2;r<d+n;++r)s[u++]=e[r]}return s&&s.length!=u&&(s.length=u),s}Wd(rd),Wd(hd),Qd=rd,ep=od,tp=sd,hd.forEach((function(e){Qd.forEach((function(t){pd(e,t,ep),pd(t,e,tp)}))}));const rp=[1,0,0,1,0,0],op=class extends tu{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Lh(((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(t)}))}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Uh()}closestPointXY(e,t,i,n){return Uh()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Uh()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Tu(e),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}rotate(e,t){Uh()}scale(e,t,i){Uh()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Uh()}getType(){return Uh()}applyTransform(e){Uh()}intersectsExtent(e){return Uh()}translate(e,t){Uh()}transform(e,t){const i=Gd(e),n="tile-pixels"==i.getUnits()?function(e,n,r){const o=i.getExtent(),s=i.getWorldExtent(),a=Wu(s)/Wu(o);return du(rp,s[0],s[3],a,-a,0,0,0),ip(e,0,e.length,r,rp,n),Hd(i,t)(e,n,r)}:Hd(i,t);return this.applyTransform(n),this}};function sp(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}const ap=class extends op{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Iu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Uh()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=sp(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Uh()}setLayout(e,t,i){let n;if(e)n=sp(e);else{for(let e=0;e<i;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}n=t.length,e=function(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}(n)}this.layout=e,this.stride=n}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();np(i,0,i.length,n,e,t,i),this.changed()}}scale(e,t,i){void 0===t&&(t=e),i||(i=Nu(this.getExtent()));const n=this.getFlatCoordinates();if(n){const r=this.getStride();!function(e,t,i,n,r,o,s,a){a=a||[];const l=s[0],c=s[1];let h=0;for(let u=t;u<i;u+=n){const t=e[u]-l,i=e[u+1]-c;a[h++]=l+r*t,a[h++]=c+o*i;for(let r=u+2;r<u+n;++r)a[h++]=e[r]}a&&a.length!=h&&(a.length=h)}(n,0,n.length,r,e,t,i,n),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();!function(e,t,i,n,r,o,s){s=s||[];let a=0;for(let l=t;l<i;l+=n){s[a++]=e[l]+r,s[a++]=e[l+1]+o;for(let t=l+2;t<l+n;++t)s[a++]=e[t]}s&&s.length!=a&&(s.length=a)}(i,0,i.length,n,e,t,i),this.changed()}}};function lp(e,t,i,n){for(let r=0,o=i.length;r<o;++r)e[t++]=i[r];return t}function cp(e,t,i,n){for(let r=0,o=i.length;r<o;++r){const o=i[r];for(let i=0;i<n;++i)e[t++]=o[i]}return t}function hp(e,t,i,n,r){r=r||[];let o=0;for(let s=0,a=i.length;s<a;++s){const a=cp(e,t,i[s],n);r[o++]=a,t=a}return r.length=o,r}class up extends ap{constructor(e,t,i){super(),void 0!==i&&void 0===t?this.setFlatCoordinates(i,e):(t=t||0,this.setCenterAndRadius(e,t,i))}clone(){const e=new up(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const r=this.flatCoordinates,o=e-r[0],s=t-r[1],a=o*o+s*s;if(a<n){if(0===a)for(let e=0;e<this.stride;++e)i[e]=r[e];else{const e=this.getRadius()/Math.sqrt(a);i[0]=r[0]+e*o,i[1]=r[1]+e*s;for(let t=2;t<this.stride;++t)i[t]=r[t]}return i.length=this.stride,a}return n}containsXY(e,t){const i=this.flatCoordinates,n=e-i[0],r=t-i[1];return n*n+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,i=t[this.stride]-t[0];return Eu(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){if(Hu(e,this.getExtent())){const t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||e[1]<=t[1]&&e[3]>=t[1]||Fu(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+i;for(let r=1;r<t;++r)n[t+r]=e[r];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let r=lp(n,0,e,this.stride);n[r++]=n[0]+t;for(let o=1,s=this.stride;o<s;++o)n[r++]=n[o];n.length=r,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(np(i,0,i.length,n,e,t,i)),this.changed()}}up.prototype.transform;const dp=up;class pp extends op{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(qh),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Yh(this.geometries_[e],Dh,this.changed,this))}clone(){const e=new pp(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<bu(this.getExtent(),e,t))return n;const r=this.geometries_;for(let o=0,s=r.length;o<s;++o)n=r[o].closestPointXY(e,t,i,n);return n}containsXY(e,t){const i=this.geometries_;for(let n=0,r=i.length;n<r;++n)if(i[n].containsXY(e,t))return!0;return!1}computeExtent(e){Tu(e);const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)Mu(e,t[i].getExtent());return e}getGeometries(){return gp(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let n=!1;for(let r=0,o=i.length;r<o;++r){const o=i[r],s=o.getSimplifiedGeometry(e);t.push(s),s!==o&&(n=!0)}if(n){const e=new pp(null);return e.setGeometriesArray(t),e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const i=this.geometries_;for(let n=0,r=i.length;n<r;++n)i[n].rotate(e,t);this.changed()}scale(e,t,i){i||(i=Nu(this.getExtent()));const n=this.geometries_;for(let r=0,o=n.length;r<o;++r)n[r].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(gp(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let n=0,r=i.length;n<r;++n)i[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function gp(e){const t=[];for(let i=0,n=e.length;i<n;++i)t.push(e[i].clone());return t}const fp=pp;function mp(e,t,i,n,r,o,s){const a=e[t],l=e[t+1],c=e[i]-a,h=e[i+1]-l;let u;if(0===c&&0===h)u=t;else{const d=((r-a)*c+(o-l)*h)/(c*c+h*h);if(d>1)u=i;else{if(d>0){for(let r=0;r<n;++r)s[r]=yd(e[t+r],e[i+r],d);return void(s.length=n)}u=t}}for(let d=0;d<n;++d)s[d]=e[u+d];s.length=n}function vp(e,t,i,n,r){let o=e[t],s=e[t+1];for(t+=n;t<i;t+=n){const i=e[t],n=e[t+1],a=md(o,s,i,n);a>r&&(r=a),o=i,s=n}return r}function _p(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o){const s=i[o];r=vp(e,t,s,n,r),t=s}return r}function yp(e,t,i,n,r,o,s,a,l,c,h){if(t==i)return c;let u,d;if(0===r){if(d=md(s,a,e[t],e[t+1]),d<c){for(u=0;u<n;++u)l[u]=e[t+u];return l.length=n,d}return c}h=h||[NaN,NaN];let p=t+n;for(;p<i;)if(mp(e,p-n,p,n,s,a,h),d=md(s,a,h[0],h[1]),d<c){for(c=d,u=0;u<n;++u)l[u]=h[u];l.length=n,p+=n}else p+=n*Math.max((Math.sqrt(d)-Math.sqrt(c))/r|0,1);if(o&&(mp(e,i-n,t,n,s,a,h),d=md(s,a,h[0],h[1]),d<c)){for(c=d,u=0;u<n;++u)l[u]=h[u];l.length=n}return c}function bp(e,t,i,n,r,o,s,a,l,c,h){h=h||[NaN,NaN];for(let u=0,d=i.length;u<d;++u){const d=i[u];c=yp(e,t,d,n,r,o,s,a,l,c,h),t=d}return c}function xp(e,t,i,n,r,o,s){const a=(i-t)/n;if(a<3){for(;t<i;t+=n)o[s++]=e[t],o[s++]=e[t+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,i-n];let h=0;for(;c.length>0;){const i=c.pop(),o=c.pop();let s=0;const a=e[o],u=e[o+1],d=e[i],p=e[i+1];for(let t=o+n;t<i;t+=n){const i=fd(e[t],e[t+1],a,u,d,p);i>s&&(h=t,s=i)}s>r&&(l[(h-t)/n]=1,o+n<h&&c.push(o,h),h+n<i&&c.push(h,i))}for(let u=0;u<a;++u)l[u]&&(o[s++]=e[t+u*n],o[s++]=e[t+u*n+1]);return s}function wp(e,t,i,n,r,o,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l];s=xp(e,t,c,n,r,o,s),a.push(s),t=c}return s}function Cp(e,t){return t*Math.round(e/t)}function Sp(e,t,i,n,r,o,s){if(t==i)return s;let a,l,c=Cp(e[t],r),h=Cp(e[t+1],r);t+=n,o[s++]=c,o[s++]=h;do{if(a=Cp(e[t],r),l=Cp(e[t+1],r),(t+=n)==i)return o[s++]=a,o[s++]=l,s}while(a==c&&l==h);for(;t<i;){const i=Cp(e[t],r),u=Cp(e[t+1],r);if(t+=n,i==a&&u==l)continue;const d=a-c,p=l-h,g=i-c,f=u-h;d*f==p*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(p<0&&f<p||p==f||p>0&&f>p)?(a=i,l=u):(o[s++]=a,o[s++]=l,c=a,h=l,a=i,l=u)}return o[s++]=a,o[s++]=l,s}function Ep(e,t,i,n,r,o,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l];s=Sp(e,t,c,n,r,o,s),a.push(s),t=c}return s}function Tp(e,t,i,n,r){r=void 0!==r?r:[];let o=0;for(let s=t;s<i;s+=n)r[o++]=e.slice(s,s+n);return r.length=o,r}function kp(e,t,i,n,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=i.length;s<a;++s){const a=i[s];r[o++]=Tp(e,t,a,n,r[o]),t=a}return r.length=o,r}function Ip(e,t,i,n,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=i.length;s<a;++s){const a=i[s];r[o++]=1===a.length&&a[0]===t?[]:kp(e,t,a,n,r[o]),t=a[a.length-1]}return r.length=o,r}function Rp(e,t,i,n){let r=0,o=e[i-n],s=e[i-n+1];for(;t<i;t+=n){const i=e[t],n=e[t+1];r+=s*i-o*n,o=i,s=n}return r/2}function Mp(e,t,i,n){let r=0;for(let o=0,s=i.length;o<s;++o){const s=i[o];r+=Rp(e,t,s,n),t=s}return r}class Pp extends ap{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new Pp(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,n){return n<bu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,n))}getArea(){return Rp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Tp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=xp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Pp(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cp(this.flatCoordinates,0,e,this.stride),this.changed()}}const Lp=Pp;function Op(e,t,i,n,r){let o;for(t+=n;t<i;t+=n)if(o=r(e.slice(t-n,t),e.slice(t,t+n)),o)return o;return!1}function Fp(e,t,i,n,r,o,s){let a,l;const c=(i-t)/n;if(1===c)a=t;else if(2===c)a=t,l=r;else if(0!==c){let o=e[t],s=e[t+1],c=0;const h=[0];for(let r=t+n;r<i;r+=n){const t=e[r],i=e[r+1];c+=Math.sqrt((t-o)*(t-o)+(i-s)*(i-s)),h.push(c),o=t,s=i}const u=r*c,d=function(e,t,i){let n,r;i=i||Sh;let o=0,s=e.length,a=!1;for(;o<s;)n=o+(s-o>>1),r=+i(e[n],t),r<0?o=n+1:(s=n,a=!r);return a?o:~o}(h,u);d<0?(l=(u-h[-d-2])/(h[-d-1]-h[-d-2]),a=t+(-d-2)*n):a=t+d*n}s=s>1?s:2,o=o||new Array(s);for(let h=0;h<s;++h)o[h]=void 0===a?NaN:void 0===l?e[a+h]:yd(e[a+h],e[a+n+h],l);return o}function Ap(e,t,i,n,r,o){if(i==t)return null;let s;if(r<e[t+n-1])return o?(s=e.slice(t,t+n),s[n-1]=r,s):null;if(e[i-1]<r)return o?(s=e.slice(i-n,i),s[n-1]=r,s):null;if(r==e[t+n-1])return e.slice(t,t+n);let a=t/n,l=i/n;for(;a<l;){const t=a+l>>1;r<e[(t+1)*n-1]?l=t:a=t+1}const c=e[a*n-1];if(r==c)return e.slice((a-1)*n,(a-1)*n+n);const h=(r-c)/(e[(a+1)*n-1]-c);s=[];for(let u=0;u<n-1;++u)s.push(yd(e[(a-1)*n+u],e[a*n+u],h));return s.push(r),s}function Dp(e,t,i,n,r){return!Fu(r,(function(r){return!zp(e,t,i,n,r[0],r[1])}))}function zp(e,t,i,n,r,o){let s=0,a=e[i-n],l=e[i-n+1];for(;t<i;t+=n){const i=e[t],n=e[t+1];l<=o?n>o&&(i-a)*(o-l)-(r-a)*(n-l)>0&&s++:n<=o&&(i-a)*(o-l)-(r-a)*(n-l)<0&&s--,a=i,l=n}return 0!==s}function Np(e,t,i,n,r,o){if(0===i.length)return!1;if(!zp(e,t,i[0],n,r,o))return!1;for(let s=1,a=i.length;s<a;++s)if(zp(e,i[s-1],i[s],n,r,o))return!1;return!0}function jp(e,t,i,n,r){const o=Lu([1/0,1/0,-1/0,-1/0],e,t,i,n);return!!Hu(r,o)&&(!!wu(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||Op(e,t,i,n,(function(e,t){return function(e,t,i){let n=!1;const r=Su(e,t),o=Su(e,i);if(r===mu.INTERSECTING||o===mu.INTERSECTING)n=!0;else{const s=e[0],a=e[1],l=e[2],c=e[3],h=t[0],u=t[1],d=i[0],p=i[1],g=(p-u)/(d-h);let f,m;o&mu.ABOVE&&!(r&mu.ABOVE)&&(f=d-(p-c)/g,n=f>=s&&f<=l),n||!(o&mu.RIGHT)||r&mu.RIGHT||(m=p-(d-l)*g,n=m>=a&&m<=c),n||!(o&mu.BELOW)||r&mu.BELOW||(f=d-(p-a)/g,n=f>=s&&f<=l),n||!(o&mu.LEFT)||r&mu.LEFT||(m=p-(d-s)*g,n=m>=a&&m<=c)}return n}(r,e,t)})))}function Gp(e,t,i,n,r){return!!(jp(e,t,i,n,r)||zp(e,t,i,n,r[0],r[1])||zp(e,t,i,n,r[0],r[3])||zp(e,t,i,n,r[2],r[1])||zp(e,t,i,n,r[2],r[3]))}function Bp(e,t,i,n,r){if(!Gp(e,t,i[0],n,r))return!1;if(1===i.length)return!0;for(let o=1,s=i.length;o<s;++o)if(Dp(e,i[o-1],i[o],n,r)&&!jp(e,i[o-1],i[o],n,r))return!1;return!0}function Wp(e,t,i,n){let r=e[t],o=e[t+1],s=0;for(let a=t+n;a<i;a+=n){const t=e[a],i=e[a+1];s+=Math.sqrt((t-r)*(t-r)+(i-o)*(i-o)),r=t,o=i}return s}class Vp extends ap{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){kh(this.flatCoordinates,e),this.changed()}clone(){const e=new Vp(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<bu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,n))}forEachSegment(e){return Op(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,Ap(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Tp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Fp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Wp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=xp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Vp(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return jp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cp(this.flatCoordinates,0,e,this.stride),this.changed()}}const Kp=Vp;class Xp extends ap{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const t=e,i=[],n=[];for(let e=0,o=t.length;e<o;++e)kh(i,t[e].getFlatCoordinates()),n.push(i.length);const r=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(r,i),this.ends_=n}}appendLineString(e){kh(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Xp(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<bu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_p(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bp(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,n))}getCoordinateAtM(e,t,i){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,i=void 0!==i&&i,function(e,t,i,n,r,o,s){if(s)return Ap(e,t,i[i.length-1],n,r,o);let a;if(r<e[n-1])return o?(a=e.slice(0,n),a[n-1]=r,a):null;if(e[e.length-1]<r)return o?(a=e.slice(e.length-n),a[n-1]=r,a):null;for(let l=0,c=i.length;l<c;++l){const o=i[l];if(t!=o){if(r<e[t+n-1])return null;if(r<=e[o-1])return Ap(e,t,o,n,r,!1);t=o}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return kp(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Kp(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,n=[];let r=0;for(let o=0,s=t.length;o<s;++o){const s=t[o],a=new Kp(e.slice(r,s),i);n.push(a),r=s}return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const n=this.ends_,r=this.stride;for(let o=0,s=n.length;o<s;++o){const s=n[o];kh(e,Fp(t,i,s,r,.5)),i=s}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=wp(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new Xp(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return function(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o){if(jp(e,t,i[o],n,r))return!0;t=i[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=hp(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const Yp=Xp;class Hp extends ap{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Hp(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const r=this.flatCoordinates,o=md(e,t,r[0],r[1]);if(o<n){const e=this.stride;for(let t=0;t<e;++t)i[t]=r[t];return i.length=e,o}return n}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return ku(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Cu(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lp(this.flatCoordinates,0,e,this.stride),this.changed()}}const qp=Hp;class $p extends ap{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){kh(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new $p(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<bu(this.getExtent(),e,t))return n;const r=this.flatCoordinates,o=this.stride;for(let s=0,a=r.length;s<a;s+=o){const a=md(e,t,r[s],r[s+1]);if(a<n){n=a;for(let e=0;e<o;++e)i[e]=r[s+e];i.length=o}}return n}getCoordinates(){return Tp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new qp(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,n=[];for(let r=0,o=e.length;r<o;r+=i){const o=new qp(e.slice(r,r+i),t);n.push(o)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let n=0,r=t.length;n<r;n+=i)if(Cu(e,t[n],t[n+1]))return!0;return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cp(this.flatCoordinates,0,e,this.stride),this.changed()}}const Zp=$p;function Up(e,t,i,n,r,o,s){let a,l,c,h,u,d,p;const g=r[o+1],f=[];for(let _=0,y=i.length;_<y;++_){const r=i[_];for(h=e[r-n],d=e[r-n+1],a=t;a<r;a+=n)u=e[a],p=e[a+1],(g<=d&&p<=g||d<=g&&g<=p)&&(c=(g-d)/(p-d)*(u-h)+h,f.push(c)),h=u,d=p}let m=NaN,v=-1/0;for(f.sort(Sh),h=f[0],a=1,l=f.length;a<l;++a){u=f[a];const r=Math.abs(u-h);r>v&&(c=(h+u)/2,Np(e,t,i,n,c,g)&&(m=c,v=r)),h=u}return isNaN(m)&&(m=r[o]),s?(s.push(m,g,v),s):[m,g,v]}function Jp(e,t,i,n,r){let o=[];for(let s=0,a=i.length;s<a;++s){const a=i[s];o=Up(e,t,a,n,r,2*s,o),t=a[a.length-1]}return o}function Qp(e,t,i,n){for(;t<i-n;){for(let r=0;r<n;++r){const o=e[t+r];e[t+r]=e[i-n+r],e[i-n+r]=o}t+=n,i-=n}}function eg(e,t,i,n){let r=0,o=e[i-n],s=e[i-n+1];for(;t<i;t+=n){const i=e[t],n=e[t+1];r+=(i-o)*(n+s),o=i,s=n}return 0===r?void 0:r>0}function tg(e,t,i,n,r){r=void 0!==r&&r;for(let o=0,s=i.length;o<s;++o){const s=i[o],a=eg(e,t,s,n);if(0===o){if(r&&a||!r&&!a)return!1}else if(r&&!a||!r&&a)return!1;t=s}return!0}function ig(e,t,i,n,r){r=void 0!==r&&r;for(let o=0,s=i.length;o<s;++o){const s=i[o],a=eg(e,t,s,n);(0===o?r&&a||!r&&!a:r&&!a||!r&&a)&&Qp(e,t,s,n),t=s}return t}function ng(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o)t=ig(e,t,i[o],n,r);return t}class rg extends ap{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?kh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new rg(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<bu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_p(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bp(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return Np(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return Mp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),ig(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,kp(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Nu(this.getExtent());this.flatInteriorPoint_=Up(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new qp(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Lp(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,n=[];let r=0;for(let o=0,s=i.length;o<s;++o){const s=i[o],a=new Lp(t.slice(r,s),e);n.push(a),r=s}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;tg(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ig(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Ep(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new rg(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Bp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=hp(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}function og(e){if(qu(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],i=e[1],n=e[2],r=e[3],o=[t,i,t,r,n,r,n,i,t,i];return new rg(o,"XY",[o.length])}function sg(e,t,i,n){const r=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=i.length;s<a;++s){const a=i[s];o=Iu(e,t,a[0],n),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=a[a.length-1]}return r}class ag extends ap{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const n=e,r=[],o=[];for(let e=0,t=n.length;e<t;++e){const t=n[e],i=r.length,s=t.getEnds();for(let e=0,n=s.length;e<n;++e)s[e]+=i;kh(r,t.getFlatCoordinates()),o.push(s)}t=0===n.length?this.getLayout():n[0].getLayout(),e=r,i=o}void 0!==t&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const i=this.flatCoordinates.length;kh(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,n=t.length;e<n;++e)t[e]+=i}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const i=new ag(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,n){return n<bu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o){const s=i[o];r=_p(e,t,s,n,r),t=s[s.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,i,n,r,o,s,a,l,c,h){h=h||[NaN,NaN];for(let u=0,d=i.length;u<d;++u){const d=i[u];c=bp(e,t,d,n,r,o,s,a,l,c,h),t=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return function(e,t,i,n,r,o){if(0===i.length)return!1;for(let s=0,a=i.length;s<a;++s){const a=i[s];if(Np(e,t,a,n,r,o))return!0;t=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function(e,t,i,n){let r=0;for(let o=0,s=i.length;o<s;++o){const s=i[o];r+=Mp(e,t,s,n),t=s[s.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),ng(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Ip(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=sg(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Jp(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Zp(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o){const s=i[o];if(!tg(e,t,s,n,r))return!1;s.length&&(t=s[s.length-1])}return!0}(e,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ng(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=function(e,t,i,n,r,o,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l],h=[];s=Ep(e,t,c,n,r,o,s,h),a.push(h),t=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new ag(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const i=this.endss_[e-1];t=i[i.length-1]}const i=this.endss_[e].slice(),n=i[i.length-1];if(0!==t)for(let r=0,o=i.length;r<o;++r)i[r]-=t;return new rg(this.flatCoordinates.slice(t,n),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,n=[];let r=0;for(let o=0,s=i.length;o<s;++o){const s=i[o].slice(),a=s[s.length-1];if(0!==r)for(let e=0,t=s.length;e<t;++e)s[e]-=r;const l=new rg(t.slice(r,a),e,s);n.push(l),r=a}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return function(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o){const s=i[o];if(Bp(e,t,s,n,r))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=function(e,t,i,n,r){r=r||[];let o=0;for(let s=0,a=i.length;s<a;++s){const a=hp(e,t,i[s],n,r[o]);0===a.length&&(a[0]=t),r[o++]=a,t=a[a.length-1]}return r.length=o,r}(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{const e=i[i.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}const lg=ag,cg="active";function hg(e){return Math.pow(e,3)}function ug(e){return 1-hg(1-e)}function dg(e){return 3*e*e-2*e*e*e}function pg(e){return e}function gg(e,t,i,n){const r=e.getZoom();if(void 0===r)return;const o=e.getConstrainedZoom(r+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:i,duration:void 0!==n?n:250,easing:ug})}const fg=class extends tu{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(cg)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(cg,e)}setMap(e){this.map_=e}},mg={SINGLECLICK:"singleclick",CLICK:jh,DBLCLICK:Gh,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},vg=class extends fg{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==mg.DBLCLICK){const i=e.originalEvent,n=e.map,r=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_;gg(n.getView(),o,r,this.duration_),i.preventDefault(),t=!0}return!t}};function _g(e){const t=e.length;let i=0,n=0;for(let r=0;r<t;r++)i+=e[r].clientX,n+=e[r].clientY;return{clientX:i/t,clientY:n/t}}const yg=class extends fg{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==mg.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==mg.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==mg.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==mg.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}},bg=class extends Ch{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(e[0],t[0])+i,n.top=Math.min(e[1],t[1])+i,n.width=Math.abs(t[0]-e[0])+i,n.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,i=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new rg([i])}getGeometry(){return this.geometry_}};function xg(e){const t=arguments;return function(e){let i=!0;for(let n=0,r=t.length;n<r&&(i=i&&t[n](e),i);++n);return i}}const wg=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Cg=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),i=e.map.getOwnerDocument().activeElement;return t.contains(i)}(e)},Sg=Rh,Eg=function(e){const t=e.originalEvent;return 0==t.button&&!(ru&&ou&&t.ctrlKey)},Tg=Mh,kg=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Ig=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Rg=function(e){const t=e.originalEvent,i=t.target.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i&&!t.target.isContentEditable},Mg=function(e){const t=e.originalEvent;return hu(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},Pg=function(e){const t=e.originalEvent;return hu(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button},Lg="boxstart",Og="boxdrag",Fg="boxend",Ag="boxcancel";class Dg extends xh{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}const zg=class extends yg{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new bg(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Eg,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const n=i[0]-t[0],r=i[1]-t[1];return n*n+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Dg(Og,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Dg(t?Fg:Ag,e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dg(Lg,e.coordinate,e)),!0)}onBoxEnd(e){}},Ng=class extends yg{constructor(e){super({stopDown:Mh}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:xg(kg,Pg);this.condition_=e.onFocusOnly?xg(Cg,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,n=t.getEventPixel(_g(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const t=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=e.map.getView();!function(e,t){e[0]*=t,e[1]*=t}(t,i.getResolution()),Td(t,i.getRotation()),i.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),r=i.getCenterInternal(),o=t.getPixelFromCoordinateInternal(r),s=t.getCoordinateFromPixelInternal([o[0]-e*Math.cos(n),o[1]-e*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(s),duration:500,easing:ug})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};function jg(e){if(void 0!==e)return 0}function Gg(e){if(void 0!==e)return e}const Bg=class extends yg{constructor(e){e=e||{},super({stopDown:Mh}),this.condition_=e.condition?e.condition:wg,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!Mg(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===jg)return;const n=t.getSize(),r=e.pixel,o=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){const e=o-this.lastAngle_;i.adjustRotationInternal(-e)}this.lastAngle_=o}handleUpEvent(e){return!Mg(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!Mg(e)&&(!(!Eg(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}},Wg=class extends zg{constructor(e){super({condition:(e=e||{}).condition?e.condition:Ig,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const t=this.getMap().getView();let i=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(i),n=t.getResolutionForExtentInternal(e),r=t.getResolution()/n;i=i.clone(),i.scale(r*r)}t.fitInternal(i,{duration:this.duration_,easing:ug})}};class Vg extends tu{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new Vg(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(qh(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Yh(e,Dh,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;return Array.isArray(e)?t=e:(hu("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const Kg=Vg,Xg=class extends xh{constructor(e,t,i){super(e),this.map=t,this.frameState=void 0!==i?i:null}},Yg=class extends Xg{constructor(e,t,i,n,r,o){super(e,t,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Hg="opacity",qg="visible",$g="extent",Zg="zIndex",Ug="maxResolution",Jg="minResolution",Qg="maxZoom",ef="minZoom",tf="source",nf="map",rf=class extends tu{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[Hg]=void 0!==e.opacity?e.opacity:1,hu("number"==typeof t[Hg],"Layer opacity must be a number"),t[qg]=void 0===e.visible||e.visible,t[Zg]=e.zIndex,t[Ug]=void 0!==e.maxResolution?e.maxResolution:1/0,t[Jg]=void 0!==e.minResolution?e.minResolution:0,t[ef]=void 0!==e.minZoom?e.minZoom:-1/0,t[Qg]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return t.opacity=gd(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==i||t.managed?i:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Uh()}getLayerStatesArray(e){return Uh()}getExtent(){return this.get($g)}getMaxResolution(){return this.get(Ug)}getMinResolution(){return this.get(Jg)}getMinZoom(){return this.get(ef)}getMaxZoom(){return this.get(Qg)}getOpacity(){return this.get(Hg)}getSourceState(){return Uh()}getVisible(){return this.get(qg)}getZIndex(){return this.get(Zg)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set($g,e)}setMaxResolution(e){this.set(Ug,e)}setMinResolution(e){this.set(Jg,e)}setMaxZoom(e){this.set(Qg,e)}setMinZoom(e){this.set(ef,e)}setOpacity(e){hu("number"==typeof e,"Layer opacity must be a number"),this.set(Hg,e)}setVisible(e){this.set(qg,e)}setZIndex(e){this.set(Zg,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},of="prerender",sf="postrender",af="precompose",lf="postcompose",cf="rendercomplete",hf=0,uf=1,df={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},pf=42,gf=256;function ff(e,t,i){return function(n,r,o,s,a){if(!n)return;if(!r&&!t)return n;const l=t?0:o[0]*r,c=t?0:o[1]*r,h=a?a[0]:0,u=a?a[1]:0;let d=e[0]+l/2+h,p=e[2]-l/2+h,g=e[1]+c/2+u,f=e[3]-c/2+u;d>p&&(d=(p+d)/2,p=d),g>f&&(g=(f+g)/2,f=g);let m=gd(n[0],d,p),v=gd(n[1],g,f);if(s&&i&&r){const e=30*r;m+=-e*Math.log(1+Math.max(0,d-n[0])/e)+e*Math.log(1+Math.max(0,n[0]-p)/e),v+=-e*Math.log(1+Math.max(0,g-n[1])/e)+e*Math.log(1+Math.max(0,n[1]-f)/e)}return[m,v]}}function mf(e){return e}function vf(e,t,i,n){const r=Yu(t)/i[0],o=Wu(t)/i[1];return n?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function _f(e,t,i){let n=Math.min(e,t);return n*=Math.log(1+50*Math.max(0,e/t-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/e-1))/50+1),gd(n,i/2,2*t)}function yf(e,t,i,n,r){return i=void 0===i||i,function(o,s,a,l){if(void 0!==o){const s=n?vf(e,n,a,r):e;return i&&l?_f(o,s,t):gd(o,t,s)}}}function bf(e,t){setTimeout((function(){e(t)}),0)}function xf(e){return!(e.sourceCenter&&e.targetCenter&&!Ed(e.sourceCenter,e.targetCenter))&&e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation}function wf(e,t,i,n,r){const o=Math.cos(-r);let s=Math.sin(-r),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;return a+=(t[0]/2-i[0])*n,l+=(i[1]-t[1]/2)*n,s=-s,[a*o-l*s,l*o+a*s]}const Cf=class extends tu{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Vd(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Dd(),e.center&&(e.center=Zd(e.center,this.projection_)),e.extent&&(e.extent=Jd(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const s in df)delete t[s];this.setProperties(t,!0);const i=function(e){let t,i,n;const r=28,o=2;let s=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:r;const l=void 0!==e.zoomFactor?e.zoomFactor:o,c=void 0!==e.multiWorld&&e.multiWorld,h=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,u=void 0!==e.showFullExtent&&e.showFullExtent,d=Vd(e.projection,"EPSG:3857"),p=d.getExtent();let g=e.constrainOnlyCenter,f=e.extent;if(c||f||!d.isGlobal()||(g=!1,f=p),void 0!==e.resolutions){const r=e.resolutions;i=r[s],n=void 0!==r[a]?r[a]:r[r.length-1],t=e.constrainResolution?function(e,t,i,n){return t=void 0===t||t,function(r,o,s,a){if(void 0!==r){const l=e[0],c=e[e.length-1],h=i?vf(l,i,s,n):l;if(a)return t?_f(r,h,c):gd(r,c,h);const u=Math.min(h,r),d=Math.floor(Eh(e,u,o));return e[d]>h&&d<e.length-1?e[d+1]:e[d]}}}(r,h,!g&&f,u):yf(i,n,h,!g&&f,u)}else{const c=(p?Math.max(Yu(p),Wu(p)):360*Zu.degrees/d.getMetersPerUnit())/gf/Math.pow(o,0),m=c/Math.pow(o,r-0);i=e.maxResolution,void 0!==i?s=0:i=c/Math.pow(l,s),n=e.minResolution,void 0===n&&(n=void 0!==e.maxZoom?void 0!==e.maxResolution?i/Math.pow(l,a):c/Math.pow(l,a):m),a=s+Math.floor(Math.log(i/n)/Math.log(l)),n=i/Math.pow(l,a-s),t=e.constrainResolution?function(e,t,i,n,r,o){return n=void 0===n||n,i=void 0!==i?i:0,function(s,a,l,c){if(void 0!==s){const h=r?vf(t,r,l,o):t;if(c)return n?_f(s,h,i):gd(s,i,h);const u=1e-9,d=Math.ceil(Math.log(t/h)/Math.log(e)-u),p=-a*(.5-u)+.5,g=Math.min(h,s),f=Math.floor(Math.log(t/g)/Math.log(e)+p),m=Math.max(d,f);return gd(t/Math.pow(e,m),i,h)}}}(l,i,n,h,!g&&f,u):yf(i,n,h,!g&&f,u)}return{constraint:t,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const n=function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return ff(e.extent,e.constrainOnlyCenter,t)}const t=Vd(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,ff(e,!1,!1)}return mf}(e),r=i.constraint,o=function(e){const t=void 0===e.enableRotation||e.enableRotation;if(t){const t=e.constrainRotation;return void 0===t||!0===t?function(e){const t=void 0===e?vd(5):e;return function(e,i){return i||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===t?Gg:"number"==typeof t?function(e){const t=2*Math.PI/e;return function(e,i){return i?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(t):Gg}return jg}(e);this.constraints_={center:n,resolution:r,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const n=e||[0,0,0,0];t=t||[0,0,0,0];const r=this.getResolution(),o=r/2*(n[3]-t[3]+t[1]-n[1]),s=r/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([i[0]+o,i[1]-s])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let e=arguments[i];e.center&&(e=Object.assign({},e),e.center=Zd(e.center,this.getProjection())),e.anchor&&(e=Object.assign({},e),e.anchor=Zd(e.anchor,this.getProjection())),t[i]=e}this.animateInternal.apply(this,t)}animateInternal(e){let t,i=arguments.length;i>1&&"function"==typeof arguments[i-1]&&(t=arguments[i-1],--i);let n=0;for(;n<i&&!this.isDef();++n){const e=arguments[n];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(n===i)return void(t&&bf(t,!0));let r=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;n<i;++n){const e=arguments[n],i={start:r,complete:!1,anchor:e.anchor,duration:void 0!==e.duration?e.duration:1e3,easing:e.easing||dg,callback:t};if(e.center&&(i.sourceCenter=o,i.targetCenter=e.center.slice(),o=i.targetCenter),void 0!==e.zoom?(i.sourceResolution=s,i.targetResolution=this.getResolutionForZoom(e.zoom),s=i.targetResolution):e.resolution&&(i.sourceResolution=s,i.targetResolution=e.resolution,s=i.targetResolution),void 0!==e.rotation){i.sourceRotation=a;const t=_d(e.rotation-a+Math.PI,2*Math.PI)-Math.PI;i.targetRotation=a+t,a=i.targetRotation}xf(i)?i.complete=!0:r+=i.duration,l.push(i)}this.animations_.push(l),this.setHint(hf,1),this.updateAnimations_()}getAnimating(){return this.hints_[hf]>0}getInteracting(){return this.hints_[uf]>0}cancelAnimations(){let e;this.setHint(hf,-this.hints_[hf]);for(let t=0,i=this.animations_.length;t<i;++t){const i=this.animations_[t];if(i[0].callback&&bf(i[0].callback,!1),!e)for(let t=0,n=i.length;t<n;++t){const n=i[t];if(!n.complete){e=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let r=!0;for(let i=0,o=n.length;i<o;++i){const o=n[i];if(o.complete)continue;const s=e-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):r=!1;const l=o.easing(a);if(o.sourceCenter){const e=o.sourceCenter[0],t=o.sourceCenter[1],i=o.targetCenter[0],n=o.targetCenter[1];this.nextCenter_=o.targetCenter;const r=e+l*(i-e),s=t+l*(n-t);this.targetCenter_=[r,s]}if(o.sourceResolution&&o.targetResolution){const e=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const t=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(e,0,t,!0);this.targetCenter_=this.calculateCenterZoom(i,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const e=1===l?_d(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const t=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(t,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),t=!0,!o.complete)break}if(r){this.animations_[i]=null,this.setHint(hf,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const e=n[0].callback;e&&bf(e,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const n=this.getCenterInternal();var r,o;return void 0!==n&&(i=[n[0]-t[0],n[1]-t[1]],Td(i,e-this.getRotation()),o=t,(r=i)[0]+=+o[0],r[1]+=+o[1]),i}calculateCenterZoom(e,t){let i;const n=this.getCenterInternal(),r=this.getResolution();return void 0!==n&&void 0!==r&&(i=[t[0]-e*(t[0]-n[0])/r,t[1]-e*(t[1]-n[1])/r]),i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],n=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(n*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e?$d(e,this.getProjection()):e}getCenterInternal(){return this.get(df.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return Ud(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();hu(t,"The view center is not defined");const i=this.getResolution();hu(void 0!==i,"The view resolution is not defined");const n=this.getRotation();return hu(void 0!==n,"The view rotation is not defined"),Gu(t,i,n,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(df.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Jd(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=Yu(e)/t[0],n=Wu(e)/t[1];return Math.max(i,n)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(t/i)/Math.log(e);return function(i){return t/Math.pow(e,i*n)}}getRotation(){return this.get(df.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(i/n)/t;return function(e){return Math.log(i/e)/t/r}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const r=this.padding_;if(r){const e=this.getViewportSizeMinusPadding_();n=wf(n,this.getViewportSize_(),[e[0]/2+r[3],e[1]/2+r[0]],t,i)}return{center:n.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t,i,n=this.minZoom_||0;if(this.resolutions_){const r=Eh(this.resolutions_,e,1);n=r,t=this.resolutions_[r],i=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(t/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=gd(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,gd(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(hu(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))hu(!qu(e),"Cannot fit empty extent provided as `geometry`"),i=og(Jd(e,this.getProjection()));else if("Circle"===e.getType()){const t=Jd(e.getExtent(),this.getProjection());i=og(t),i.rotate(this.getRotation(),Nu(t))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),n=Math.sin(-t),r=e.getFlatCoordinates(),o=e.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let h=0,u=r.length;h<u;h+=o){const e=r[h]*i-r[h+1]*n,t=r[h]*n+r[h+1]*i;s=Math.min(s,e),a=Math.min(a,t),l=Math.max(l,e),c=Math.max(c,t)}return[s,a,l,c]}fitInternal(e,t){let i=(t=t||{}).size;i||(i=this.getViewportSizeMinusPadding_());const n=void 0!==t.padding?t.padding:[0,0,0,0],r=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(s,[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,r?0:1);const l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),u=Nu(s);u[0]+=(n[1]-n[3])/2*a,u[1]+=(n[0]-n[2])/2*a;const d=u[0]*h-u[1]*c,p=u[1]*h+u[0]*c,g=this.getConstrainedCenter([d,p],a),f=t.callback?t.callback:Ph;void 0!==t.duration?this.animateInternal({resolution:a,center:g,duration:t.duration,easing:t.easing},f):(this.targetResolution_=a,this.targetCenter_=g,this.applyTargetState_(!1,!0),bf(f,!0))}centerOn(e,t,i){this.centerOnInternal(Zd(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(wf(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,n){let r;const o=this.padding_;if(o&&e){const s=this.getViewportSizeMinusPadding_(-i),a=wf(e,n,[s[0]/2+o[3],s[1]/2+o[0]],t,i);r=[e[0]-a[0],e[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=$d(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Zd(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,n,i);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Zd(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e?Zd(e,this.getProjection()):e)}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,r,i),s=this.constraints_.center(this.targetCenter_,o,r,i,this.calculateCenterShift(this.targetCenter_,o,n,r));this.get(df.ROTATION)!==n&&this.set(df.ROTATION,n),this.get(df.RESOLUTION)!==o&&(this.set(df.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(df.CENTER)&&Ed(this.get(df.CENTER),s)||this.set(df.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=void 0!==e?e:200;const n=t||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,n,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,r,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();i=i||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&Ed(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:s,duration:e,easing:ug,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(uf,1)}endInteraction(e,t,i){i=i&&Zd(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(uf,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function Sf(e,t){if(!e.visible)return!1;const i=t.resolution;if(i<e.minResolution||i>=e.maxResolution)return!1;const n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}const Ef=class extends rf{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(tf,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(tf)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(qh(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Yh(e,Dh,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const i=this.getMapInternal();let n;!e&&i&&(e=i.getView()),t=e instanceof Cf?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray()),n=t.layerStatesArray?t.layerStatesArray.find((e=>e.layer===this)):this.getLayerState();const r=this.getExtent();return Sf(n,t.viewState)&&(!r||Hu(r,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];let n=t(e instanceof Cf?e.getViewStateAndExtent():e);return Array.isArray(n)||(n=[n]),n}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(nf,e)}getMapInternal(){return this.get(nf)}setMap(e){this.mapPrecomposeKey_&&(qh(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(qh(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Yh(e,af,(function(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);hu(!t.some((function(e){return e.layer===i.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}),this),this.mapRenderKey_=Yh(this,Dh,e.render,e),this.changed())}setSource(e){this.set(tf,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Tf(e,t,i,n,r){kf(e,t,i||0,n||e.length-1,r||Rf)}function kf(e,t,i,n,r){for(;n>i;){if(n-i>600){var o=n-i+1,s=t-i+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);kf(e,t,Math.max(i,Math.floor(t-s*l/o+c)),Math.min(n,Math.floor(t+(o-s)*l/o+c)),r)}var h=e[t],u=i,d=n;for(If(e,i,t),r(e[n],h)>0&&If(e,i,n);u<d;){for(If(e,u,d),u++,d--;r(e[u],h)<0;)u++;for(;r(e[d],h)>0;)d--}0===r(e[i],h)?If(e,i,d):If(e,++d,n),d<=t&&(i=d+1),t<=d&&(n=d-1)}}function If(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function Rf(e,t){return e<t?-1:e>t?1:0}let Mf=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Bf(e,t))return i;const n=this.toBBox,r=[];for(;t;){for(let o=0;o<t.children.length;o++){const s=t.children[o],a=t.leaf?n(s):s;Bf(e,a)&&(t.leaf?i.push(s):Gf(e,a)?this._all(s,i):r.push(s))}t=r.pop()}return i}collides(e){let t=this.data;if(!Bf(e,t))return!1;const i=[];for(;t;){for(let n=0;n<t.children.length;n++){const r=t.children[n],o=t.leaf?this.toBBox(r):r;if(Bf(e,o)){if(t.leaf||Gf(e,o))return!0;i.push(r)}}t=i.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Wf([]),this}remove(e,t){if(!e)return this;let i=this.data;const n=this.toBBox(e),r=[],o=[];let s,a,l;for(;i||r.length;){if(i||(i=r.pop(),a=r[r.length-1],s=o.pop(),l=!0),i.leaf){const n=Pf(e,i.children,t);if(-1!==n)return i.children.splice(n,1),r.push(i),this._condense(r),this}l||i.leaf||!Gf(i,n)?a?(s++,i=a.children[s],l=!1):i=null:(r.push(i),o.push(s),s=0,a=i,i=i.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,n){const r=i-t+1;let o,s=this._maxEntries;if(r<=s)return o=Wf(e.slice(t,i+1)),Lf(o,this.toBBox),o;n||(n=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,n-1))),o=Wf([]),o.leaf=!1,o.height=n;const a=Math.ceil(r/s),l=a*Math.ceil(Math.sqrt(s));Vf(e,t,i,l,this.compareMinX);for(let c=t;c<=i;c+=l){const t=Math.min(c+l-1,i);Vf(e,c,t,a,this.compareMinY);for(let i=c;i<=t;i+=a){const r=Math.min(i+a-1,t);o.children.push(this._build(e,i,r,n-1))}}return Lf(o,this.toBBox),o}_chooseSubtree(e,t,i,n){for(;n.push(t),!t.leaf&&n.length-1!==i;){let i,n=1/0,s=1/0;for(let a=0;a<t.children.length;a++){const l=t.children[a],c=zf(l),h=(r=e,o=l,(Math.max(o.maxX,r.maxX)-Math.min(o.minX,r.minX))*(Math.max(o.maxY,r.maxY)-Math.min(o.minY,r.minY))-c);h<s?(s=h,n=c<n?c:n,i=l):h===s&&c<n&&(n=c,i=l)}t=i||t.children[0]}var r,o;return t}_insert(e,t,i){const n=i?e:this.toBBox(e),r=[],o=this._chooseSubtree(n,this.data,t,r);for(o.children.push(e),Ff(o,n);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(n,r,t)}_split(e,t){const i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);const o=this._chooseSplitIndex(i,r,n),s=Wf(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,Lf(i,this.toBBox),Lf(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)}_splitRoot(e,t){this.data=Wf([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Lf(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let n,r=1/0,o=1/0;for(let s=t;s<=i-t;s++){const t=Of(e,0,s,this.toBBox),a=Of(e,s,i,this.toBBox),l=jf(t,a),c=zf(t)+zf(a);l<r?(r=l,n=s,o=c<o?c:o):l===r&&c<o&&(o=c,n=s)}return n||i-t}_chooseSplitAxis(e,t,i){const n=e.leaf?this.compareMinX:Af,r=e.leaf?this.compareMinY:Df;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)}_allDistMargin(e,t,i,n){e.children.sort(n);const r=this.toBBox,o=Of(e,0,t,r),s=Of(e,i-t,i,r);let a=Nf(o)+Nf(s);for(let l=t;l<i-t;l++){const t=e.children[l];Ff(o,e.leaf?r(t):t),a+=Nf(o)}for(let l=i-t-1;l>=t;l--){const t=e.children[l];Ff(s,e.leaf?r(t):t),a+=Nf(s)}return a}_adjustParentBBoxes(e,t,i){for(let n=i;n>=0;n--)Ff(t[n],e)}_condense(e){for(let t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children,t.splice(t.indexOf(e[i]),1)):this.clear():Lf(e[i],this.toBBox)}};function Pf(e,t,i){if(!i)return t.indexOf(e);for(let n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function Lf(e,t){Of(e,0,e.children.length,t,e)}function Of(e,t,i,n,r){r||(r=Wf(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<i;o++){const t=e.children[o];Ff(r,e.leaf?n(t):t)}return r}function Ff(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Af(e,t){return e.minX-t.minX}function Df(e,t){return e.minY-t.minY}function zf(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Nf(e){return e.maxX-e.minX+(e.maxY-e.minY)}function jf(e,t){const i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,o-n)}function Gf(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Bf(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Wf(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Vf(e,t,i,n,r){const o=[t,i];for(;o.length;){if((i=o.pop())-(t=o.pop())<=n)continue;const s=t+Math.ceil((i-t)/n/2)*n;Tf(e,s,t,i,r),o.push(t,s,s,i)}}const Kf=0,Xf=1,Yf=2,Hf=3;function qf(e){return e[0]>0&&e[1]>0}function $f(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}class Zf{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=$f(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Zf({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Uh()}getImage(e){return Uh()}getHitDetectionImage(){return Uh()}getPixelRatio(e){return 1}getImageState(){return Uh()}getImageSize(){return Uh()}getOrigin(){return Uh()}getSize(){return Uh()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=$f(e)}listenImageChange(e){Uh()}load(){Uh()}unlistenImageChange(e){Uh()}}const Uf=Zf,Jf={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Qf={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Qf.max=Qf.whitepoint[2].D65,Qf.rgb=function(e,t){t=t||Qf.whitepoint[2].E;var i,n,r,o=e[0]/t[0],s=e[1]/t[1],a=e[2]/t[2];return n=-.96924363628087*o+1.87596750150772*s+.041555057407175*a,r=.055630079696993*o+-.20397695888897*s+1.056971514242878*a,i=(i=3.240969941904521*o+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},Jf.xyz=function(e,t){var i=e[0]/255,n=e[1]/255,r=e[2]/255,o=.21263900587151*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.71516867876775*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),s=.019330818715591*i+.11919477979462*n+.95053215224966*r;return[(.41239079926595*i+.35758433938387*n+.18048078840183*r)*(t=t||Qf.whitepoint[2].E)[0],o*t[1],s*t[2]]};const em={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,i){var n,r,o,s,a,l,c,h,u;return o=e[0],s=e[1],a=e[2],0===o?[0,0,0]:(t=t||"D65",i=i||2,n=s/(13*o)+4*(c=Qf.whitepoint[i][t][0])/(c+15*(h=Qf.whitepoint[i][t][1])+3*(u=Qf.whitepoint[i][t][2]))||0,r=a/(13*o)+9*h/(c+15*h+3*u)||0,[9*(l=o>8?h*Math.pow((o+16)/116,3):h*o*.0011070564598794539)*n/(4*r)||0,l,l*(12-3*n-20*r)/(4*r)||0])}};Qf.luv=function(e,t,i){var n,r,o,s,a,l,c,h,u,d,p;t=t||"D65",i=i||2,d=4*(c=Qf.whitepoint[i][t][0])/(c+15*(h=Qf.whitepoint[i][t][1])+3*(u=Qf.whitepoint[i][t][2])),p=9*h/(c+15*h+3*u),n=4*(s=e[0])/(s+15*(a=e[1])+3*(l=e[2]))||0,r=9*a/(s+15*a+3*l)||0;var g=a/h;return[o=g<=.008856451679035631?903.2962962962961*g:116*Math.pow(g,1/3)-16,13*o*(n-d),13*o*(r-p)]};var tm={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t,i=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[i,n*Math.cos(t),n*Math.sin(t)]},xyz:function(e){return em.xyz(tm.luv(e))}};em.lchuv=function(e){var t=e[0],i=e[1],n=e[2],r=Math.sqrt(i*i+n*n),o=360*Math.atan2(n,i)/2/Math.PI;return o<0&&(o+=360),[t,r,o]},Qf.lchuv=function(e){return em.lchuv(Qf.luv(e))};const im=yc({aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var nm={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const rm={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,i,n,r,o,s=e[0]/360,a=e[1]/100,l=e[2]/100,c=0;if(0===a)return[o=255*l,o,o];for(t=2*l-(i=l<.5?l*(1+a):l+a-l*a),r=[0,0,0];c<3;)(n=s+1/3*-(c-1))<0?n++:n>1&&n--,o=6*n<1?t+6*(i-t)*n:2*n<1?i:3*n<2?t+(i-t)*(2/3-n)*6:t,r[c++]=255*o;return r}};function om(e){var t;Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var i=function(e){var t,i,n=[],r=1;if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if(e=String(e).toLowerCase(),im[e])n=im[e].slice(),i="rgb";else if("transparent"===e)r=0,i="rgb",n=[0,0,0];else if("#"===e[0]){var o=e.slice(1),s=o.length;r=1,s<=4?(n=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(r=parseInt(o[3]+o[3],16)/255)):(n=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(r=parseInt(o[6]+o[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var a=t[1],l="cmyk"===(i=a.replace(/a$/,""))?4:"gray"===i?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===i&&(i=n.shift()),r=(n=n.map((function(e,t){if("%"===e[e.length-1])return e=parseFloat(e)/100,3===t?e:"rgb"===i?255*e:"h"===i[0]?100*e:"l"!==i[0]||t?"lab"===i?125*e:"lch"===i?t<2?150*e:360*e:"o"!==i[0]||t?"oklab"===i?.4*e:"oklch"===i?t<2?.4*e:360*e:e:e:100*e;if("h"===i[t]||2===t&&"h"===i[i.length-1]){if(void 0!==nm[e])return nm[e];if(e.endsWith("deg"))return parseFloat(e);if(e.endsWith("turn"))return 360*parseFloat(e);if(e.endsWith("grad"))return 360*parseFloat(e)/400;if(e.endsWith("rad"))return 180*parseFloat(e)/Math.PI}return"none"===e?0:parseFloat(e)}))).length>l?n.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(n=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),i=e.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:i,values:n,alpha:r}}(e);if(!i.space)return[];const n="h"===i.space[0]?rm.min:Jf.min,r="h"===i.space[0]?rm.max:Jf.max;return(t=Array(3))[0]=Math.min(Math.max(i.values[0],n[0]),r[0]),t[1]=Math.min(Math.max(i.values[1],n[1]),r[1]),t[2]=Math.min(Math.max(i.values[2],n[2]),r[2]),"h"===i.space[0]&&(t=rm.rgb(t)),t.push(Math.min(Math.max(i.alpha,0),1)),t}function sm(e){return"string"==typeof e?e:fm(e)}Jf.hsl=function(e){var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,s=Math.min(n,r,o),a=Math.max(n,r,o),l=a-s;return a===s?t=0:n===a?t=(r-o)/l:r===a?t=2+(o-n)/l:o===a&&(t=4+(n-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),i=(s+a)/2,[t,100*(a===s?0:i<=.5?l/(a+s):l/(2-a-s)),100*i]};const am=1024,lm={};let cm=0;function hm(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function um(e){const t=Qf.lchuv(Jf.xyz(e));return t[3]=e[3],t}function dm(e){if(lm.hasOwnProperty(e))return lm[e];if(cm>=am){let e=0;for(const t in lm)0==(3&e++)&&(delete lm[t],--cm)}const t=om(e);if(4!==t.length)throw new Error('Failed to parse "'+e+'" as color');for(const i of t)if(isNaN(i))throw new Error('Failed to parse "'+e+'" as color');return gm(t),lm[e]=t,++cm,t}function pm(e){return Array.isArray(e)?e:dm(e)}function gm(e){return e[0]=gd(e[0]+.5|0,0,255),e[1]=gd(e[1]+.5|0,0,255),e[2]=gd(e[2]+.5|0,0,255),e[3]=gd(e[3],0,1),e}function fm(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let i=e[1];i!=(0|i)&&(i=i+.5|0);let n=e[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+i+","+n+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}function mm(e){return Array.isArray(e)?fm(e):e}function vm(e,t,i,n){let r;return r=i&&i.length?i.shift():au?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",n)}function _m(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function ym(e){let t=e.offsetWidth;const i=getComputedStyle(e);return t+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),t}function bm(e){let t=e.offsetHeight;const i=getComputedStyle(e);return t+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),t}function xm(e,t){const i=t.parentNode;i&&i.replaceChild(e,t)}function wm(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Cm(e){for(;e.lastChild;)e.removeChild(e.lastChild)}const Sm="ol-hidden",Em="ol-unselectable",Tm="ol-control",km="ol-collapsed",Im=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Rm=["style","variant","weight","size","lineHeight","family"],Mm=function(e){const t=e.match(Im);if(!t)return null;const i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,r=Rm.length;n<r;++n){const e=t[n+1];void 0!==e&&(i[Rm[n]]=e)}return i.families=i.family.split(/,\s?/),i},Pm="10px sans-serif",Lm="#000",Om="round",Fm=[],Am="round",Dm="#000",zm="center",Nm="middle",jm=[0,0,0,0],Gm=new tu;let Bm,Wm=null;const Vm={},Km=function(){const e="32px ",t=["monospace","serif"],i=t.length,n="wmytzilWMYTZIL@#/&?$%10";let r,o;function s(r,s,a){let l=!0;for(let c=0;c<i;++c){const i=t[c];if(o=Hm(r+" "+s+" "+e+i,n),a!=i){const t=Hm(r+" "+s+" "+e+a+","+i,n);l=l&&t!=o}}return!!l}function a(){let e=!0;const t=Gm.getKeys();for(let i=0,n=t.length;i<n;++i){const n=t[i];Gm.get(n)<100&&(s.apply(this,n.split("\n"))?(Oh(Vm),Wm=null,Bm=void 0,Gm.set(n,100)):(Gm.set(n,Gm.get(n)+1,!0),e=!1))}e&&(clearInterval(r),r=void 0)}return function(e){const t=Mm(e);if(!t)return;const i=t.families;for(let n=0,o=i.length;n<o;++n){const e=i[n],o=t.style+"\n"+t.weight+"\n"+e;void 0===Gm.get(o)&&(Gm.set(o,100,!0),s(t.style,t.weight,e)||(Gm.set(o,0,!0),void 0===r&&(r=setInterval(a,32))))}}}(),Xm=function(){let e;return function(t){let i=Vm[t];if(null==i){if(au){const e=Mm(t),n=Ym(t,"Žg");i=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),i=e.offsetHeight,document.body.removeChild(e);Vm[t]=i}return i}}();function Ym(e,t){return Wm||(Wm=vm(1,1)),e!=Bm&&(Wm.font=e,Bm=Wm.font),Wm.measureText(t)}function Hm(e,t){return Ym(e,t).width}function qm(e,t,i){if(t in i)return i[t];const n=t.split("\n").reduce(((t,i)=>Math.max(t,Hm(e,i))),0);return i[t]=n,n}function $m(e,t,i,n,r,o,s,a,l,c,h){e.save(),1!==i&&(e.globalAlpha*=i),t&&e.transform.apply(e,t),n.contextInstructions?(e.translate(l,c),e.scale(h[0],h[1]),function(e,t){const i=e.contextInstructions;for(let n=0,r=i.length;n<r;n+=2)Array.isArray(i[n+1])?t[i[n]].apply(t,i[n+1]):t[i[n]]=i[n+1]}(n,e)):h[0]<0||h[1]<0?(e.translate(l,c),e.scale(h[0],h[1]),e.drawImage(n,r,o,s,a,0,0,s,a)):e.drawImage(n,r,o,s,a,l,c,s*h[0],a*h[1]),e.restore()}class Zm extends Uf{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.render()}clone(){const e=this.getScale(),t=new Zm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){const i=this.renderOptions_,n=vm(i.size*e,i.size*e);this.draw_(i,n,e),t=n.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return Yf}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let n=this.radius_,r=void 0===this.radius2_?n:this.radius2_;if(n<r){const e=n;n=r,r=e}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=r*Math.sin(s),l=n-Math.sqrt(r*r-a*a),c=Math.sqrt(a*a+l*l),h=c/a;if("miter"===e&&h<=i)return h*t;const u=t/2/h,d=t/2*(l/c),p=Math.sqrt((n+u)*(n+u)+d*d)-n;if(void 0===this.radius2_||"bevel"===e)return 2*p;const g=n*Math.sin(s),f=r-Math.sqrt(n*n-g*g),m=Math.sqrt(g*g+f*f)/g;if(m<=i){const e=m*t/2-r-n;return 2*Math.max(p,e)}return 2*p}createRenderOptions(){let e,t=Om,i=Am,n=0,r=null,o=0,s=0;this.stroke_&&(e=mm(this.stroke_.getColor()??Dm),s=this.stroke_.getWidth()??1,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??Am,t=this.stroke_.getLineCap()??Om,n=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(i,s,n),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:i,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=Lm),t.fillStyle=mm(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),n=0;"string"==typeof i&&(i=pm(i)),null===i?n=1:Array.isArray(i)&&(n=4===i.length?i[3]:1),0===n&&(t=vm(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(t*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let s=0;s<t;s++){const t=r+s*o,a=s%2==0?i:n;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Lm,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const Um=Zm;class Jm extends Um{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Jm({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const Qm=Jm;class ev{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null}clone(){const e=this.getColor();return new ev({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const tv=ev;class iv{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new iv({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const nv=iv;class rv{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=av,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new rv({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=av,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let ov=null;function sv(e,t){if(!ov){const e=new tv({color:"rgba(255,255,255,0.4)"}),t=new nv({color:"#3399CC",width:1.25});ov=[new rv({image:new Qm({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return ov}function av(e){return e.getGeometry()}const lv=rv;function cv(e,t){return t&&(e.src=t),e.src&&lu?new Promise(((t,i)=>e.decode().then((()=>t(e))).catch((n=>e.complete&&e.width?t(e):i(n))))):function(e,t){return new Promise(((i,n)=>{function r(){s(),i(e)}function o(){s(),n(new Error("Image load error"))}function s(){e.removeEventListener("load",r),e.removeEventListener("error",o)}e.addEventListener("load",r),e.addEventListener("error",o),t&&(e.src=t)}))}(e)}function hv(e,t,i){return t+":"+e+":"+(i?sm(i):"null")}const uv=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const n=hv(e,t,i);return n in this.cache_?this.cache_[n]:null}set(e,t,i,n){const r=hv(e,t,i);this.cache_[r]=n,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};let dv=null;class pv extends Ah{constructor(e,t,i,n,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=r,this.imageState_=void 0===n?Kf:n,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Yf){dv||(dv=vm(1,1,void 0,{willReadFrequently:!0})),dv.drawImage(this.image_,0,0);try{dv.getImageData(0,0,1,1),this.tainted_=!1}catch(e){dv=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Dh)}handleImageError_(){this.imageState_=Hf,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Yf,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=vm(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Kf){this.image_||this.initializeImage_(),this.imageState_=Xf;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(e){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&cv(this.image_,this.src_).then((e=>{this.image_=e,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Yf)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const n=i.getContext("2d");n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=sm(this.color_),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=i}}function gv(e,t,i,n){return void 0!==i&&void 0!==n?[i/e,n/t]:void 0!==i?i/e:void 0!==n?n/t:1}class fv extends Uf{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,i=void 0!==e.rotation?e.rotation:0,n=void 0!==e.scale?e.scale:1,r=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:i,scale:n,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const o=void 0!==e.img?e.img:null;let s,a=e.src;if(hu(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||Qh(o)),hu(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),hu(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=Kf:void 0!==o&&(s=o instanceof HTMLImageElement?o.complete?o.src?Yf:Kf:Xf:Yf),this.color_=void 0!==e.color?pm(e.color):null,this.iconImage_=function(e,t,i,n,r){let o=void 0===t?void 0:uv.get(t,i,r);return o||(o=new pv(e,e instanceof HTMLImageElement?e.src||void 0:t,i,n,r),uv.set(t,i,r,o)),o}(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){let t,i;if(e.size)[t,i]=e.size;else{const n=this.getImage(1);if(n.width&&n.height)t=n.width,i=n.height;else if(n instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const i=this.iconImage_.getSize();this.setScale(gv(i[0],i[1],e.width,e.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(gv(t,i,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new fv({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=i[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Yf?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Yf?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Dh,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Dh,e)}}const mv=fv;class vv{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=$f(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new tv({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const e=this.getScale();return new vv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=$f(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const _v=vv;let yv=0;const bv=0,xv=1<<yv++,wv=1<<yv++,Cv=1<<yv++,Sv=1<<yv++,Ev=1<<yv++,Tv=Math.pow(2,5)-1,kv={[xv]:"boolean",[wv]:"number",[Cv]:"string",[Sv]:"color",[Ev]:"number[]"},Iv=Object.keys(kv).map(Number).sort(Sh);function Rv(e){const t=[];for(const n of Iv)(e&(i=n))===i&&t.push(kv[n]);var i;return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Mv(e,t){return!!(e&t)}function Pv(e,t){return e===t}class Lv{constructor(e,t){this.type=e,this.value=t}}class Ov{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function Fv(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function Av(e,t,i){switch(typeof e){case"boolean":return new Lv(xv,e);case"number":return new Lv(wv,e);case"string":{let t=Cv;return function(e){try{return dm(e),!0}catch(t){return!1}}(e)&&(t|=Sv),Pv(t&i,bv)||(t&=i),new Lv(t,e)}}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(0===e.length)throw new Error("Empty expression");if("string"==typeof e[0])return function(e,t,i){const n=e[0],r=zv[n];if(!r)throw new Error(`Unknown operator: ${n}`);return r(e,t,i)}(e,t,i);for(const r of e)if("number"!=typeof r)throw new Error("Expected an array of numbers");let n=Ev;return 3!==e.length&&4!==e.length||(n|=Sv),i&&(n&=i),new Lv(n,e)}const Dv={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},zv={[Dv.Get]:Vv((([e,t])=>void 0!==t?function(e){switch(e){case"string":return Cv;case"color":return Sv;case"number":return wv;case"boolean":return xv;case"number[]":return Ev;default:throw new Error(`Unrecognized type hint: ${e}`)}}(t.value):Tv),jv(1,2),(function(e,t){const i=Av(e[1],t);if(!(i instanceof Lv))throw new Error("Expected a literal argument for get operation");if("string"!=typeof i.value)throw new Error("Expected a string argument for get operation");return t.properties.add(i.value),3===e.length?[i,Av(e[2],t)]:[i]})),[Dv.Var]:Vv((([e])=>e.type),jv(1,1),(function(e,t,i,n){const r=e[1];if("string"!=typeof r)throw new Error("Expected a string argument for var operation");if(t.variables.add(r),!("variables"in t.style)||void 0===t.style.variables[r])return[new Lv(Tv,r)];const o=Av(t.style.variables[r],t);if(o.value=r,n&&!Mv(n,o.type))throw new Error(`The variable ${r} has type ${Rv(o.type)} but the following type was expected: ${Rv(n)}`);return[o]})),[Dv.Id]:Vv(wv|Cv,Nv,(function(e,t){t.featureId=!0})),[Dv.Concat]:Vv(Cv,jv(2,1/0),Gv(Tv)),[Dv.GeometryType]:Vv(Cv,Nv),[Dv.Resolution]:Vv(wv,Nv),[Dv.Zoom]:Vv(wv,Nv),[Dv.Time]:Vv(wv,Nv),[Dv.Any]:Vv(xv,jv(2,1/0),Gv(xv)),[Dv.All]:Vv(xv,jv(2,1/0),Gv(xv)),[Dv.Not]:Vv(xv,jv(1,1),Gv(xv)),[Dv.Equal]:Vv(xv,jv(2,2),Gv(Tv),Bv),[Dv.NotEqual]:Vv(xv,jv(2,2),Gv(Tv),Bv),[Dv.GreaterThan]:Vv(xv,jv(2,2),Gv(Tv),Bv),[Dv.GreaterThanOrEqualTo]:Vv(xv,jv(2,2),Gv(Tv),Bv),[Dv.LessThan]:Vv(xv,jv(2,2),Gv(Tv),Bv),[Dv.LessThanOrEqualTo]:Vv(xv,jv(2,2),Gv(Tv),Bv),[Dv.Multiply]:Vv((e=>{let t=wv|Sv;for(let i=0;i<e.length;i++)t&=e[i].type;return t}),jv(2,1/0),Gv(wv|Sv),Bv),[Dv.Divide]:Vv(wv,jv(2,2),Gv(wv)),[Dv.Add]:Vv(wv,jv(2,1/0),Gv(wv)),[Dv.Subtract]:Vv(wv,jv(2,2),Gv(wv)),[Dv.Clamp]:Vv(wv,jv(3,3),Gv(wv)),[Dv.Mod]:Vv(wv,jv(2,2),Gv(wv)),[Dv.Pow]:Vv(wv,jv(2,2),Gv(wv)),[Dv.Abs]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Floor]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Ceil]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Round]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Sin]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Cos]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Atan]:Vv(wv,jv(1,2),Gv(wv)),[Dv.Sqrt]:Vv(wv,jv(1,1),Gv(wv)),[Dv.Match]:Vv((e=>{let t=Tv;for(let i=2;i<e.length;i+=2)t&=e[i].type;return t&=e[e.length-1].type,t}),jv(4,1/0),Wv,(function(e,t,i,n){const r=e.length-1;let o=Av(e[1],t).type;const s=Av(e[e.length-1],t);let a=void 0!==n?n&s.type:s.type;const l=new Array(r-2);for(let h=0;h<r-2;h+=2){const i=Av(e[h+2],t),n=Av(e[h+3],t);o&=i.type,a&=n.type,l[h]=i,l[h+1]=n}const c=Cv|wv|xv;if(!Mv(c,o))throw new Error(`Expected an input of type ${Rv(c)} for the interpolate operation, got ${Rv(o)} instead`);if(Pv(a,bv))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let h=0;h<r-2;h+=2){const i=Av(e[h+2],t,o),n=Av(e[h+3],t,a);l[h]=i,l[h+1]=n}return[Av(e[1],t,o),...l,Av(e[e.length-1],t,a)]})),[Dv.Between]:Vv(xv,jv(3,3),Gv(wv)),[Dv.Interpolate]:Vv((e=>{let t=Sv|wv;for(let i=3;i<e.length;i+=2)t&=e[i].type;return t}),jv(6,1/0),Wv,(function(e,t,i,n){const r=e[1];let o;switch(r[0]){case"linear":o=1;break;case"exponential":if(o=r[1],"number"!=typeof o)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(o)} instead`);break;default:o=null}if(!o)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);o=Av(o,t);let s=Av(e[2],t);if(!Mv(wv,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${Rv(s.type)} instead`);s=Av(e[2],t,wv);const a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){let i=Av(e[l+3],t);if(!Mv(wv,i.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${Rv(i.type)} at position ${l+2} instead`);let n=Av(e[l+4],t);if(!Mv(wv|Sv,n.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${Rv(n.type)} at position ${l+3} instead`);i=Av(e[l+3],t,wv),n=Av(e[l+4],t,wv|Sv),a[l]=i,a[l+1]=n}return[o,s,...a]})),[Dv.Case]:Vv((e=>{let t=Tv;for(let i=1;i<e.length;i+=2)t&=e[i].type;return t&=e[e.length-1].type,t}),jv(3,1/0),(function(e,t){const i=e[0],n=e.length-1;if(n%2==0)throw new Error(`An odd amount of arguments was expected for operation ${i}, got ${JSON.stringify(n)} instead`)}),(function(e,t,i,n){const r=Av(e[e.length-1],t);let o=void 0!==n?n&r.type:r.type;const s=new Array(e.length-1);for(let a=0;a<s.length-1;a+=2){const i=Av(e[a+1],t),n=Av(e[a+2],t);if(!Mv(xv,i.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${Rv(i.type)} at position ${a} instead`);o&=n.type,s[a]=i,s[a+1]=n}if(Pv(o,bv))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let a=0;a<s.length-1;a+=2)s[a+1]=Av(e[a+2],t,o);return s[s.length-1]=Av(e[e.length-1],t,o),s})),[Dv.In]:Vv(xv,jv(2,2),(function(e,t){let i=e[2];if(!Array.isArray(i))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof i[0]){if("literal"!==i[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(i[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');i=i[1]}let n=Cv|wv;const r=new Array(i.length);for(let o=0;o<r.length;o++){const e=Av(i[o],t);n&=e.type,r[o]=e}if(Pv(n,bv))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[Av(e[1],t,n),...r]})),[Dv.Number]:Vv(wv,jv(1,1/0),Gv(Tv)),[Dv.String]:Vv(Cv,jv(1,1/0),Gv(Tv)),[Dv.Array]:Vv((e=>3===e.length||4===e.length?Ev|Sv:Ev),jv(1,1/0),Gv(wv)),[Dv.Color]:Vv(Sv,jv(3,4),Gv(wv)),[Dv.Band]:Vv(wv,jv(1,3),Gv(wv)),[Dv.Palette]:Vv(Sv,jv(2,2),(function(e,t){const i=Av(e[1],t,wv);if(i.type!==wv)throw new Error(`The first argument of palette must be an number, got ${Rv(i.type)} instead`);const n=e[2];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");const r=new Array(n.length);for(let o=0;o<r.length;o++){const e=Av(n[o],t,Sv);if(!(e instanceof Lv))throw new Error(`The palette color at index ${o} must be a literal value`);if(!Mv(e.type,Sv))throw new Error(`The palette color at index ${o} should be of type color, got ${Rv(e.type)} instead`);r[o]=e}return[i,...r]}))};function Nv(e,t){const i=e[0];if(1!==e.length)throw new Error(`Expected no arguments for ${i} operation`);return[]}function jv(e,t){return function(i,n){const r=i[0],o=i.length-1;if(e===t){if(o!==e)throw new Error(`Expected ${e} argument${1===e?"":"s"} for ${r}, got ${o}`)}else if(o<e||o>t)throw new Error(`Expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${r}, got ${o}`)}}function Gv(e){return function(t,i){const n=t[0],r=t.length-1,o=new Array(r);for(let s=0;s<r;++s){const r=Av(t[s+1],i);if(!Mv(e,r.type)){const t=Rv(e),i=Rv(r.type);throw new Error(`Unexpected type for argument ${s} of ${n} operation, got ${t} but expected ${i}`)}r.type&=e,o[s]=r}return o}}function Bv(e,t,i){const n=e[0],r=e.length-1;let o=Tv;for(let a=0;a<i.length;++a)o&=i[a].type;if(o===bv)throw new Error(`No common type could be found for arguments of ${n} operation`);const s=new Array(r);for(let a=0;a<r;++a)s[a]=Av(e[a+1],t,o);return s}function Wv(e,t){const i=e[0],n=e.length-1;if(n%2==1)throw new Error(`An even amount of arguments was expected for operation ${i}, got ${JSON.stringify(n)} instead`)}function Vv(e,...t){return function(i,n,r){const o=i[0];let s=[];for(let e=0;e<t.length;e++)s=t[e](i,n,s,r)||s;let a="function"==typeof e?e(s):e;if(void 0!==r){if(!Mv(a,r))throw new Error(`The following expression was expected to return ${Rv(r)}, but returns ${Rv(a)} instead: ${JSON.stringify(i)}`);a&=r}if(a===bv)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(i)}`);return new Ov(a,o,...s)}}function Kv(e,t,i){const n=Av(e,i);if(!Mv(t,n.type)){const e=Rv(t),i=Rv(n.type);throw new Error(`Expected expression to be of type ${e}, got ${i}`)}return Xv(n)}function Xv(e,t){if(e instanceof Lv){if(e.type===Sv&&"string"==typeof e.value){const t=dm(e.value);return function(){return t}}return function(){return e.value}}const i=e.operator;switch(i){case Dv.Number:case Dv.String:return function(e,t){const i=e.operator,n=e.args.length,r=new Array(n);for(let o=0;o<n;++o)r[o]=Xv(e.args[o]);switch(i){case Dv.Number:case Dv.String:return e=>{for(let t=0;t<n;++t){const n=r[t](e);if(typeof n===i)return n}throw new Error(`Expected one of the values to be a ${i}`)};default:throw new Error(`Unsupported assertion operator ${i}`)}}(e);case Dv.Get:case Dv.Var:return function(e,t){const i=e.args[0],n=i.value;switch(e.operator){case Dv.Get:return e=>e.properties[n];case Dv.Var:return e=>e.variables[n];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case Dv.Id:return e=>e.featureId;case Dv.Concat:{const t=e.args.map((e=>Xv(e)));return e=>"".concat(...t.map((t=>t(e).toString())))}case Dv.Resolution:return e=>e.resolution;case Dv.Any:case Dv.All:case Dv.Not:return function(e,t){const i=e.operator,n=e.args.length,r=new Array(n);for(let o=0;o<n;++o)r[o]=Xv(e.args[o]);switch(i){case Dv.Any:return e=>{for(let t=0;t<n;++t)if(r[t](e))return!0;return!1};case Dv.All:return e=>{for(let t=0;t<n;++t)if(!r[t](e))return!1;return!0};case Dv.Not:return e=>!r[0](e);default:throw new Error(`Unsupported logical operator ${i}`)}}(e);case Dv.Equal:case Dv.NotEqual:case Dv.LessThan:case Dv.LessThanOrEqualTo:case Dv.GreaterThan:case Dv.GreaterThanOrEqualTo:return function(e,t){const i=e.operator,n=Xv(e.args[0]),r=Xv(e.args[1]);switch(i){case Dv.Equal:return e=>n(e)===r(e);case Dv.NotEqual:return e=>n(e)!==r(e);case Dv.LessThan:return e=>n(e)<r(e);case Dv.LessThanOrEqualTo:return e=>n(e)<=r(e);case Dv.GreaterThan:return e=>n(e)>r(e);case Dv.GreaterThanOrEqualTo:return e=>n(e)>=r(e);default:throw new Error(`Unsupported comparison operator ${i}`)}}(e);case Dv.Multiply:case Dv.Divide:case Dv.Add:case Dv.Subtract:case Dv.Clamp:case Dv.Mod:case Dv.Pow:case Dv.Abs:case Dv.Floor:case Dv.Ceil:case Dv.Round:case Dv.Sin:case Dv.Cos:case Dv.Atan:case Dv.Sqrt:return function(e,t){const i=e.operator,n=e.args.length,r=new Array(n);for(let o=0;o<n;++o)r[o]=Xv(e.args[o]);switch(i){case Dv.Multiply:return e=>{let t=1;for(let i=0;i<n;++i)t*=r[i](e);return t};case Dv.Divide:return e=>r[0](e)/r[1](e);case Dv.Add:return e=>{let t=0;for(let i=0;i<n;++i)t+=r[i](e);return t};case Dv.Subtract:return e=>r[0](e)-r[1](e);case Dv.Clamp:return e=>{const t=r[0](e),i=r[1](e);if(t<i)return i;const n=r[2](e);return t>n?n:t};case Dv.Mod:return e=>r[0](e)%r[1](e);case Dv.Pow:return e=>Math.pow(r[0](e),r[1](e));case Dv.Abs:return e=>Math.abs(r[0](e));case Dv.Floor:return e=>Math.floor(r[0](e));case Dv.Ceil:return e=>Math.ceil(r[0](e));case Dv.Round:return e=>Math.round(r[0](e));case Dv.Sin:return e=>Math.sin(r[0](e));case Dv.Cos:return e=>Math.cos(r[0](e));case Dv.Atan:return 2===n?e=>Math.atan2(r[0](e),r[1](e)):e=>Math.atan(r[0](e));case Dv.Sqrt:return e=>Math.sqrt(r[0](e));default:throw new Error(`Unsupported numeric operator ${i}`)}}(e);case Dv.Match:return function(e,t){const i=e.args.length,n=new Array(i);for(let r=0;r<i;++r)n[r]=Xv(e.args[r]);return e=>{const t=n[0](e);for(let r=1;r<i;r+=2)if(t===n[r](e))return n[r+1](e);return n[i-1](e)}}(e);case Dv.Interpolate:return function(e,t){const i=e.args.length,n=new Array(i);for(let r=0;r<i;++r)n[r]=Xv(e.args[r]);return e=>{const t=n[0](e),r=n[1](e);let o,s;for(let a=2;a<i;a+=2){const i=n[a](e);let l=n[a+1](e);const c=Array.isArray(l);if(c&&(l=hm(l)),i>=r)return 2===a?l:c?Hv(t,r,o,s,i,l):Yv(t,r,o,s,i,l);o=i,s=l}return s}}(e);default:throw new Error(`Unsupported operator ${i}`)}}function Yv(e,t,i,n,r,o){const s=r-i;if(0===s)return n;const a=t-i;return n+(1===e?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1))*(o-n)}function Hv(e,t,i,n,r,o){if(0==r-i)return n;const s=um(n),a=um(o);let l=a[2]-s[2];return l>180?l-=360:l<-180&&(l+=360),gm(function(e){const t=Qf.rgb(tm.xyz(e));return t[3]=e[3],t}([Yv(e,t,i,s[0],r,a[0]),Yv(e,t,i,s[1],r,a[1]),s[2]+Yv(e,t,i,0,r,l),Yv(e,t,i,n[3],r,o[3])]))}function qv(e){return!0}function $v(e){const t=Fv(),i=function(e,t){const i=e.length,n=new Array(i);for(let r=0;r<i;++r){const i=e[r],o="filter"in i?Kv(i.filter,xv,t):qv;let s;if(Array.isArray(i.style)){const e=i.style.length;s=new Array(e);for(let n=0;n<e;++n)s[n]=Uv(i.style[n],t)}else s=[Uv(i.style,t)];n[r]={filter:o,styles:s}}return function(t){const r=[];let o=!1;for(let s=0;s<i;++s)if((0,n[s].filter)(t)&&(!e[s].else||!o)){o=!0;for(const e of n[s].styles){const i=e(t);i&&r.push(i)}}return r}}(e,t),n={variables:{},properties:{},resolution:NaN,featureId:null};return function(e,r){if(n.properties=e.getPropertiesInternal(),n.resolution=r,t.featureId){const t=e.getId();n.featureId=void 0!==t?t:null}return i(n)}}function Zv(e){const t=Fv(),i=e.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=Uv(e[s],t);const r={variables:{},properties:{},resolution:NaN,featureId:null},o=new Array(i);return function(e,s){if(r.properties=e.getPropertiesInternal(),r.resolution=s,t.featureId){const t=e.getId();r.featureId=void 0!==t?t:null}let a=0;for(let t=0;t<i;++t){const e=n[t](r);e&&(o[a]=e,a+=1)}return o.length=a,o}}function Uv(e,t){const i=Jv(e,"",t),n=Qv(e,"",t),r=function(e,t){const i="text-",n=t_(e,i+"value",t);if(!n)return null;const r=Jv(e,i,t),o=Jv(e,i+"background-",t),s=Qv(e,i,t),a=Qv(e,i+"background-",t),l=t_(e,i+"font",t),c=e_(e,i+"max-angle",t),h=e_(e,i+"offset-x",t),u=e_(e,i+"offset-y",t),d=i_(e,i+"overflow",t),p=t_(e,i+"placement",t),g=e_(e,i+"repeat",t),f=s_(e,i+"scale",t),m=i_(e,i+"rotate-with-view",t),v=e_(e,i+"rotation",t),_=t_(e,i+"align",t),y=t_(e,i+"justify",t),b=t_(e,i+"baseline",t),x=r_(e,i+"padding",t),w=new _v({});return function(e){if(w.setText(n(e)),r&&w.setFill(r(e)),o&&w.setBackgroundFill(o(e)),s&&w.setStroke(s(e)),a&&w.setBackgroundStroke(a(e)),l&&w.setFont(l(e)),c&&w.setMaxAngle(c(e)),h&&w.setOffsetX(h(e)),u&&w.setOffsetY(u(e)),d&&w.setOverflow(d(e)),p){const t=p(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");w.setPlacement(t)}if(g&&w.setRepeat(g(e)),f&&w.setScale(f(e)),m&&w.setRotateWithView(m(e)),v&&w.setRotation(v(e)),_){const t=_(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");w.setTextAlign(t)}if(y){const t=y(e);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");w.setJustify(t)}if(b){const t=b(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");w.setTextBaseline(t)}return x&&w.setPadding(x(e)),w}}(e,t),o=function(e,t){return"icon-src"in e?function(e,t){const i="icon-",n=i+"src",r=d_(e[n],n),o=o_(e,i+"anchor",t),s=s_(e,i+"scale",t),a=e_(e,i+"opacity",t),l=o_(e,i+"displacement",t),c=e_(e,i+"rotation",t),h=i_(e,i+"rotate-with-view",t),u=l_(e,i+"anchor-origin"),d=c_(e,i+"anchor-x-units"),p=c_(e,i+"anchor-y-units"),g=function(e,t){const i=e[t];if(void 0!==i)return g_(i,t)}(e,i+"color"),f=function(e,t){const i=e[t];if(void 0!==i){if("string"!=typeof i)throw new Error(`Expected a string for ${t}`);return i}}(e,i+"cross-origin"),m=function(e,t){const i=e[t];if(void 0!==i)return u_(i,t)}(e,i+"offset"),v=l_(e,i+"offset-origin"),_=a_(e,i+"width"),y=a_(e,i+"height"),b=function(e,t){const i=e[t];if(void 0!==i){if("number"==typeof i)return $f(i);if(!Array.isArray(i))throw new Error(`Expected a number or size array for ${t}`);if(2!==i.length||"number"!=typeof i[0]||"number"!=typeof i[1])throw new Error(`Expected a number or size array for ${t}`);return i}}(e,i+"size"),x=h_(e,i+"declutter"),w=new mv({src:r,anchorOrigin:u,anchorXUnits:d,anchorYUnits:p,color:g,crossOrigin:f,offset:m,offsetOrigin:v,height:y,width:_,size:b,declutterMode:x});return function(e){return a&&w.setOpacity(a(e)),l&&w.setDisplacement(l(e)),c&&w.setRotation(c(e)),h&&w.setRotateWithView(h(e)),s&&w.setScale(s(e)),o&&w.setAnchor(o(e)),w}}(e,t):"shape-points"in e?function(e,t){const i="shape-",n=i+"points",r=p_(e[n],n),o=Jv(e,i,t),s=Qv(e,i,t),a=s_(e,i+"scale",t),l=o_(e,i+"displacement",t),c=e_(e,i+"rotation",t),h=i_(e,i+"rotate-with-view",t),u=a_(e,i+"radius"),d=a_(e,i+"radius1"),p=a_(e,i+"radius2"),g=a_(e,i+"angle"),f=h_(e,i+"declutter-mode"),m=new Um({points:r,radius:u,radius1:d,radius2:p,angle:g,declutterMode:f});return function(e){return o&&m.setFill(o(e)),s&&m.setStroke(s(e)),l&&m.setDisplacement(l(e)),c&&m.setRotation(c(e)),h&&m.setRotateWithView(h(e)),a&&m.setScale(a(e)),m}}(e,t):"circle-radius"in e?function(e,t){const i="circle-",n=Jv(e,i,t),r=Qv(e,i,t),o=e_(e,i+"radius",t),s=s_(e,i+"scale",t),a=o_(e,i+"displacement",t),l=e_(e,i+"rotation",t),c=i_(e,i+"rotate-with-view",t),h=h_(e,i+"declutter-mode"),u=new Qm({radius:5,declutterMode:h});return function(e){return o&&u.setRadius(o(e)),n&&u.setFill(n(e)),r&&u.setStroke(r(e)),a&&u.setDisplacement(a(e)),l&&u.setRotation(l(e)),c&&u.setRotateWithView(c(e)),s&&u.setScale(s(e)),u}}(e,t):null}(e,t),s=e_(e,"z-index",t);if(!(i||n||r||o||Fh(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new lv;return function(e){let t=!0;if(i){const n=i(e);n&&(t=!1),a.setFill(n)}if(n){const i=n(e);i&&(t=!1),a.setStroke(i)}if(r){const i=r(e);i&&(t=!1),a.setText(i)}if(o){const i=o(e);i&&(t=!1),a.setImage(i)}return s&&a.setZIndex(s(e)),t?null:a}}function Jv(e,t,i){const n=n_(e,t+"fill-color",i);if(!n)return null;const r=new tv;return function(e){const t=n(e);return"none"===t?null:(r.setColor(t),r)}}function Qv(e,t,i){const n=e_(e,t+"stroke-width",i),r=n_(e,t+"stroke-color",i);if(!n&&!r)return null;const o=t_(e,t+"stroke-line-cap",i),s=t_(e,t+"stroke-line-join",i),a=r_(e,t+"stroke-line-dash",i),l=e_(e,t+"stroke-line-dash-offset",i),c=e_(e,t+"stroke-miter-limit",i),h=new nv;return function(e){if(r){const t=r(e);if("none"===t)return null;h.setColor(t)}if(n&&h.setWidth(n(e)),o){const t=o(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");h.setLineCap(t)}if(s){const t=s(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(t)}return a&&h.setLineDash(a(e)),l&&h.setLineDashOffset(l(e)),c&&h.setMiterLimit(c(e)),h}}function e_(e,t,i){if(!(t in e))return;const n=Kv(e[t],wv,i);return function(e){return p_(n(e),t)}}function t_(e,t,i){if(!(t in e))return null;const n=Kv(e[t],Cv,i);return function(e){return d_(n(e),t)}}function i_(e,t,i){if(!(t in e))return null;const n=Kv(e[t],xv,i);return function(e){const i=n(e);if("boolean"!=typeof i)throw new Error(`Expected a boolean for ${t}`);return i}}function n_(e,t,i){if(!(t in e))return null;const n=Kv(e[t],Sv|Cv,i);return function(e){return g_(n(e),t)}}function r_(e,t,i){if(!(t in e))return null;const n=Kv(e[t],Ev,i);return function(e){return u_(n(e),t)}}function o_(e,t,i){if(!(t in e))return null;const n=Kv(e[t],Ev,i);return function(e){const i=u_(n(e),t);if(2!==i.length)throw new Error(`Expected two numbers for ${t}`);return i}}function s_(e,t,i){if(!(t in e))return null;const n=Kv(e[t],Ev|wv,i);return function(e){return function(e,t){if("number"==typeof e)return e;const i=u_(e,t);if(2!==i.length)throw new Error(`Expected an array of two numbers for ${t}`);return i}(n(e),t)}}function a_(e,t){const i=e[t];if(void 0!==i){if("number"!=typeof i)throw new Error(`Expected a number for ${t}`);return i}}function l_(e,t){const i=e[t];if(void 0!==i){if("bottom-left"!==i&&"bottom-right"!==i&&"top-left"!==i&&"top-right"!==i)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return i}}function c_(e,t){const i=e[t];if(void 0!==i){if("pixels"!==i&&"fraction"!==i)throw new Error(`Expected pixels or fraction for ${t}`);return i}}function h_(e,t){const i=e[t];if(void 0!==i){if("string"!=typeof i)throw new Error(`Expected a string for ${t}`);if("declutter"!==i&&"obstacle"!==i&&"none"!==i)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return i}}function u_(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const i=e.length;for(let n=0;n<i;++n)if("number"!=typeof e[n])throw new Error(`Expected an array of numbers for ${t}`);return e}function d_(e,t){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}function p_(e,t){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}function g_(e,t){if("string"==typeof e)return e;const i=u_(e,t),n=i.length;if(n<3||n>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return i}const f_="renderOrder",m_=class extends Ef{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(f_)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new Mf(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(f_,e)}setStyle(e){this.style_=function(e){if(void 0===e)return sv;if(!e)return null;if("function"==typeof e)return e;if(e instanceof lv)return e;if(!Array.isArray(e))return Zv([e]);if(0===e.length)return[];const t=e.length,i=e[0];if(i instanceof lv){const i=new Array(t);for(let n=0;n<t;++n){const t=e[n];if(!(t instanceof lv))throw new Error("Expected a list of style instances");i[n]=t}return i}if("style"in i){const i=new Array(t);for(let n=0;n<t;++n){const t=e[n];if(!("style"in t))throw new Error("Expected a list of rules with a style property");i[n]=t}return $v(i)}const n=e;return Zv(n)}(e),this.styleFunction_=null===e?void 0:function(e){let t;if("function"==typeof e)t=e;else{let i;Array.isArray(e)?i=e:(hu("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),i=[e]),t=function(){return i}}return t}(this.style_),this.changed()}},v_={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},__=[v_.FILL],y_=[v_.STROKE],b_=[v_.BEGIN_PATH],x_=[v_.CLOSE_PATH],w_=v_,C_=class{drawCustom(e,t,i,n){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},S_=class extends C_{constructor(e,t,i,n){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let s=0,a=e.length;s<a;s+=t)n[0]=e[s],n[1]=e[s+1],xu(i,n)&&(r[o++]=n[0],r[o++]=n[1]);return o}appendFlatLineCoordinates(e,t,i,n,r,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(t+=n);let c=e[t],h=e[t+1];const u=this.tmpCoordinate_;let d,p,g,f=!0;for(d=t+n;d<i;d+=n)u[0]=e[d],u[1]=e[d+1],g=Su(l,u),g!==p?(f&&(s[a++]=c,s[a++]=h,f=!1),s[a++]=u[0],s[a++]=u[1]):g===mu.INTERSECTING?(s[a++]=u[0],s[a++]=u[1],f=!1):f=!0,c=u[0],h=u[1],p=g;return(r&&f||d===t+n)&&(s[a++]=c,s[a++]=h),a}drawCustomCoordinates_(e,t,i,n,r){for(let o=0,s=i.length;o<s;++o){const s=i[o],a=this.appendFlatLineCoordinates(e,t,s,n,!1,!1);r.push(a),t=s}return t}drawCustom(e,t,i,n){this.beginGeometry(e,t);const r=e.getType(),o=e.getStride(),s=this.coordinates.length;let a,l,c,h,u;switch(r){case"MultiPolygon":a=e.getOrientedFlatCoordinates(),h=[];const t=e.getEndss();u=0;for(let e=0,i=t.length;e<i;++e){const i=[];u=this.drawCustomCoordinates_(a,u,t[e],o,i),h.push(i)}this.instructions.push([w_.CUSTOM,s,h,e,i,Ip]),this.hitDetectionInstructions.push([w_.CUSTOM,s,h,e,n||i,Ip]);break;case"Polygon":case"MultiLineString":c=[],a="Polygon"==r?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(a,0,e.getEnds(),o,c),this.instructions.push([w_.CUSTOM,s,c,e,i,kp]),this.hitDetectionInstructions.push([w_.CUSTOM,s,c,e,n||i,kp]);break;case"LineString":case"Circle":a=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(a,0,a.length,o,!1,!1),this.instructions.push([w_.CUSTOM,s,l,e,i,Tp]),this.hitDetectionInstructions.push([w_.CUSTOM,s,l,e,n||i,Tp]);break;case"MultiPoint":a=e.getFlatCoordinates(),l=this.appendFlatPointCoordinates(a,o),l>s&&(this.instructions.push([w_.CUSTOM,s,l,e,i,Tp]),this.hitDetectionInstructions.push([w_.CUSTOM,s,l,e,n||i,Tp]));break;case"Point":a=e.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),l=this.coordinates.length,this.instructions.push([w_.CUSTOM,s,l,e,i]),this.hitDetectionInstructions.push([w_.CUSTOM,s,l,e,n||i])}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[w_.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[w_.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const i=e.length;let n,r,o=-1;for(t=0;t<i;++t)n=e[t],r=n[0],r==w_.END_GEOMETRY?o=t:r==w_.BEGIN_GEOMETRY&&(n[2]=t,Th(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const t=e.getColor();i.fillStyle=mm(t||Lm)}else i.fillStyle=void 0;if(t){const e=t.getColor();i.strokeStyle=mm(e||Dm);const n=t.getLineCap();i.lineCap=void 0!==n?n:Om;const r=t.getLineDash();i.lineDash=r?r.slice():Fm;const o=t.getLineDashOffset();i.lineDashOffset=o||0;const s=t.getLineJoin();i.lineJoin=void 0!==s?s:Am;const a=t.getWidth();i.lineWidth=void 0!==a?a:1;const l=t.getMiterLimit();i.miterLimit=void 0!==l?l:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[w_.SET_FILL_STYLE,t];return"string"!=typeof t&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[w_.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;"string"==typeof i&&e.currentFillStyle==i||(void 0!==i&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,n=e.lineCap,r=e.lineDash,o=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=n||r!=e.currentLineDash&&!Ih(e.currentLineDash,r)||e.currentLineDashOffset!=o||e.currentLineJoin!=s||e.currentLineWidth!=a||e.currentMiterLimit!=l)&&(void 0!==i&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=n,e.currentLineDash=r,e.currentLineDashOffset=o,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[w_.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=yu(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;_u(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},E_=class extends S_{constructor(e,t,i,n){super(e,t,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([w_.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([w_.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([w_.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([w_.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),n=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},T_=class extends S_{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinates_(e,t,i,n){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,i,n,!1,!1),s=[w_.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i}drawLineString(e,t){const i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0===n||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([w_.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fm,0],b_);const o=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(y_),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0===n||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([w_.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fm,0],b_);const o=e.getEnds(),s=e.getFlatCoordinates(),a=e.getStride();let l=0;for(let c=0,h=o.length;c<h;++c)l=this.drawFlatCoordinates_(s,l,o[c],a);this.hitDetectionInstructions.push(y_),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(y_),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(y_),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(b_)}},k_=class extends S_{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinatess_(e,t,i,n){const r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=i.length;this.instructions.push(b_),this.hitDetectionInstructions.push(b_);for(let l=0;l<a;++l){const r=i[l],o=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,r,n,!0,!s),c=[w_.MOVE_TO_LINE_TO,o,a];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(x_),this.hitDetectionInstructions.push(x_)),t=r}return o&&(this.instructions.push(__),this.hitDetectionInstructions.push(__)),s&&(this.instructions.push(y_),this.hitDetectionInstructions.push(y_)),t}drawCircle(e,t){const i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0===n&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([w_.SET_FILL_STYLE,Lm]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([w_.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fm,0]);const o=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,s,!1,!1);const l=[w_.CIRCLE,a];this.instructions.push(b_,l),this.hitDetectionInstructions.push(b_,l),void 0!==i.fillStyle&&(this.instructions.push(__),this.hitDetectionInstructions.push(__)),void 0!==i.strokeStyle&&(this.instructions.push(y_),this.hitDetectionInstructions.push(y_)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0===n&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([w_.SET_FILL_STYLE,Lm]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([w_.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fm,0]);const o=e.getEnds(),s=e.getOrientedFlatCoordinates(),a=e.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0===n&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([w_.SET_FILL_STYLE,Lm]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([w_.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Fm,0]);const o=e.getEndss(),s=e.getOrientedFlatCoordinates(),a=e.getStride();let l=0;for(let c=0,h=o.length;c<h;++c)l=this.drawFlatCoordinatess_(s,l,o[c],a);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let i=0,n=t.length;i<n;++i)t[i]=Cp(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function I_(e,t,i,n,r){const o=[];let s=i,a=0,l=t.slice(i,2);for(;a<e&&s+r<n;){const[i,n]=l.slice(-2),c=t[s+r],h=t[s+r+1],u=Math.sqrt((c-i)*(c-i)+(h-n)*(h-n));if(a+=u,a>=e){const t=(e-a+u)/u,d=yd(i,c,t),p=yd(n,h,t);l.push(d,p),o.push(l),l=[d,p],a==e&&(s+=r),a=0}else if(a<e)l.push(t[s+r],t[s+r+1]),s+=r;else{const e=u-a,t=yd(i,c,e/u),d=yd(n,h,e/u);l.push(t,d),o.push(l),l=[t,d],a=0,s+=r}}return a>0&&o.push(l),o}function R_(e,t,i,n,r){let o,s,a,l,c,h,u,d,p,g,f=i,m=i,v=0,_=0,y=i;for(s=i;s<n;s+=r){const i=t[s],n=t[s+1];void 0!==c&&(p=i-c,g=n-h,l=Math.sqrt(p*p+g*g),void 0!==u&&(_+=a,o=Math.acos((u*p+d*g)/(a*l)),o>e&&(_>v&&(v=_,f=y,m=s),_=0,y=s-r)),a=l,u=p,d=g),c=i,h=n}return _+=l,_>v?[y,s]:[f,m]}const M_={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},P_={Circle:k_,Default:S_,Image:E_,LineString:T_,Polygon:k_,Text:class extends S_{constructor(e,t,i,n){super(e,t,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Lm]={fillStyle:Lm},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""===this.text_||!r||!i&&!n)return;const o=this.coordinates;let s=o.length;const a=e.getType();let l=null,c=e.getStride();if("line"!==r.placement||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){let i=r.overflow?null:[];switch(a){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),c=2;break;case"Polygon":l=e.getFlatInteriorPoint(),r.overflow||i.push(l[2]/this.resolution),c=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();l=[];for(let e=0,n=t.length;e<n;e+=3)r.overflow||i.push(t[e+2]/this.resolution),l.push(t[e],t[e+1]);if(0===l.length)return;c=2}const n=this.appendFlatPointCoordinates(l,c);if(n===s)return;if(i&&(n-s)/2!=l.length/c){let e=s/2;i=i.filter(((t,i)=>{const n=o[2*(e+i)]===l[i*c]&&o[2*(e+i)+1]===l[i*c+1];return n||--e,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&this.updateFillStyle(this.state,this.createFill),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let h=r.padding;if(h!=jm&&(r.scale[0]<0||r.scale[1]<0)){let e=r.padding[0],t=r.padding[1],i=r.padding[2],n=r.padding[3];r.scale[0]<0&&(t=-t,n=-n),r.scale[1]<0&&(e=-e,i=-i),h=[e,t,i,n]}const u=this.pixelRatio;this.instructions.push([w_.DRAW_IMAGE,s,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,h==jm?jm:h.map((function(e){return e*u})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const d=1/u,p=this.state.fillStyle;r.backgroundFill&&(this.state.fillStyle=Lm,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([w_.DRAW_IMAGE,s,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[d,d],NaN,void 0,this.declutterImageWithText_,h,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Lm:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),r.backgroundFill&&(this.state.fillStyle=p,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!Hu(this.getBufferedMaxExtent(),e.getExtent()))return;let i;if(l=e.getFlatCoordinates(),"LineString"==a)i=[l.length];else if("MultiLineString"==a)i=e.getEnds();else if("Polygon"==a)i=e.getEnds().slice(0,1);else if("MultiPolygon"==a){const t=e.getEndss();i=[];for(let e=0,n=t.length;e<n;++e)i.push(t[e][0])}this.beginGeometry(e,t);const n=r.repeat,h=n?void 0:r.textAlign;let u=0;for(let e=0,t=i.length;e<t;++e){let t;t=n?I_(n*this.resolution,l,u,i[e],c):[l.slice(u,i[e])];for(let n=0,a=t.length;n<a;++n){const a=t[n];let l=0,d=a.length;if(null==h){const e=R_(r.maxAngle,a,0,a.length,2);l=e[0],d=e[1]}for(let e=l;e<d;e+=c)o.push(a[e],a[e+1]);const p=o.length;u=i[e],this.drawChars_(s,p),s=p}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||zm,justify:t.justify,textBaseline:t.textBaseline||Nm,scale:t.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=M_[n.textBaseline],c=this.textOffsetY_*a,h=this.text_,u=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([w_.DRAW_CHARS,e,t,l,n.overflow,s,n.maxAngle,a,c,r,u*a,h,o,1]),this.hitDetectionInstructions.push([w_.DRAW_CHARS,e,t,l,n.overflow,s?Lm:s,n.maxAngle,a,c,r,u*a,h,o,1/a])}setTextStyle(e,t){let i,n,r;if(e){const t=e.getFill();t?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=mm(t.getColor()||Lm)):(n=null,this.textFillState_=n);const o=e.getStroke();if(o){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const e=o.getLineDash(),t=o.getLineDashOffset(),i=o.getWidth(),n=o.getMiterLimit();r.lineCap=o.getLineCap()||Om,r.lineDash=e?e.slice():Fm,r.lineDashOffset=void 0===t?0:t,r.lineJoin=o.getLineJoin()||Am,r.lineWidth=void 0===i?1:i,r.miterLimit=void 0===n?10:n,r.strokeStyle=mm(o.getColor()||Dm)}else r=null,this.textStrokeState_=r;i=this.textState_;const s=e.getFont()||Pm;Km(s);const a=e.getScaleArray();i.overflow=e.getOverflow(),i.font=s,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Nm,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||jm,i.scale=void 0===a?[1,1]:a;const l=e.getOffsetX(),c=e.getOffsetY(),h=e.getRotateWithView(),u=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0===u?0:u,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Qh(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Qh(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}},L_=class{constructor(e,t,i,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const n in i){const r=i[n].finish();e[t][n]=r}}return e}getBuilder(e,t){const i=void 0!==e?e.toString():"0";let n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);let r=n[t];return void 0===r&&(r=new(0,P_[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=r),r}},O_=class extends Zh{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Uh()}getData(e){return null}prepareFrame(e){return Uh()}renderFrame(e,t){return Uh()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(n,r)=>{const o=this.loadedTileCallback.bind(this,i,n);return e.forEachLoadedTile(t,n,r,o)}}forEachFeatureAtCoordinate(e,t,i,n,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;t.getState()!==Yf&&t.getState()!==Hf||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Yf&&t!=Hf&&e.addEventListener(Dh,this.boundHandleImageChange_),t==Kf&&(e.load(),t=e.getState()),t==Yf}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},F_=class extends xh{constructor(e,t,i,n){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=n}},A_=[];let D_=null;const z_=class extends O_{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){let n;D_||(D_=vm(1,1,void 0,{willReadFrequently:!0})),D_.clearRect(0,0,1,1);try{D_.drawImage(e,t,i,1,1,0,0,1,1),n=D_.getImageData(0,0,1,1).data}catch(r){return D_=null,null}return n}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,i){const n=this.getLayer().getClassName();let r,o;if(e&&e.className===n&&(!i||e&&e.style.backgroundColor&&Ih(pm(e.style.backgroundColor),pm(i)))){const t=e.firstElementChild;t instanceof HTMLCanvasElement&&(o=t.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=n;let e=r.style;e.position="absolute",e.width="100%",e.height="100%",o=vm();const t=o.canvas;r.appendChild(t),e=t.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const n=Ku(i),r=Xu(i),o=zu(i),s=Du(i);uu(t.coordinateToPixelTransform,n),uu(t.coordinateToPixelTransform,r),uu(t.coordinateToPixelTransform,o),uu(t.coordinateToPixelTransform,s);const a=this.inversePixelTransform;uu(a,n),uu(a,r),uu(a,o),uu(a,s),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}dispatchRenderEvent_(e,t,i){const n=this.getLayer();if(n.hasListener(e)){const r=new F_(e,this.inversePixelTransform,i,t);n.dispatchEvent(r)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(of,e,t)}postRender(e,t){this.dispatchRenderEvent_(sf,e,t)}getRenderTransform(e,t,i,n,r,o,s){const a=r/2,l=o/2,c=n/t,h=-c,u=-e[0]+s,d=-e[1];return du(this.tempTransform,a,l,c,h,-i,u,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};function N_(e,t,i,n,r,o,s,a,l,c,h,u){let d=e[t],p=e[t+1],g=0,f=0,m=0,v=0;function _(){g=d,f=p,d=e[t+=n],p=e[t+1],v+=m,m=Math.sqrt((d-g)*(d-g)+(p-f)*(p-f))}do{_()}while(t<i-n&&v+m<o);let y=0===m?0:(o-v)/m;const b=yd(g,d,y),x=yd(f,p,y),w=t-n,C=v,S=o+a*l(c,r,h);for(;t<i-n&&v+m<S;)_();y=0===m?0:(S-v)/m;const E=yd(g,d,y),T=yd(f,p,y);let k;if(u){const e=[b,x,E,T];np(e,0,4,2,u,e,e),k=e[0]>e[2]}else k=b>E;const I=Math.PI,R=[],M=w+n===t;let P;if(m=0,v=C,d=e[t=w],p=e[t+1],M){_(),P=Math.atan2(p-f,d-g),k&&(P+=P>0?-I:I);const e=(E+b)/2,t=(T+x)/2;return R[0]=[e,t,(S-o)/2,P,r],R}for(let L=0,O=(r=r.replace(/\n/g," ")).length;L<O;){_();let e=Math.atan2(p-f,d-g);if(k&&(e+=e>0?-I:I),void 0!==P){let t=e-P;if(t+=t>I?-2*I:t<-I?2*I:0,Math.abs(t)>s)return null}P=e;const u=L;let b=0;for(;L<O;++L){const e=a*l(c,r[k?O-L-1:L],h);if(t+n<i&&v+m<o+b+e/2)break;b+=e}if(L===u)continue;const x=k?r.substring(O-u,O-L):r.substring(u,L);y=0===m?0:(o+b/2-v)/m;const w=yd(g,d,y),C=yd(f,p,y);R.push([w,C,b/2,e,x]),o+=b}return R}const j_=[1/0,1/0,-1/0,-1/0],G_=[],B_=[],W_=[],V_=[];function K_(e){return e[3].declutterBox}const X_=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Y_(e,t){return"start"===t?t=X_.test(e)?"right":"left":"end"===t&&(t=X_.test(e)?"left":"right"),M_[t]}function H_(e,t,i){return i>0&&e.push("\n",""),e.push(t,""),e}const q_=class{constructor(e,t,i,n){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,n){const r=e+t+i+n;if(this.labels_[r])return this.labels_[r];const o=n?this.strokeStates[n]:null,s=i?this.fillStates[i]:null,a=this.textStates[t],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],h=Array.isArray(e),u=a.justify?M_[a.justify]:Y_(Array.isArray(e)?e[0]:e,a.textAlign||zm),d=n&&o.lineWidth?o.lineWidth:0,p=h?e:e.split("\n").reduce(H_,[]),{width:g,height:f,widths:m,heights:v,lineWidths:_}=function(e,t){const i=[],n=[],r=[];let o=0,s=0,a=0,l=0;for(let c=0,h=t.length;c<=h;c+=2){const u=t[c];if("\n"===u||c===h){o=Math.max(o,s),r.push(s),s=0,a+=l;continue}const d=t[c+1]||e.font,p=Hm(d,u);i.push(p),s+=p;const g=Xm(d);n.push(g),l=Math.max(l,g)}return{width:o,height:a,widths:i,heights:n,lineWidths:r}}(a,p),y=g+d,b=[],x=(y+2)*c[0],w=(f+d)*c[1],C={width:x<0?Math.floor(x):Math.ceil(x),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:b};1==c[0]&&1==c[1]||b.push("scale",c),n&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",d),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset)),i&&b.push("fillStyle",s.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const S=.5-u;let E=u*y+S*d;const T=[],k=[];let I,R=0,M=0,P=0,L=0;for(let O=0,F=p.length;O<F;O+=2){const e=p[O];if("\n"===e){M+=R,R=0,E=u*y+S*d,++L;continue}const t=p[O+1]||a.font;t!==I&&(n&&T.push("font",t),i&&k.push("font",t),I=t),R=Math.max(R,v[P]);const r=[e,E+S*m[P]+u*(m[P]-_[L]),.5*(d+R)+M];E+=m[P],n&&T.push("strokeText",r),i&&k.push("fillText",r),++P}return Array.prototype.push.apply(b,T),Array.prototype.push.apply(b,k),this.labels_[r]=C,C}replayTextBackground_(e,t,i,n,r,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,n,r,o,s,a,l,c,h,u,d,p,g,f){let m=i-(s*=u[0]),v=n-(a*=u[1]);const _=r+l>e?e-l:r,y=o+c>t?t-c:o,b=p[3]+_*u[0]+p[1],x=p[0]+y*u[1]+p[2],w=m-p[3],C=v-p[0];let S;return(g||0!==h)&&(G_[0]=w,V_[0]=w,G_[1]=C,B_[1]=C,B_[0]=w+b,W_[0]=B_[0],W_[1]=C+x,V_[1]=W_[1]),0!==h?(S=du([1,0,0,1,0,0],i,n,1,1,h,-i,-n),uu(S,G_),uu(S,B_),uu(S,W_),uu(S,V_),Eu(Math.min(G_[0],B_[0],W_[0],V_[0]),Math.min(G_[1],B_[1],W_[1],V_[1]),Math.max(G_[0],B_[0],W_[0],V_[0]),Math.max(G_[1],B_[1],W_[1],V_[1]),j_)):Eu(Math.min(w,w+b),Math.min(C,C+x),Math.max(w,w+b),Math.max(C,C+x),j_),d&&(m=Math.round(m),v=Math.round(v)),{drawImageX:m,drawImageY:v,drawImageW:_,drawImageH:y,originX:l,originY:c,declutterBox:{minX:j_[0],minY:j_[1],maxX:j_[2],maxY:j_[3],value:f},canvasTransform:S,scale:u}}replayImageOrLabel_(e,t,i,n,r,o,s){const a=!(!o&&!s),l=n.declutterBox,c=e.canvas,h=s?s[2]*n.scale[0]/2:0;return l.minX-h<=c.width/t&&l.maxX+h>=0&&l.minY-h<=c.height/t&&l.maxY+h>=0&&(a&&this.replayTextBackground_(e,G_,B_,W_,V_,o,s),$m(e,n.canvasTransform,r,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(e){if(this.alignFill_){const t=uu(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,n){const r=this.textStates[t],o=this.createLabel(e,t,n,i),s=this.strokeStates[i],a=this.pixelRatio,l=Y_(Array.isArray(e)?e[0]:e,r.textAlign||zm),c=M_[r.textBaseline||Nm],h=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*r.scale[0])+2*(.5-l)*h,anchorY:c*o.height/a+2*(.5-c)*h}}execute_(e,t,i,n,r,o,s,a){let l;var c,h;this.pixelCoordinates_&&Ih(i,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ip(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),c=this.renderedTransform_,h=i,c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5]);let u=0;const d=n.length;let p,g,f,m,v,_,y,b,x,w,C,S,E=0,T=0,k=0,I=null,R=null;const M=this.coordinateCache_,P=this.viewRotation_,L=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,O={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},F=this.instructions!=n||this.overlaps?0:200;let A,D,z,N;for(;u<d;){const i=n[u];switch(i[0]){case w_.BEGIN_GEOMETRY:A=i[1],N=i[3],A.getGeometry()?void 0===s||Hu(s,N.getExtent())?++u:u=i[2]+1:u=i[2];break;case w_.BEGIN_PATH:T>F&&(this.fill_(e),T=0),k>F&&(e.stroke(),k=0),T||k||(e.beginPath(),m=NaN,v=NaN),++u;break;case w_.CIRCLE:E=i[1];const n=l[E],c=l[E+1],h=l[E+2]-n,d=l[E+3]-c,j=Math.sqrt(h*h+d*d);e.moveTo(n+j,c),e.arc(n,c,j,0,2*Math.PI,!0),++u;break;case w_.CLOSE_PATH:e.closePath(),++u;break;case w_.CUSTOM:E=i[1],p=i[2];const G=i[3],B=i[4],W=6==i.length?i[5]:void 0;O.geometry=G,O.feature=A,u in M||(M[u]=[]);const V=M[u];W?W(l,E,p,2,V):(V[0]=l[E],V[1]=l[E+1],V.length=2),B(V,O),++u;break;case w_.DRAW_IMAGE:E=i[1],p=i[2],b=i[3],g=i[4],f=i[5];let K=i[6];const X=i[7],Y=i[8],H=i[9],q=i[10];let $=i[11];const Z=i[12];let U=i[13];const J=i[14],Q=i[15];if(!b&&i.length>=20){x=i[19],w=i[20],C=i[21],S=i[22];const e=this.drawLabelWithPointPlacement_(x,w,C,S);b=e.label,i[3]=b;const t=i[23];g=(e.anchorX-t)*this.pixelRatio,i[4]=g;const n=i[24];f=(e.anchorY-n)*this.pixelRatio,i[5]=f,K=b.height,i[6]=K,U=b.width,i[13]=U}let ee,te,ie,ne;i.length>25&&(ee=i[25]),i.length>17?(te=i[16],ie=i[17],ne=i[18]):(te=jm,ie=!1,ne=!1),q&&L?$+=P:q||L||($-=P);let re=0;for(;E<p;E+=2){if(ee&&ee[re++]<U/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(b.width,b.height,l[E],l[E+1],U,K,g,f,Y,H,$,Z,r,te,ie||ne,A),n=[e,t,b,i,X,ie?I:null,ne?R:null];if(a){if("none"===J)continue;if("obstacle"===J){a.insert(i.declutterBox);continue}{let e,t;if(Q){const i=p-E;if(!Q[i]){Q[i]=n;continue}if(e=Q[i],delete Q[i],t=K_(e),a.collides(t))continue}if(a.collides(i.declutterBox))continue;e&&(a.insert(t),this.replayImageOrLabel_.apply(this,e)),a.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,n)}++u;break;case w_.DRAW_CHARS:const oe=i[1],se=i[2],ae=i[3],le=i[4];S=i[5];const ce=i[6],he=i[7],ue=i[8];C=i[9];const de=i[10];x=i[11],w=i[12];const pe=[i[13],i[13]],ge=this.textStates[w],fe=ge.font,me=[ge.scale[0]*he,ge.scale[1]*he];let ve;fe in this.widths_?ve=this.widths_[fe]:(ve={},this.widths_[fe]=ve);const _e=Wp(l,oe,se,2),ye=Math.abs(me[0])*qm(fe,x,ve);if(le||ye<=_e){const i=N_(l,oe,se,2,x,(_e-ye)*Y_(x,this.textStates[w].textAlign),ce,Math.abs(me[0]),qm,fe,ve,L?0:this.viewRotation_);e:if(i){const n=[];let r,o,s,l,c;if(C)for(r=0,o=i.length;r<o;++r){c=i[r],s=c[4],l=this.createLabel(s,w,"",C),g=c[2]+(me[0]<0?-de:de),f=ae*l.height+2*(.5-ae)*de*me[1]/me[0]-ue;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,g,f,0,0,c[3],pe,!1,jm,!1,A);if(a&&a.collides(o.declutterBox))break e;n.push([e,t,l,o,1,null,null])}if(S)for(r=0,o=i.length;r<o;++r){c=i[r],s=c[4],l=this.createLabel(s,w,S,""),g=c[2],f=ae*l.height-ue;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,g,f,0,0,c[3],pe,!1,jm,!1,A);if(a&&a.collides(o.declutterBox))break e;n.push([e,t,l,o,1,null,null])}a&&a.load(n.map(K_));for(let e=0,t=n.length;e<t;++e)this.replayImageOrLabel_.apply(this,n[e])}}++u;break;case w_.END_GEOMETRY:if(void 0!==o){A=i[1];const e=o(A,N);if(e)return e}++u;break;case w_.FILL:F?T++:this.fill_(e),++u;break;case w_.MOVE_TO_LINE_TO:for(E=i[1],p=i[2],D=l[E],z=l[E+1],_=D+.5|0,y=z+.5|0,_===m&&y===v||(e.moveTo(D,z),m=_,v=y),E+=2;E<p;E+=2)D=l[E],z=l[E+1],_=D+.5|0,y=z+.5|0,E!=p-2&&_===m&&y===v||(e.lineTo(D,z),m=_,v=y);++u;break;case w_.SET_FILL_STYLE:I=i,this.alignFill_=i[2],T&&(this.fill_(e),T=0,k&&(e.stroke(),k=0)),e.fillStyle=i[1],++u;break;case w_.SET_STROKE_STYLE:R=i,k&&(e.stroke(),k=0),this.setStrokeStyle_(e,i),++u;break;case w_.STROKE:F?k++:e.stroke(),++u;break;default:++u}}T&&this.fill_(e),k&&e.stroke()}execute(e,t,i,n,r,o){this.viewRotation_=n,this.execute_(e,t,i,this.instructions,r,void 0,void 0,o)}executeHitDetection(e,t,i,n,r){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,r)}},$_=["Polygon","Circle","LineString","Image","Text","Default"],Z_={},U_=class{constructor(e,t,i,n,r,o){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(r)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];void 0===i&&(i={},this.executorsByZIndex_[t]=i);const n=e[t];for(const e in n){const t=n[e];i[e]=new q_(this.resolution_,this.pixelRatio_,this.overlaps_,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let t=0,n=e.length;t<n;++t)if(e[t]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,n,r,o){const s=2*(n=Math.round(n))+1,a=du(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-i,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=vm(s,s,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;let h;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(h=[1/0,1/0,-1/0,-1/0],Pu(h,e),_u(h,t*(this.renderBuffer_+n),h));const u=function(e){if(void 0!==Z_[e])return Z_[e];const t=2*e+1,i=e*e,n=new Array(i+1);for(let o=0;o<=e;++o)for(let r=0;r<=e;++r){const s=o*o+r*r;if(s>i)break;let a=n[s];a||(a=[],n[s]=a),a.push(4*((e+o)*t+(e+r))+3),o>0&&a.push(4*((e-o)*t+(e+r))+3),r>0&&(a.push(4*((e+o)*t+(e-r))+3),o>0&&a.push(4*((e-o)*t+(e-r))+3))}const r=[];for(let o=0,s=n.length;o<s;++o)n[o]&&r.push(...n[o]);return Z_[e]=r,r}(n);let d;function p(e,t){const i=c.getImageData(0,0,s,s).data;for(let a=0,l=u.length;a<l;a++)if(i[u[a]]>0){if(!o||"Image"!==d&&"Text"!==d||o.includes(e)){const i=(u[a]-3)/4,o=n-i%s,l=n-(i/s|0),c=r(e,t,o*o+l*l);if(c)return c}c.clearRect(0,0,s,s);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);let f,m,v,_,y;for(g.sort(Sh),f=g.length-1;f>=0;--f){const e=g[f].toString();for(v=this.executorsByZIndex_[e],m=$_.length-1;m>=0;--m)if(d=$_[m],_=v[d],void 0!==_&&(y=_.executeHitDetection(c,a,i,p,h),y))return y}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],n=t[1],r=t[2],o=t[3],s=[i,n,i,o,r,o,r,n];return ip(s,0,8,2,e,s),s}isEmpty(){return Fh(this.executorsByZIndex_)}execute(e,t,i,n,r,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,c,h,u,d,p;for(a.sort(Sh),this.maxExtent_&&(e.save(),this.clip(e,i)),o=o||$_,s&&a.reverse(),l=0,c=a.length;l<c;++l){const c=a[l].toString();for(d=this.executorsByZIndex_[c],h=0,u=o.length;h<u;++h)p=d[o[h]],void 0!==p&&p.execute(e,t,i,n,r,s)}this.maxExtent_&&e.restore()}},J_=class extends C_{constructor(e,t,i,n,r,o,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=n,this.transformRotation_=n?bd(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,i,n){if(!this.image_)return;const r=ip(e,t,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let c=0,h=r.length;c<h;c+=2){const e=r[c]-this.imageAnchorX_,t=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const i=e+this.imageAnchorX_,n=t+this.imageAnchorY_;du(s,i,n,1,1,l,-i,-n),o.save(),o.transform.apply(o,s),o.translate(i,n),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,t,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(e,t,i,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=ip(e,t,i,n,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<i;t+=n){const e=r[t]+this.textOffsetX_,i=r[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(e-this.textOffsetX_,i-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,e,i),this.textFillState_&&o.fillText(this.text_,e,i))}}moveToLineTo_(e,t,i,n,r){const o=this.context_,s=ip(e,t,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;r&&(a-=2);for(let l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),i}drawRings_(e,t,i,n){for(let r=0,o=i.length;r<o;++r)t=this.moveToLineTo_(e,t,i[r],n,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Hu(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(e,t,i){const n=e.getFlatCoordinates();if(!n)return null;const r=e.getStride();return ip(n,0,n.length,r,t,i)}(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],n=t[3]-t[1],r=Math.sqrt(i*i+n*n),o=this.context_;o.beginPath(),o.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,n=t.length;i<n;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),""!==this.text_&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),""!==this.text_&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Hu(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Hu(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();let n=0;const r=e.getEnds(),o=e.getStride();t.beginPath();for(let e=0,s=r.length;e<s;++e)n=this.moveToLineTo_(i,n,r[e],o,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Hu(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Hu(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let n=0;const r=e.getEndss(),o=e.getStride();t.beginPath();for(let e=0,s=r.length;e<s;++e){const t=r[e];n=this.drawRings_(i,n,t,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Ih(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,n=e.textAlign?e.textAlign:zm;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=n&&(i.textAlign=n,t.textAlign=n),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:mm(t||Lm)}}else this.fillState_=null;if(t){const e=t.getColor(),i=t.getLineCap(),n=t.getLineDash(),r=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=n||Fm;this.strokeState_={lineCap:void 0!==i?i:Om,lineDash:1===this.pixelRatio_?l:l.map((e=>e*this.pixelRatio_)),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==o?o:Am,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:mm(e||Dm)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const i=e.getPixelRatio(this.pixelRatio_),n=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(e){const t=e.getFill();if(t){const e=t.getColor();this.textFillState_={fillStyle:mm(e||Lm)}}else this.textFillState_=null;const i=e.getStroke();if(i){const e=i.getColor(),t=i.getLineCap(),n=i.getLineDash(),r=i.getLineDashOffset(),o=i.getLineJoin(),s=i.getWidth(),a=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:Om,lineDash:n||Fm,lineDashOffset:r||0,lineJoin:void 0!==o?o:Am,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:mm(e||Dm)}}else this.textStrokeState_=null;const n=e.getFont(),r=e.getOffsetX(),o=e.getOffsetY(),s=e.getRotateWithView(),a=e.getRotation(),l=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),u=e.getTextBaseline();this.textState_={font:void 0!==n?n:Pm,textAlign:void 0!==h?h:zm,textBaseline:void 0!==u?u:Nm},this.text_=void 0!==c?Array.isArray(c)?c.reduce(((e,t,i)=>e+(i%2?" ":t)),""):c:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},Q_=.5,ey=.5,ty={Point:function(e,t,i,n,r){const o=i.getImage(),s=i.getText();let a;if(o){if(o.getImageState()!=Yf)return;let l=e;if(r){const c=o.getDeclutterMode();if("none"!==c)if(l=r,"obstacle"===c){const r=e.getBuilder(i.getZIndex(),"Image");r.setImageStyle(o,a),r.drawPoint(t,n)}else s&&s.getText()&&(a={})}const c=l.getBuilder(i.getZIndex(),"Image");c.setImageStyle(o,a),c.drawPoint(t,n)}if(s&&s.getText()){let o=e;r&&(o=r);const l=o.getBuilder(i.getZIndex(),"Text");l.setTextStyle(s,a),l.drawText(t,n)}},LineString:function(e,t,i,n,r){const o=i.getStroke();if(o){const r=e.getBuilder(i.getZIndex(),"LineString");r.setFillStrokeStyle(null,o),r.drawLineString(t,n)}const s=i.getText();if(s&&s.getText()){const o=(r||e).getBuilder(i.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,n)}},Polygon:function(e,t,i,n,r){const o=i.getFill(),s=i.getStroke();if(o||s){const r=e.getBuilder(i.getZIndex(),"Polygon");r.setFillStrokeStyle(o,s),r.drawPolygon(t,n)}const a=i.getText();if(a&&a.getText()){const o=(r||e).getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,n)}},MultiPoint:function(e,t,i,n,r){const o=i.getImage(),s=i.getText();let a;if(o){if(o.getImageState()!=Yf)return;let l=e;if(r){const c=o.getDeclutterMode();if("none"!==c)if(l=r,"obstacle"===c){const r=e.getBuilder(i.getZIndex(),"Image");r.setImageStyle(o,a),r.drawMultiPoint(t,n)}else s&&s.getText()&&(a={})}const c=l.getBuilder(i.getZIndex(),"Image");c.setImageStyle(o,a),c.drawMultiPoint(t,n)}if(s&&s.getText()){let o=e;r&&(o=r);const l=o.getBuilder(i.getZIndex(),"Text");l.setTextStyle(s,a),l.drawText(t,n)}},MultiLineString:function(e,t,i,n,r){const o=i.getStroke();if(o){const r=e.getBuilder(i.getZIndex(),"LineString");r.setFillStrokeStyle(null,o),r.drawMultiLineString(t,n)}const s=i.getText();if(s&&s.getText()){const o=(r||e).getBuilder(i.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,n)}},MultiPolygon:function(e,t,i,n,r){const o=i.getFill(),s=i.getStroke();if(s||o){const r=e.getBuilder(i.getZIndex(),"Polygon");r.setFillStrokeStyle(o,s),r.drawMultiPolygon(t,n)}const a=i.getText();if(a&&a.getText()){const o=(r||e).getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,n)}},GeometryCollection:function(e,t,i,n,r){const o=t.getGeometriesArray();let s,a;for(s=0,a=o.length;s<a;++s)(0,ty[o[s].getType()])(e,o[s],i,n,r)},Circle:function(e,t,i,n,r){const o=i.getFill(),s=i.getStroke();if(o||s){const r=e.getBuilder(i.getZIndex(),"Circle");r.setFillStrokeStyle(o,s),r.drawCircle(t,n)}const a=i.getText();if(a&&a.getText()){const o=(r||e).getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,n)}}};function iy(e,t){return parseInt(Qh(e),10)-parseInt(Qh(t),10)}function ny(e,t){const i=ry(e,t);return i*i}function ry(e,t){return ey*e/t}function oy(e,t,i,n,r,o,s){let a=!1;const l=i.getImage();if(l){const e=l.getImageState();e==Yf||e==Hf?l.unlistenImageChange(r):(e==Kf&&l.load(),l.listenImageChange(r),a=!0)}return function(e,t,i,n,r,o){const s=i.getGeometryFunction()(t);if(!s)return;const a=s.simplifyTransformed(n,r),l=i.getRenderer();l?sy(e,a,i,t):(0,ty[a.getType()])(e,a,i,t,o)}(e,t,i,n,o,s),a}function sy(e,t,i,n){if("GeometryCollection"!=t.getType())e.getBuilder(i.getZIndex(),"Default").drawCustom(t,n,i.getRenderer(),i.getHitDetectionRenderer());else{const r=t.getGeometries();for(let t=0,o=r.length;t<o;++t)sy(e,r[t],i,n)}}const ay=class extends z_{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const n=t.extent,r=t.viewState,o=r.center,s=r.resolution,a=r.projection,l=r.rotation,c=a.getExtent(),h=this.getLayer().getSource(),u=t.pixelRatio,d=t.viewHints,p=!(d[hf]||d[uf]),g=this.compositionContext_,f=Math.round(t.size[0]*u),m=Math.round(t.size[1]*u),v=h.getWrapX()&&a.canWrapX(),_=v?Yu(c):null,y=v?Math.ceil((n[2]-c[2])/_)+1:1;let b=v?Math.floor((n[0]-c[0])/_):0;do{const t=this.getRenderTransform(o,s,l,u,f,m,b*_);e.execute(g,1,t,l,p,void 0,i)}while(++b<y)}setupCompositionContext_(){if(1!==this.opacity_){const e=vm(this.context.canvas.width,this.context.canvas.height,A_);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,_m(this.compositionContext_),A_.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];!function(e,t,i){!function(e,t,i,n,r,o,s){e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=o,e[5]=s}(e,t,0,0,i,0,0)}(this.pixelTransform,1/i,1/i),pu(this.inversePixelTransform,this.pixelTransform);const r=fu(this.pixelTransform);this.useContainer(t,r,this.getBackground(e));const o=this.context,s=o.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;let c=a&&!a.isEmpty()||l&&!l.isEmpty();if(!c&&!this.getLayer().hasListener(of)&&!this.getLayer().hasListener(sf))return null;const h=Math.round(e.size[0]*i),u=Math.round(e.size[1]*i);s.width!=h||s.height!=u?(s.width=h,s.height=u,s.style.transform!==r&&(s.style.transform=r)):this.containerReused||o.clearRect(0,0,h,u),this.preRender(o,e);const d=e.viewState;d.projection,this.opacity_=n.opacity,this.setupCompositionContext_();let p=!1;if(c&&n.extent&&this.clipping){const t=Jd(n.extent);c=Hu(t,e.extent),p=c&&!wu(t,e.extent),p&&this.clipUnrotated(this.compositionContext_,e,t)}return c&&this.renderWorlds(a,e),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise((t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=[this.context.canvas.width,this.context.canvas.height];uu(this.pixelTransform,e);const t=this.renderedCenter_,i=this.renderedResolution_,n=this.renderedRotation_,r=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=e[0]*Q_,c=e[1]*Q_;a.push(this.getRenderTransform(t,i,n,Q_,l,c,0).slice());const h=s.getSource(),u=r.getExtent();if(h.getWrapX()&&r.canWrapX()&&!wu(u,o)){let e=o[0];const r=Yu(u);let s,h=0;for(;e<u[0];)--h,s=r*h,a.push(this.getRenderTransform(t,i,n,Q_,l,c,s).slice()),e+=r;for(h=0,e=o[2];e>u[2];)++h,s=r*h,a.push(this.getRenderTransform(t,i,n,Q_,l,c,s).slice()),e-=r}this.hitDetectionImageData_=function(e,t,i,n,r,o,s){const a=vm(e[0]*Q_,e[1]*Q_);a.imageSmoothingEnabled=!1;const l=a.canvas,c=new J_(a,Q_,r,null,s),h=i.length,u=Math.floor(16777215/h),d={};for(let g=1;g<=h;++g){const e=i[g-1],t=e.getStyleFunction()||n;if(!t)continue;let s=t(e,o);if(!s)continue;Array.isArray(s)||(s=[s]);const a=(g*u).toString(16).padStart(7,"#00000");for(let i=0,n=s.length;i<n;++i){const t=s[i],n=t.getGeometryFunction()(e);if(!n||!Hu(r,n.getExtent()))continue;const o=t.clone(),l=o.getFill();l&&l.setColor(a);const c=o.getStroke();c&&(c.setColor(a),c.setLineDash(null)),o.setText(void 0);const h=t.getImage();if(h){const e=h.getImageSize();if(!e)continue;const t=vm(e[0],e[1],void 0,{alpha:!1}),i=t.canvas;t.fillStyle=a,t.fillRect(0,0,i.width,i.height),o.setImage(new mv({img:i,anchor:h.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:h.getOrigin(),opacity:1,size:h.getSize(),scale:h.getScale(),rotation:h.getRotation(),rotateWithView:h.getRotateWithView()}))}const u=o.getZIndex()||0;let p=d[u];p||(p={},d[u]=p,p.Polygon=[],p.Circle=[],p.LineString=[],p.Point=[]);const g=n.getType();if("GeometryCollection"===g){const e=n.getGeometriesArrayRecursive();for(let t=0,i=e.length;t<i;++t){const i=e[t];p[i.getType().replace("Multi","")].push(i,o)}}else p[g.replace("Multi","")].push(n,o)}}const p=Object.keys(d).map(Number).sort(Sh);for(let g=0,f=p.length;g<f;++g){const e=d[p[g]];for(const i in e){const n=e[i];for(let e=0,i=n.length;e<i;e+=2){c.setStyle(n[e+1]);for(let i=0,r=t.length;i<r;++i)c.setTransform(t[i]),c.drawGeometry(n[e])}}}return a.getImageData(0,0,l.width,l.height)}(e,a,this.renderedFeatures_,s.getStyleFunction(),o,i,n)}t(function(e,t,i){const n=[];if(i){const r=Math.floor(Math.round(e[0])*Q_),o=Math.floor(Math.round(e[1])*Q_),s=4*(gd(r,0,i.width-1)+gd(o,0,i.height-1)*i.width),a=i.data[s],l=i.data[s+1],c=i.data[s+2]+256*(l+256*a),h=Math.floor(16777215/t.length);c&&c%h==0&&n.push(t[c/h-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(e,t,i,n,r){if(!this.replayGroup_)return;const o=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},c=function(e,t,i){const o=Qh(e),s=l[o];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return l[o]=!0,r.splice(r.lastIndexOf(s),1),n(e,a,t);s.geometry=t,s.distanceSq=i}}else{if(0===i)return l[o]=!0,n(e,a,t);r.push(l[o]={feature:e,layer:a,geometry:t,distanceSq:i,callback:n})}};let h;const u=[this.replayGroup_];return this.declutterExecutorGroup&&u.push(this.declutterExecutorGroup),u.some((n=>h=n.forEachFeatureAtCoordinate(e,o,s,i,c,n===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((e=>e.value)):null))),h}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const n=e.viewHints[hf],r=e.viewHints[uf],o=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!o&&n||!s&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,l=e.viewState,c=l.projection,h=l.resolution,u=e.pixelRatio,d=t.getRevision(),p=t.getRenderBuffer();let g=t.getRenderOrder();void 0===g&&(g=iy);const f=l.center.slice(),m=_u(a,p*h),v=m.slice(),_=[m.slice()],y=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!wu(y,e.extent)){const e=Yu(y),t=Math.max(Yu(m)/2,e);m[0]=y[0]-t,m[2]=y[2]+t,Rd(f,c);const i=$u(_[0],c);i[0]<y[0]&&i[2]<y[2]?_.push([i[0]+e,i[1],i[2]+e,i[3]]):i[0]>y[0]&&i[2]>y[2]&&_.push([i[0]-e,i[1],i[2]-e,i[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&wu(this.wrappedRenderedExtent_,m))return Ih(this.renderedExtent_,v)||(this.hitDetectionImageData_=null,this.renderedExtent_=v),this.renderedCenter_=f,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const b=new L_(ry(h,u),m,h,u);let x;this.getLayer().getDeclutter()&&(x=new L_(ry(h,u),m,h,u));for(let R=0,M=_.length;R<M;++R)i.loadFeatures(_[R],h,c);const w=ny(h,u);let C=!0;const S=e=>{let i;const n=e.getStyleFunction()||t.getStyleFunction();if(n&&(i=n(e,h)),i){const t=this.renderFeature(e,w,i,b,void 0,x);C=C&&!t}},E=Ud(m),T=i.getFeaturesInExtent(E);g&&T.sort(g);for(let R=0,M=T.length;R<M;++R)S(T[R]);this.renderedFeatures_=T,this.ready=C;const k=b.finish(),I=new U_(m,h,u,i.getOverlaps(),k,t.getRenderBuffer());return x&&(this.declutterExecutorGroup=new U_(m,h,u,i.getOverlaps(),x.finish(),t.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=v,this.wrappedRenderedExtent_=m,this.renderedCenter_=f,this.renderedProjection_=c,this.replayGroup_=I,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,n,r,o){if(!i)return!1;let s=!1;if(Array.isArray(i))for(let a=0,l=i.length;a<l;++a)s=oy(n,e,i[a],t,this.boundHandleStyleImageChange_,r,o)||s;else s=oy(n,e,i,t,this.boundHandleStyleImageChange_,r,o);return s}},ly=class extends m_{constructor(e){super(e)}createRenderer(){return new ay(this)}},cy="add",hy="remove",uy="length";class dy extends xh{constructor(e,t,i){super(e),this.element=t,this.index=i}}const py=class extends tu{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,n=this.array_.length;i<n;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(uy)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new dy(cy,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new dy(hy,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new dy(hy,i,e)),this.dispatchEvent(new dy(cy,t,e))}updateLength_(){this.set(uy,this.array_.length)}assertUnique_(e,t){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},gy=class{constructor(e){this.rbush_=new Mf(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Qh(t)]=i}load(e,t){const i=new Array(t.length);for(let n=0,r=t.length;n<r;n++){const r=e[n],o=t[n],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:o};i[n]=s,this.items_[Qh(o)]=s}this.rbush_.load(i)}remove(e){const t=Qh(e),i=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(i)}update(e,t){const i=this.items_[Qh(t)];Ru([i.minX,i.minY,i.maxX,i.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map((function(e){return e.value}))}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let n=0,r=e.length;n<r;n++)if(i=t(e[n]),i)return i;return i}isEmpty(){return Fh(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Eu(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}},fy=[1,0,0,1,0,0];class my{constructor(e,t,i,n,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=r,this.squaredTolerance_,this.stride_=n,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?ku(this.flatCoordinates_):Iu(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Nu(this.getExtent());this.flatInteriorPoints_=Up(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=function(e,t){const i=[];let n,r=0,o=0;for(let s=0,a=t.length;s<a;++s){const a=t[s],l=eg(e,r,a,2);if(void 0===n&&(n=l),l===n)i.push(t.slice(o,s+1));else{if(0===i.length)continue;i[i.length-1].push(t[o])}o=s+1,r=a}return i}(this.flatCoordinates_,this.ends_),t=sg(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Jp(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Fp(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let n=0,r=i.length;n<r;++n){const r=i[n],o=Fp(e,t,r,2,.5);kh(this.flatMidpoints_,o),t=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=Gd(e)).getExtent(),i=e.getWorldExtent();if(t&&i){const e=Wu(i)/Wu(t);du(fy,i[0],i[3],e,-e,0,0,0),ip(this.flatCoordinates_,0,this.flatCoordinates_.length,2,fy,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new my(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Lh(((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let n;switch(this.type_){case"LineString":i.length=xp(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),n=[i.length];break;case"MultiLineString":n=[],i.length=wp(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,n);break;case"Polygon":n=[],i.length=Ep(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,n)}return n&&(this.simplifiedGeometry_=new my(this.type_,i,n,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_})),this}}my.prototype.getFlatCoordinates=my.prototype.getOrientedFlatCoordinates;const vy=my;function _y(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}const yy=class extends tu{constructor(e){super(),this.projection=Gd(e.projection),this.attributions_=_y(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise((function(e,i){t.viewResolver=e,t.viewRejector=i}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=_y(e),this.changed()}setState(e){this.state_=e,this.changed()}},by="addfeature",xy="changefeature",wy="clear",Cy="removefeature",Sy="featuresloadstart",Ey="featuresloadend",Ty="featuresloaderror";function ky(e,t){return[[-1/0,-1/0,1/0,1/0]]}let Iy=!1;function Ry(e,t){return function(i,n,r,o,s){const a=this;!function(e,t,i,n,r,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(i,n,r):e,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=Iy,a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){const e=t.getType();let n;"json"==e?n=JSON.parse(a.responseText):"text"==e?n=a.responseText:"xml"==e?(n=a.responseXML,n||(n=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==e&&(n=a.response),n?o(t.readFeatures(n,{extent:i,featureProjection:r}),t.readProjection(n)):s()}else s()},a.onerror=s,a.send()}(e,t,i,n,r,(function(e,t){a.addFeatures(e),void 0!==o&&o(e)}),s||Ph)}}class My extends xh{constructor(e,t,i){super(e),this.feature=t,this.features=i}}const Py=class extends yy{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=Ph,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(hu(this.format_,"`format` must be set when `url` is set"),this.loader_=Ry(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:ky;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let i,n;this.featuresRtree_=t?new gy:null,this.loadedExtentsRtree_=new gy,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?n=e.features:e.features&&(i=e.features,n=i.getArray()),t||void 0!==i||(i=new py(n)),void 0!==n&&this.addFeaturesInternal(n),void 0!==i&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Qh(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const t=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new My(by,e))}setupChangeEvents_(e,t){t instanceof vy||(this.featureChangeKeys_[e]=[Yh(t,Dh,this.handleFeatureChange_,this),Yh(t,wh,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(void 0!==t.getId()){const e=String(t.getId());if(e in this.idIndex_)if(t instanceof vy){const n=this.idIndex_[e];n instanceof vy?Array.isArray(n)?n.push(t):this.idIndex_[e]=[n,t]:i=!1}else i=!1;else this.idIndex_[e]=t}return i&&(hu(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],n=[];for(let r=0,o=e.length;r<o;r++){const t=e[r],n=Qh(t);this.addToIndex_(n,t)&&i.push(t)}for(let r=0,o=i.length;r<o;r++){const e=i[r],o=Qh(e);this.setupChangeEvents_(o,e);const s=e.getGeometry();if(s){const i=s.getExtent();t.push(i),n.push(e)}else this.nullGeometryFeatures_[o]=e}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(by))for(let r=0,o=i.length;r<o;r++)this.dispatchEvent(new My(by,i[r]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(by,(function(i){t||(t=!0,e.push(i.feature),t=!1)})),this.addEventListener(Cy,(function(i){t||(t=!0,e.remove(i.feature),t=!1)})),e.addEventListener(cy,(e=>{t||(t=!0,this.addFeature(e.element),t=!1)})),e.addEventListener(hy,(e=>{t||(t=!0,this.removeFeature(e.element),t=!1)})),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(qh);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const e=e=>{this.removeFeatureInternal(e)};this.featuresRtree_.forEach(e);for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new My(wy);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,(function(i){const n=i.getGeometry();if(n instanceof vy||n.intersectsCoordinate(e))return t(i)}))}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,(function(i){const n=i.getGeometry();if(n instanceof vy||n.intersectsExtent(e)){const e=t(i);if(e)return e}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Fh(this.nullGeometryFeatures_)||kh(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=function(e,t){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];$u(e,t);const n=Yu(i);if(Yu(e)>n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+n,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-n,e[3]]]}return[e]}(e,t);return[].concat(...i.map((e=>this.featuresRtree_.getInExtent(e))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],n=e[1];let r=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||Rh,this.featuresRtree_.forEachInExtent(a,(function(e){if(t(e)){const t=e.getGeometry(),l=s;if(s=t instanceof vy?0:t.closestPointXY(i,n,o,s),s<l){r=e;const t=Math.sqrt(s);a[0]=i-t,a[1]=n-t,a[2]=i+t,a[3]=n+t}}})),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Qh(t),n=t.getGeometry();if(n){const e=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);const r=t.getId();if(void 0!==r){const e=r.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new My(xy,t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:Qh(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Fh(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,i){const n=this.loadedExtentsRtree_,r=this.strategy_(e,t,i);for(let o=0,s=r.length;o<s;++o){const e=r[o];n.forEachInExtent(e,(function(t){return wu(t.extent,e)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new My(Sy)),this.loader_.call(this,e,t,i,(e=>{--this.loadingExtentsCount_,this.dispatchEvent(new My(Ey,void 0,e))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new My(Ty))})),n.insert(e,{extent:e.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,(function(t){if(Ru(t.extent,e))return i=t,!0})),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=Qh(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Qh(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(qh),delete this.featureChangeKeys_[t];const n=e.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new My(Cy,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_){const n=this.idIndex_[i];if(e instanceof vy&&Array.isArray(n)&&n.includes(e))n.splice(n.indexOf(e),1);else if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}}return t}setLoader(e){this.loader_=e}setUrl(e){hu(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Ry(e,this.format_))}},Ly="drawstart",Oy="drawend",Fy="drawabort";class Ay extends xh{constructor(e,t){super(e),this.feature=t}}function Dy(e,t){return md(e[0],e[1],t[0],t[1])}function zy(e,t){const i=e.length;return t<0?e[t+i]:t>=i?e[t-i]:e[t]}function Ny(e,t,i){let n,r;t<i?(n=t,r=i):(n=i,r=t);const o=Math.ceil(n),s=Math.floor(r);if(o>s)return Dy(Ky(e,n),Ky(e,r));let a=0;n<o&&(a+=Dy(Ky(e,n),zy(e,o))),s<r&&(a+=Dy(zy(e,s),Ky(e,r)));for(let l=o;l<s-1;++l)a+=Dy(zy(e,l),zy(e,l+1));return a}function jy(e,t,i){if(t instanceof Kp)By(e,t.getCoordinates(),!1,i);else if(t instanceof Yp){const n=t.getCoordinates();for(let t=0,r=n.length;t<r;++t)By(e,n[t],!1,i)}else if(t instanceof rg){const n=t.getCoordinates();for(let t=0,r=n.length;t<r;++t)By(e,n[t],!0,i)}else if(t instanceof lg){const n=t.getCoordinates();for(let t=0,r=n.length;t<r;++t){const r=n[t];for(let t=0,n=r.length;t<n;++t)By(e,r[t],!0,i)}}else if(t instanceof fp){const n=t.getGeometries();for(let t=0;t<n.length;++t)jy(e,n[t],i)}}const Gy={index:-1,endIndex:NaN};function By(e,t,i,n){const r=e[0],o=e[1];for(let s=0,a=t.length-1;s<a;++s){const e=Vy(r,o,t[s],t[s+1]);if(0===e.squaredDistance){const r=s+e.along;return void n.push({coordinates:t,ring:i,startIndex:r,endIndex:r})}}}const Wy={along:0,squaredDistance:0};function Vy(e,t,i,n){const r=i[0],o=i[1],s=n[0]-r,a=n[1]-o;let l=0,c=r,h=o;return 0===s&&0===a||(l=gd(((e-r)*s+(t-o)*a)/(s*s+a*a),0,1),c+=s*l,h+=a*l),Wy.along=l,Wy.squaredDistance=bd(md(e,t,c,h),10),Wy}function Ky(e,t){const i=e.length;let n=Math.floor(t);const r=t-n;n>=i?n-=i:n<0&&(n+=i);let o=n+1;o>=i&&(o-=i);const s=e[n],a=s[0],l=s[1],c=e[o];return[a+(c[0]-a)*r,l+(c[1]-l)*r]}function Xy(){const e=function(){const e={},t=[255,255,255,1],i=[0,153,255,1];return e.Polygon=[new rv({fill:new tv({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new rv({stroke:new nv({color:t,width:5})}),new rv({stroke:new nv({color:i,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new rv({image:new Qm({radius:6,fill:new tv({color:i}),stroke:new nv({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}();return function(t,i){return e[t.getGeometry().getType()]}}const Yy=class extends yg{constructor(e){const t=e;t.stopDown||(t.stopDown=Mh),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+e)}}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Rh,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const e=this.mode_;if("Circle"===e)i=function(e,t,i){const n=t||new dp([NaN,NaN]),r=Zd(e[0]),o=kd(r,Zd(e[e.length-1]));return n.setCenterAndRadius(r,Math.sqrt(o),this.geometryLayout_),n};else{let t;"Point"===e?t=qp:"LineString"===e?t=Kp:"Polygon"===e&&(t=rg),i=function(i,n,r){return n?"Polygon"===e?i[0].length?n.setCoordinates([i[0].concat([i[0][0]])],this.geometryLayout_):n.setCoordinates([],this.geometryLayout_):n.setCoordinates(i,this.geometryLayout_):n=new t(i,this.geometryLayout_),n}}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ly({source:new Py({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:Xy(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:kg,this.freehandCondition_,e.freehand?this.freehandCondition_=Sg:this.freehandCondition_=e.freehandCondition?e.freehandCondition:Ig,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(cg,this.updateState_)}setTrace(e){let t;t=e?!0===e?Sg:e:Tg,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===Nh&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);let t=e.type===mg.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===mg.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===mg.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===mg.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===mg.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===mg.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===mg.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new Yg(mg.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const t=this.getMap(),i=vu([t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_])]),n=this.traceSource_.getFeaturesInExtent(i);if(0===n.length)return;const r=function(e,t){const i=[];for(let n=0;n<t.length;++n)jy(e,t[n].getGeometry(),i);return i}(e.coordinate,n);r.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:r,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const i=e.startIndex<=e.endIndex;i===e.startIndex<=t?i&&t>e.endIndex||!i&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(i&&t<e.endIndex||!i&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let i=0;if(e<t){const n=Math.ceil(e);let r=Math.floor(t);r===t&&(r-=1),i=r-n+1}else{const n=Math.floor(e);let r=Math.ceil(t);r===t&&(r+=1),i=n-r+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,t,i){if(t===i)return;const n=[];if(t<i){const r=Math.ceil(t);let o=Math.floor(i);o===i&&(o-=1);for(let t=r;t<=o;++t)n.push(zy(e.coordinates,t))}else{const r=Math.floor(t);let o=Math.ceil(i);o===i&&(o+=1);for(let t=r;t>=o;--t)n.push(zy(e.coordinates,t))}n.length&&this.appendCoordinates(n)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(-1===t.targetIndex&&Id(t.startPx,e.pixel)<this.snapTolerance_)return;const i=function(e,t,i,n){const r=e[0],o=e[1];let s=1/0,a=-1,l=NaN;for(let u=0;u<t.targets.length;++u){const e=t.targets[u],i=e.coordinates;let n,c=1/0;for(let t=0;t<i.length-1;++t){const e=Vy(r,o,i[t],i[t+1]);e.squaredDistance<c&&(c=e.squaredDistance,n=t+e.along)}c<s&&(s=c,e.ring&&t.targetIndex===u&&(e.endIndex>e.startIndex?n<e.startIndex&&(n+=i.length):e.endIndex<e.startIndex&&n>e.startIndex&&(n-=i.length)),l=n,a=u)}const c=t.targets[a];let h=c.ring;if(t.targetIndex===a&&h){const e=Ky(c.coordinates,l);Id(i.getPixelFromCoordinate(e),t.startPx)>n&&(h=!1)}if(h){const e=c.coordinates,t=e.length,i=c.startIndex,n=l;if(i<n){const r=Ny(e,i,n);Ny(e,i,n-t)<r&&(l-=t)}else{const r=Ny(e,i,n);Ny(e,i,n+t)<r&&(l+=t)}}return Gy.index=a,Gy.endIndex=l,Gy}(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==i.index){if(-1!==t.targetIndex){const e=t.targets[t.targetIndex];this.removeTracedCoordinates_(e.startIndex,e.endIndex)}const e=t.targets[i.index];this.addTracedCoordinates_(e,e.startIndex,i.endIndex)}else{const e=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(e,i.endIndex)}t.targetIndex=i.index;const n=t.targets[t.targetIndex];n.endIndex=i.endIndex;const r=Ky(n.coordinates,n.endIndex),o=this.getMap().getPixelFromCoordinate(r);e.coordinate=r,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(e){let t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&"Point"!==this.mode_||(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,i=e.pixel,n=t[0]-i[0],r=t[1]-i[1],o=n*n+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,t){let i=!1;if(this.sketchFeature_){let n=!1,r=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)i=!0;else if("Circle"===o)i=2===this.sketchCoords_.length;else if("LineString"===o)n=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const e=this.sketchCoords_;n=e[0].length>this.minPoints_,r=[e[0][0],e[0][e[0].length-2]],r=t?[e[0][0]]:[e[0][0],e[0][e[0].length-2]]}if(n){const t=this.getMap();for(let n=0,o=r.length;n<o;n++){const o=r[n],s=t.getPixelFromCoordinate(o),a=e[0]-s[0],l=e[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(a*a+l*l)<=c,i){this.finishCoordinate_=o;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Kg(new qp(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Kg);const t=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new Kp(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const t=this.getMap().getView().getProjection(),i=sp(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Kg(new Kp(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Kg,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Ay(Ly,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),i=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),r=sp(this.geometryLayout_);let o,s;for(;e.length<r;)e.push(0);"Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],s=o[o.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,s=o[o.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),"Polygon"===i.getType()&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let n,r;const o=this.mode_;"LineString"===o||"Circle"===o?(this.finishCoordinate_=e.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():n=!0),r.push(e.slice()),this.geometryFunction_(r,t,i)):"Polygon"===o&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():n=!0),r.push(e.slice()),n&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let r=0;r<e;++r){let e;if("LineString"===n||"Circle"===n){if(e=this.sketchCoords_,e.splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();const t=this.finishCoordinate_.slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}this.geometryFunction_(e,t,i),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===n){e=this.sketchCoords_[0],e.splice(-2,1);const n=this.sketchLine_.getGeometry();if(e.length>=2){const t=e[e.length-2].slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}n.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,i)}if(1===e.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const i=e.getGeometry(),n=this.getMap().getView().getProjection();"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,i,n)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,i,n),t=i.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new Zp([t])):"MultiLineString"===this.type_?e.setGeometry(new Yp([t])):"MultiPolygon"===this.type_&&e.setGeometry(new lg([t])),this.dispatchEvent(new Ay(Oy,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Ay(Fy,e))}appendCoordinates(e){const t=this.mode_,i=!this.sketchFeature_;let n;if(i&&this.startDrawing_(e[0]),"LineString"===t||"Circle"===t)n=this.sketchCoords_;else{if("Polygon"!==t)return;n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&n.shift(),n.pop();for(let o=0;o<e.length;o++)this.addToDrawing_(e[o]);const r=e[e.length-1];this.addToDrawing_(r),this.modifyDrawing_(r)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Kg(new qp(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Ay(Ly,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)}},Hy="ArrowLeft",qy="ArrowUp",$y="ArrowRight",Zy="ArrowDown",Uy=class extends fg{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return kg(e)&&Rg(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Bh){const i=e.originalEvent,n=i.key;if(this.condition_(e)&&(n==Zy||n==Hy||n==$y||n==qy)){const r=e.map.getView(),o=r.getResolution()*this.pixelDelta_;let s=0,a=0;n==Zy?a=-o:n==Hy?s=-o:n==$y?s=o:a=o;const l=[s,a];Td(l,r.getRotation()),function(e,t,i){const n=e.getCenterInternal();if(n){const r=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:void 0!==i?i:250,easing:pg,center:e.getConstrainedCenter(r)})}}(r,l,this.duration_),i.preventDefault(),t=!0}}return!t}},Jy=class extends fg{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(e){return!function(e){const t=e.originalEvent;return ou?t.metaKey:t.ctrlKey}(e)&&Rg(e)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==Bh||e.type==Wh){const i=e.originalEvent,n=i.key;if(this.condition_(e)&&("+"===n||"-"===n)){const r=e.map,o="+"===n?this.delta_:-this.delta_;gg(r.getView(),o,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},Qy="postrender",eb="movestart",tb="moveend",ib="loadstart",nb="loadend",rb=class extends fg{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:Sg;this.condition_=e.onFocusOnly?xg(Cg,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==Xh)return!0;const t=e.map,i=e.originalEvent;let n;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==Xh&&(n=i.deltaY,nu&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=su),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const o=t.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=n;const s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-gd(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),gg(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},ob=class extends yg{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=Mh),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){const e=r-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=r;const o=e.map,s=o.getView();s.getConstraints().rotation!==jg&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(_g(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},sb=class extends yg{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=Mh),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,o=i.clientY-n.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const a=e.map,l=a.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(_g(this.targetPointers))),a.render(),l.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},ab=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const n=this.points_[t+2]-this.points_[i+2];if(n<1e3/60)return!1;const r=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},lb=(e,t)=>{let i,n=null;return"Exent"===t?(i="Circle",n=function(e,t,i){const n=vu([e[0],e[e.length-1]].map((function(e){return Zd(e)}))),r=[[Du(n),zu(n),Xu(n),Ku(n),Du(n)]];return t?t.setCoordinates(r):t=new rg(r),t}):i=t,new Yy({source:e,type:i,geometryFunction:n})},cb=(e,t)=>{e.removeInteraction(t)},hb=0,ub=1,db=2,pb=3,gb=4,fb=class extends Ah{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Dh)}release(){this.state===pb&&this.setState(gb)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==db)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let t=this;do{if(e.getState()==db){e.interimTile=null;break}e.getState()==ub?t=e:e.getState()==hb?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==pb&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Uh()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else i=t,this.transitionStarts_[e]=i;const n=t-i+1e3/60;return n>=this.transition_?1:hg(n/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}},mb=class extends fb{constructor(e,t,i,n,r,o){super(e,t,o),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=db,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=pb,this.unlistenImage_(),this.image_=function(){const e=vm(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=db:this.state=gb,this.unlistenImage_(),this.changed()}load(){this.state==pb&&(this.state=hb,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==hb&&(this.state=ub,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,i){const n=e;let r=!0,o=!1,s=!1;const a=[Hh(n,Vh,(function(){s=!0,o||t()}))];return n.src&&lu?(o=!0,n.decode().then((function(){r&&t()})).catch((function(e){r&&(s?t():i())}))):a.push(Hh(n,zh,i)),function(){r=!1,a.forEach(qh)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function vb(e,t){uv.expire()}const _b=class extends Ch{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Uh()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;du(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),pu(n,i)}forEachFeatureAtCoordinate(e,t,i,n,r,o,s,a){let l;const c=t.viewState;function h(e,t,i,n){return r.call(o,t,e?i:null,n)}const u=c.projection,d=Rd(e.slice(),u),p=[[0,0]];if(u.canWrapX()&&n){const e=Yu(u.getExtent());p.push([-e,0],[e,0])}const g=t.layerStatesArray,f=g.length,m=[],v=[];for(let y=0;y<p.length;y++)for(let n=f-1;n>=0;--n){const r=g[n],o=r.layer;if(o.hasRenderer()&&Sf(r,c)&&s.call(a,o)){const n=o.getRenderer(),s=o.getSource();if(n&&s){const o=s.getWrapX()?d:e,a=h.bind(null,r.managed);v[0]=o[0]+p[y][0],v[1]=o[1]+p[y][1],l=n.forEachFeatureAtCoordinate(v,t,i,a,m)}if(l)return l}}if(0===m.length)return;const _=1/m.length;return m.forEach(((e,t)=>e.distanceSq+=t*_)),m.sort(((e,t)=>e.distanceSq-t.distanceSq)),m.some((e=>l=e.callback(e.feature,e.layer,e.geometry))),l}hasFeatureAtCoordinate(e,t,i,n,r,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,i,n,Rh,this,r,o)}getMap(){return this.map_}renderFrame(e){Uh()}flushDeclutterItems(e){}scheduleExpireIconCache(e){uv.canExpireCache()&&e.postRenderFunctions.push(vb)}},yb=class extends _b{constructor(e){super(e),this.fontChangeListenerKey_=Yh(Gm,wh,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Em+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const n=new F_(e,void 0,t);i.dispatchEvent(n)}}disposeInternal(){qh(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(af,e);const t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),i=e.viewState;this.children_.length=0;const n=this.declutterLayers_;n.length=0;let r=null;for(let o=0,s=t.length;o<s;++o){const s=t[o];e.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!Sf(s,i)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(e,r);c&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in a&&n.push(a))}this.flushDeclutterItems(e),function(e,t){const i=e.childNodes;for(let n=0;;++n){const r=i[n],o=t[n];if(!r&&!o)break;r!==o&&(r?o?e.insertBefore(o,r):(e.removeChild(r),--n):e.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(lf,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const t=this.declutterLayers_;for(let i=t.length-1;i>=0;--i)t[i].renderDeclutter(e);t.length=0}};class bb extends xh{constructor(e,t){super(e),this.layer=t}}const xb="layers";class wb extends rf{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(xb,this.handleLayersChanged_),i?Array.isArray(i)?i=new py(i.slice(),{unique:!0}):hu("function"==typeof i.getArray,"Expected `layers` to be an array or a `Collection`"):i=new py(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(qh),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Yh(e,cy,this.handleLayersAdd_,this),Yh(e,hy,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(qh);Oh(this.listenerKeys_);const t=e.getArray();for(let i=0,n=t.length;i<n;i++){const e=t[i];this.registerLayerListeners_(e),this.dispatchEvent(new bb("addlayer",e))}this.changed()}registerLayerListeners_(e){const t=[Yh(e,wh,this.handleLayerChange_,this),Yh(e,Dh,this.handleLayerChange_,this)];e instanceof wb&&t.push(Yh(e,"addlayer",this.handleLayerGroupAdd_,this),Yh(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Qh(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new bb("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new bb("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new bb("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Qh(t);this.listenerKeys_[i].forEach(qh),delete this.listenerKeys_[i],this.dispatchEvent(new bb("removelayer",t)),this.changed()}getLayers(){return this.get(xb)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,i=e.length;t<i;++t)this.dispatchEvent(new bb("removelayer",e[t]))}this.set(xb,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}getLayerStatesArray(e){const t=void 0!==e?e:[],i=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));const n=this.getLayerState();let r=n.zIndex;e||void 0!==n.zIndex||(r=0);for(let o=i,s=t.length;o<s;o++){const e=t[o];e.opacity*=n.opacity,e.visible=e.visible&&n.visible,e.maxResolution=Math.min(e.maxResolution,n.maxResolution),e.minResolution=Math.max(e.minResolution,n.minResolution),e.minZoom=Math.max(e.minZoom,n.minZoom),e.maxZoom=Math.min(e.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==e.extent?e.extent=Vu(e.extent,n.extent):e.extent=n.extent),void 0===e.zIndex&&(e.zIndex=r)}return t}getSourceState(){return"ready"}}const Cb=wb,Sb="pointermove",Eb="pointerdown",Tb=class extends Ah{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Yh(i,Eb,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Yh(i,Sb,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Kh,this.boundHandleTouchMove_,!!cu&&{passive:!1})}emulateClick_(e){let t=new Yg(mg.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Yg(mg.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const t=new Yg(mg.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}),250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==mg.POINTERUP||t.type==mg.POINTERCANCEL){delete this.trackedTouches_[i];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=mg.POINTERDOWN&&t.type!=mg.POINTERMOVE||(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Yg(mg.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(qh),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new Yg(mg.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Yh(e,mg.POINTERMOVE,this.handlePointerMove_,this),Yh(e,mg.POINTERUP,this.handlePointerUp_,this),Yh(this.element_,mg.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(Yh(this.element_.getRootNode(),mg.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Yg(mg.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Yg(mg.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(qh(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Kh,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(qh(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(qh),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},kb="layergroup",Ib="size",Rb="target",Mb="view",Pb=1/0,Lb=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Oh(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(e){hu(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Pb&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,n=t.length,r=t[e],o=i[e],s=e;for(;e<n>>1;){const r=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),s=o<n&&i[o]<i[r]?o:r;t[e]=t[s],i[e]=i[s],e=s}t[e]=r,i[e]=o,this.siftDown_(s,e)}siftDown_(e,t){const i=this.elements_,n=this.priorities_,r=i[t],o=n[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(n[e]>o))break;i[t]=i[e],n[t]=n[e],t=e}i[t]=r,n[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let n=0;const r=t.length;let o,s,a;for(s=0;s<r;++s)o=t[s],a=e(o),a==Pb?delete this.queuedElements_[this.keyFunction_(o)]:(i[n]=a,t[n++]=o);t.length=n,i.length=n,this.heapify_()}},Ob=class extends Lb{constructor(e,t){super((function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Dh,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===db||i===pb||i===gb){i!==pb&&t.removeEventListener(Dh,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i,n,r,o=0;for(;this.tilesLoading_<e&&o<t&&this.getCount()>0;)n=this.dequeue()[0],r=n.getKey(),i=n.getState(),i!==hb||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,n.load())}},Fb=class extends tu{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){wm(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&wm(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)qh(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ph&&this.listenerKeys.push(Yh(e,Qy,this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},Ab=class extends Fb{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",n=void 0!==e.expandClassName?e.expandClassName:t+"-expand",r=void 0!==e.collapseLabel?e.collapseLabel:"›",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const s=void 0!==e.label?e.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=n):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(jh,this.handleClick_.bind(this),!1);const l=t+" "+Em+" "+Tm+(this.collapsed_&&this.collapsible_?" "+km:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap((t=>t.getAttributions(e))))),i=!this.getMap().getAllLayers().some((e=>e.getSource()&&!1===e.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Ih(t,this.renderedAttributions_)){Cm(this.ulElement_);for(let e=0,i=t.length;e<i;++e){const i=document.createElement("li");i.innerHTML=t[e],this.ulElement_.appendChild(i)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(km),this.collapsed_?xm(this.collapseLabel_,this.label_):xm(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},Db=class extends Fb{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"⇧",n=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const r=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(jh,this.handleClick_.bind(this),!1);const s=t+" "+Em+" "+Tm,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Sm)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:ug}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const e="rotate("+i+"rad)";if(this.autoHide_){const e=this.element.classList.contains(Sm);e||0!==i?e&&0!==i&&this.element.classList.remove(Sm):this.element.classList.add(Sm)}this.label_.style.transform=e}this.rotation_=i}},zb=class extends Fb{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,n=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",r=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=n,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(jh,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(jh,this.handleClick_.bind(this,-i),!1);const u=t+" "+Em+" "+Tm,d=this.element;d.className=u,d.appendChild(c),d.appendChild(h),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const i=t.getZoom();if(void 0!==i){const n=t.getConstrainedZoom(i+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:ug})):t.setZoom(n)}}};function Nb(e){e instanceof Ef?e.setMapInternal(null):e instanceof Cb&&e.getLayers().forEach(Nb)}function jb(e,t){if(e instanceof Ef)e.setMapInternal(t);else if(e instanceof Cb){const i=e.getLayers().getArray();for(let e=0,n=i.length;e<n;++e)jb(i[e],t)}}const Gb=class extends tu{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const i={},n=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new Cb({layers:e.layers});let r,o,s;return i[kb]=n,i[Rb]=e.target,i[Mb]=e.view instanceof Cf?e.view:new Cf,void 0!==e.controls&&(Array.isArray(e.controls)?r=new py(e.controls.slice()):(hu("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),r=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?o=new py(e.interactions.slice()):(hu("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?s=new py(e.overlays.slice()):(hu("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new py,{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:i}}(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:su,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=t.controls||function(e){e=e||{};const t=new py;return(void 0===e.zoom||e.zoom)&&t.push(new zb(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new Db(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new Ab(e.attributionOptions)),t}(),this.interactions=t.interactions||function(e){e=e||{};const t=new py,i=new ab(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new Bg),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new vg({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new Ng({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new ob),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new sb({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new Uy),t.push(new Jy({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new rb({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new Wg({duration:e.zoomDuration})),t}({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Ob(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(kb,this.handleLayerGroupChanged_),this.addChangeListener(Mb,this.handleViewChanged_),this.addChangeListener(Ib,this.handleSizeChanged_),this.addChangeListener(Rb,this.handleTargetChanged_),this.setProperties(t.values);const i=this;!e.view||e.view instanceof Cf||e.view.then((function(e){i.setView(new Cf(e))})),this.controls.addEventListener(cy,(e=>{e.element.setMap(this)})),this.controls.addEventListener(hy,(e=>{e.element.setMap(null)})),this.interactions.addEventListener(cy,(e=>{e.element.setMap(this)})),this.interactions.addEventListener(hy,(e=>{e.element.setMap(null)})),this.overlays_.addEventListener(cy,(e=>{this.addOverlayInternal_(e.element)})),this.overlays_.addEventListener(hy,(e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)})),this.controls.forEach((e=>{e.setMap(this)})),this.interactions.forEach((e=>{e.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){jb(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(e),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,o=void 0!==i.layerFilter?i.layerFilter:Rh,s=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,s,t,null,o,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,(function(e){i.push(e)}),t),i}getAllLayers(){const e=[];return function t(i){i.forEach((function(i){i instanceof Cb?t(i.getLayers()):e.push(i)}))}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:Rh,r=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,o,n,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),i=this.getSize(),n=t.width/i[0],r=t.height/i[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/n,(o.clientY-t.top)/r]}getTarget(){return this.get(Rb)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return $d(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?uu(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(kb)}setLayers(e){const t=this.getLayerGroup();if(e instanceof py)return void t.setLayers(e);const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const i=e[t];if(!i.visible)continue;const n=i.layer.getRenderer();if(n&&!n.ready)return!0;const r=i.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Zd(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?uu(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ib)}getView(){return this.get(Mb)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,n){return function(e,t,i,n,r){if(!e||!(i in e.wantedTiles))return Pb;if(!e.wantedTiles[i][t.getKey()])return Pb;const o=e.viewState.center,s=n[0]-o[0],a=n[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,e,t,i,n)}handleBrowserEvent(e,t){t=t||e.type;const i=new Yg(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===Eb||i===Xh||i===Bh){const e=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():e,n=t.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===e?e.documentElement:i).contains(n))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let i=t.length-1;i>=0;i--){const n=t[i];if(n.getMap()===this&&n.getActive()&&this.getTargetElement()&&(!n.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let i=this.maxTilesLoading_,n=i;if(e){const t=e.viewHints;if(t[hf]||t[uf]){const t=Date.now()-e.time>8;i=t?0:8,n=t?0:2}}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,n))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(cf)&&this.renderer_.dispatchRenderEvent(cf,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Xg(nb,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Xg(ib,this,e))));const i=this.postRenderFunctions_;for(let n=0,r=i.length;n<r;++n)i[n](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)qh(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Nh,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Xh,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,wm(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new yb(this)),this.mapBrowserEventHandler_=new Tb(this,this.moveTolerance_);for(const t in mg)this.mapBrowserEventHandler_.addEventListener(mg[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Nh,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Xh,this.boundHandleBrowserEvent_,!!cu&&{passive:!1});const e=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[Yh(e,Bh,this.handleBrowserEvent,this),Yh(e,Wh,this.handleBrowserEvent,this)];const i=t.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(qh(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(qh(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Yh(e,wh,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Yh(e,Dh,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(qh),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new bb("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Yh(e,wh,this.render,this),Yh(e,Dh,this.render,this),Yh(e,"addlayer",this.handleLayerAdd_,this),Yh(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Nb(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),n=this.frameState_;let r=null;if(void 0!==t&&qf(t)&&i&&i.isDef()){const n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Gu(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:n,wantedTiles:{},mapId:Qh(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=Gu(o.nextCenter,o.nextResolution,e,t)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),n&&(!this.previousExtent_||!qu(this.previousExtent_)&&!Ru(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Xg(eb,this,n)),this.previousExtent_=Tu(this.previousExtent_)),this.previousExtent_&&!r.viewHints[hf]&&!r.viewHints[uf]&&!Ru(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Xg(tb,this,r)),yu(r.extent,this.previousExtent_))),this.dispatchEvent(new Xg(Qy,this,r)),this.renderComplete_=this.hasListener(ib)||this.hasListener(nb)||this.hasListener(cf)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new bb("removelayer",t)),this.set(kb,e)}setSize(e){this.set(Ib,e)}setTarget(e){this.set(Rb,e)}setView(e){if(!e||e instanceof Cf)return void this.set(Mb,e);this.set(Mb,new Cf);const t=this;e.then((function(e){t.setView(new Cf(e))}))}updateSize(){const e=this.getTargetElement();let t;if(e){const i=getComputedStyle(e),n=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),r=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(n)||isNaN(r)||(t=[n,r],!qf(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Fd("No map visible because the map container's width or height are 0."))}const i=this.getSize();!t||i&&Ih(t,i)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}},Bb="element",Wb="map",Vb="offset",Kb="position",Xb="positioning",Yb=class extends tu{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Bb,this.handleElementChanged),this.addChangeListener(Wb,this.handleMapChanged),this.addChangeListener(Vb,this.handleOffsetChanged),this.addChangeListener(Kb,this.handlePositionChanged),this.addChangeListener(Xb,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(Bb)}getId(){return this.id}getMap(){return this.get(Wb)||null}getOffset(){return this.get(Vb)}getPosition(){return this.get(Kb)}getPositioning(){return this.get(Xb)}handleElementChanged(){Cm(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(wm(this.element),qh(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Yh(e,Qy,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Bb,e)}setMap(e){this.set(Wb,e)}setOffset(e){this.set(Vb,e)}setPosition(e){this.set(Kb,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Kb))return;const i=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),r=this.getRect(n,[ym(n),bm(n)]),o=void 0===(e=e||{}).margin?20:e.margin;if(!wu(i,r)){const n=r[0]-i[0],s=i[2]-r[2],a=r[1]-i[1],l=i[3]-r[3],c=[0,0];if(n<0?c[0]=n-o:s<0&&(c[0]=Math.abs(s)+o),a<0?c[1]=a-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){const i=t.getView().getCenterInternal(),n=t.getPixelFromCoordinateInternal(i);if(!n)return;const r=[n[0]+c[0],n[1]+c[1]],o=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(r),duration:o.duration,easing:o.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[n,r,n+t[0],r+t[1]]}setPositioning(e){this.set(Xb,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(e,t){const i=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);let o="0%",s="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?o="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(o="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?s="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(s="-50%");const a=`translate(${o}, ${s}) translate(${Math.round(e[0]+n[0])+"px"}, ${Math.round(e[1]+n[1])+"px"})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,i.transform=a)}getOptions(){return this.options}},Hb=class{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return hu(void 0!==i,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return hu(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t,i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e}getValues(){const e=new Array(this.count_);let t,i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){hu(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}};function qb(e,t,i,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=i,n):[e,t,i]}function $b(e,t,i){return e+"/"+t+"/"+i}function Zb(e){return $b(e[0],e[1],e[2])}const Ub=class extends Hb{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const e=function(e){return e.split("/").map(Number)}(this.peekFirstKey()),t=e[0];this.forEach((e=>{e.tileCoord[0]!==t&&(this.remove(Zb(e.tileCoord)),e.release())}))}};class Jb{constructor(e,t,i,n){this.minX=e,this.maxX=t,this.minY=i,this.maxY=n}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Qb(e,t,i,n,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=i,r.maxY=n,r):new Jb(e,t,i,n)}const ex=Jb,tx=class{constructor(e,t,i,n,r,o){this.sourceProj_=e,this.targetProj_=t;let s={};const a=Hd(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){const t=e[0]+"/"+e[1];return s[t]||(s[t]=a(e)),s[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Yu(n)>=Yu(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yu(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yu(this.targetProj_.getExtent()):null;const l=Ku(i),c=Xu(i),h=zu(i),u=Du(i),d=this.transformInv_(l),p=this.transformInv_(c),g=this.transformInv_(h),f=this.transformInv_(u),m=10+(o?Math.max(0,Math.ceil(Math.log2(Au(i)/(o*o*256*256)))):0);if(this.addQuad_(l,c,h,u,d,p,g,f,m),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach((function(t,i,n){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const i=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];i[0][0]-e>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-e>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-e>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);const n=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-n<this.sourceWorldWidth_/2&&(t.source=i)}}))}s={}}addTriangle_(e,t,i,n,r,o){this.triangles_.push({source:[n,r,o],target:[e,t,i]})}addQuad_(e,t,i,n,r,o,s,a,l){const c=vu([r,o,s,a]),h=this.sourceWorldWidth_?Yu(c)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1;let p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=Yu(vu([e,t,i,n]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&h&&(p=h>.25||p)),!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Hu(c,this.maxSourceExtent_))return;let g=0;if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)p=!0;else if(g=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=g&&2!=g&&4!=g&&8!=g)return;if(l>0){if(!p){const t=[(e[0]+i[0])/2,(e[1]+i[1])/2],n=this.transformInv_(t);let o;o=d?(_d(r[0],u)+_d(s[0],u))/2-_d(n[0],u):(r[0]+s[0])/2-n[0];const a=(r[1]+s[1])/2-n[1];p=o*o+a*a>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const c=[(t[0]+i[0])/2,(t[1]+i[1])/2],h=this.transformInv_(c),u=[(n[0]+e[0])/2,(n[1]+e[1])/2],d=this.transformInv_(u);this.addQuad_(e,t,c,u,r,o,h,d,l-1),this.addQuad_(u,c,i,n,d,h,s,a,l-1)}else{const c=[(e[0]+t[0])/2,(e[1]+t[1])/2],h=this.transformInv_(c),u=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=this.transformInv_(u);this.addQuad_(e,c,u,n,r,h,d,a,l-1),this.addQuad_(c,t,i,u,h,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(e,i,n,r,s,a),0==(14&g)&&this.addTriangle_(e,i,t,r,s,o),g&&(0==(13&g)&&this.addTriangle_(t,n,e,o,a,r),0==(7&g)&&this.addTriangle_(t,n,i,o,a,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,i,n){const r=t.source;Pu(e,r[0]),Pu(e,r[1]),Pu(e,r[2])})),e}getTriangles(){return this.triangles_}};let ix;const nx=[];function rx(e,t,i,n,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,i),e.lineTo(n,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(i,r)),e.restore()}function ox(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function sx(e,t,i,n){const r=qd(i,t,e);let o=Bd(t,n,i);const s=t.getMetersPerUnit();void 0!==s&&(o*=s);const a=e.getMetersPerUnit();void 0!==a&&(o/=a);const l=e.getExtent();if(!l||xu(l,r)){const t=Bd(e,o,r)/o;isFinite(t)&&t>0&&(o/=t)}return o}function ax(e,t,i,n,r,o,s,a,l,c,h,u,d){const p=vm(Math.round(i*e),Math.round(i*t),nx);if(u||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function g(e){return Math.round(e*i)/i}p.scale(i,i),p.globalCompositeOperation="lighter";const f=[1/0,1/0,-1/0,-1/0];let m;if(l.forEach((function(e,t,i){Mu(f,e.extent)})),!d||1!==l.length||0!==c){const e=Yu(f),t=Wu(f);m=vm(Math.round(i*e/n),Math.round(i*t/n),nx),u||(m.imageSmoothingEnabled=!1);const r=i/n;l.forEach((function(e,t,i){const n=e.extent[0]-f[0],o=-(e.extent[3]-f[3]),s=Yu(e.extent),a=Wu(e.extent);e.image.width>0&&e.image.height>0&&m.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,n*r,o*r,s*r,a*r)}))}const v=Ku(s);return a.getTriangles().forEach((function(e,t,r){const s=e.source,a=e.target;let c=s[0][0],h=s[0][1],d=s[1][0],_=s[1][1],y=s[2][0],b=s[2][1];const x=g((a[0][0]-v[0])/o),w=g(-(a[0][1]-v[1])/o),C=g((a[1][0]-v[0])/o),S=g(-(a[1][1]-v[1])/o),E=g((a[2][0]-v[0])/o),T=g(-(a[2][1]-v[1])/o),k=c,I=h;c=0,h=0,d-=k,_-=I,y-=k,b-=I;const R=function(e){const t=e.length;for(let n=0;n<t;n++){let i=n,r=Math.abs(e[n][n]);for(let s=n+1;s<t;s++){const t=Math.abs(e[s][n]);t>r&&(r=t,i=s)}if(0===r)return null;const o=e[i];e[i]=e[n],e[n]=o;for(let s=n+1;s<t;s++){const i=-e[s][n]/e[n][n];for(let r=n;r<t+1;r++)n==r?e[s][r]=0:e[s][r]+=i*e[n][r]}}const i=new Array(t);for(let n=t-1;n>=0;n--){i[n]=e[n][t]/e[n][n];for(let r=n-1;r>=0;r--)e[r][t]-=e[r][n]*i[n]}return i}([[d,_,0,0,C-x],[y,b,0,0,E-x],[0,0,d,_,S-w],[0,0,y,b,T-w]]);if(!R)return;if(p.save(),p.beginPath(),function(){if(void 0===ix){const e=vm(6,6,nx);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",rx(e,4,5,4,0),rx(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;ix=ox(t,0)||ox(t,4)||ox(t,8),_m(e),nx.push(e.canvas)}return ix}()||!u){p.moveTo(C,S);const e=4,t=x-C,i=w-S;for(let n=0;n<e;n++)p.lineTo(C+g((n+1)*t/e),S+g(n*i/(e-1))),n!=e-1&&p.lineTo(C+g((n+1)*t/e),S+g((n+1)*i/(e-1)));p.lineTo(E,T)}else p.moveTo(C,S),p.lineTo(x,w),p.lineTo(E,T);let M;if(p.clip(),p.transform(R[0],R[2],R[1],R[3],x,w),p.translate(f[0]-k,f[3]-I),m)M=m.canvas,p.scale(n/i,-n/i);else{const e=l[0],t=e.extent;M=e.image,p.scale(Yu(t)/M.width,-Wu(t)/M.height)}p.drawImage(M,0,0),p.restore()})),m&&(_m(m),nx.push(m.canvas)),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(e,t,i){const n=e.target,r=(n[0][0]-v[0])/o,s=-(n[0][1]-v[1])/o,a=(n[1][0]-v[0])/o,l=-(n[1][1]-v[1])/o,c=(n[2][0]-v[0])/o,h=-(n[2][1]-v[1])/o;p.beginPath(),p.moveTo(a,l),p.lineTo(r,s),p.lineTo(c,h),p.closePath(),p.stroke()})),p.restore()),p.canvas}const lx=class extends fb{constructor(e,t,i,n,r,o,s,a,l,c,h,u){super(r,hb,u),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const d=n.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const f=p?Vu(d,p):d;if(0===Au(f))return void(this.state=gb);const m=e.getExtent();m&&(g=g?Vu(g,m):m);const v=n.getResolution(this.wrappedTileCoord_[0]),_=function(e,t,i,n){const r=Nu(i);let o=sx(e,t,r,n);return(!isFinite(o)||o<=0)&&Fu(i,(function(i){return o=sx(e,t,i,n),isFinite(o)&&o>0})),o}(e,i,f,v);if(!isFinite(_)||_<=0)return void(this.state=gb);const y=void 0!==c?c:.5;if(this.triangulation_=new tx(e,i,f,g,_*y,v),0===this.triangulation_.getTriangles().length)return void(this.state=gb);this.sourceZ_=t.getZForResolution(_);let b=this.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(b[1]=gd(b[1],g[1],g[3]),b[3]=gd(b[3],g[1],g[3])):b=Vu(b,g)),Au(b)){const e=t.getTileRangeForExtentAndZ(b,this.sourceZ_);for(let t=e.minX;t<=e.maxX;t++)for(let i=e.minY;i<=e.maxY;i++){const e=l(this.sourceZ_,t,i,s);e&&this.sourceTiles_.push(e)}0===this.sourceTiles_.length&&(this.state=gb)}else this.state=gb}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach((t=>{t&&t.getState()==db&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})})),this.sourceTiles_.length=0,0===e.length)this.state=pb;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),n="number"==typeof i?i:i[0],r="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ax(n,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=db}this.changed()}load(){if(this.state==hb){this.state=ub,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((t=>{const i=t.getState();if(i==hb||i==ub){e++;const i=Yh(t,Dh,(function(n){const r=t.getState();r!=db&&r!=pb&&r!=gb||(qh(i),e--,0===e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}})),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,i){e.getState()==hb&&e.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(qh),this.sourcesListenerKeys_=null}release(){this.canvas_&&(_m(this.canvas_.getContext("2d")),nx.push(this.canvas_),this.canvas_=null),super.release()}},cx="preload",hx="useInterimTilesOnError",ux=class extends Ef{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get(cx)}setPreload(e){this.set(cx,e)}getUseInterimTilesOnError(){return this.get(hx)}setUseInterimTilesOnError(e){this.set(hx,e)}getData(e){return super.getData(e)}},dx=class extends z_{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new ex(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==db||i==gb||i==pb&&!n}getTile(e,t,i,n){const r=n.pixelRatio,o=n.viewState.projection,s=this.getLayer();let a=s.getSource().getTile(e,t,i,r,o);return a.getState()==pb&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=uu(t.pixelToCoordinateTransform,e.slice()),r=i.getExtent();if(r&&!xu(r,n))return null;const o=t.pixelRatio,s=t.viewState.projection,a=t.viewState,l=i.getRenderSource(),c=l.getTileGridForProjection(a.projection),h=l.getTilePixelRatio(t.pixelRatio);for(let u=c.getZForResolution(a.resolution);u>=c.getMinZoom();--u){const e=c.getTileCoordForCoordAndZ(n,u),t=l.getTile(u,e[1],e[2],o,s);if(!(t instanceof mb||t instanceof lx)||t instanceof lx&&t.getState()===gb)return null;if(t.getState()!==db)continue;const i=c.getOrigin(u),r=$f(c.getTileSize(u)),d=c.getResolution(u),p=Math.floor(h*((n[0]-i[0])/d-e[1]*r[0])),g=Math.floor(h*((i[1]-n[1])/d-e[2]*r[1])),f=Math.round(h*l.getGutterForProjection(a.projection));return this.getImageData(t.getImage(),p+f,g+f)}return null}loadedTileCallback(e,t,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(e,t,i)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],n=e.viewState,r=n.projection,o=n.resolution,s=n.center,a=n.rotation,l=e.pixelRatio,c=this.getLayer(),h=c.getSource(),u=h.getRevision(),d=h.getTileGridForProjection(r),p=d.getZForResolution(o,h.zDirection),g=d.getResolution(p);let f=e.extent;const m=e.viewState.resolution,v=h.getTilePixelRatio(l),_=Math.round(Yu(f)/m*l),y=Math.round(Wu(f)/m*l),b=i.extent&&Jd(i.extent);b&&(f=Vu(f,Jd(i.extent)));const x=g*_/2/v,w=g*y/2/v,C=[s[0]-x,s[1]-w,s[0]+x,s[1]+w],S=d.getTileRangeForExtentAndZ(f,p),E={};E[p]={};const T=this.createLoadedTileFinder(h,r,E),k=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;const R=a?Bu(n.center,m,a,e.size):void 0;for(let N=S.minX;N<=S.maxX;++N)for(let t=S.minY;t<=S.maxY;++t){if(a&&!d.tileCoordIntersectsViewport([p,N,t],R))continue;const n=this.getTile(p,N,t,e);if(this.isDrawableTile(n)){const t=Qh(this);if(n.getState()==db){E[p][n.tileCoord.toString()]=n;let e=n.inTransition(t);e&&1!==i.opacity&&(n.endTransition(t),e=!1),this.newTiles_||!e&&this.renderedTiles.includes(n)||(this.newTiles_=!0)}if(1===n.getAlpha(t,e.time))continue}const r=d.getTileCoordChildTileRange(n.tileCoord,I,k);let o=!1;r&&(o=T(p+1,r)),o||d.forEachTileCoordParentTileRange(n.tileCoord,T,I,k)}const M=g/o*l/v;du(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,a,-_/2,-y/2);const P=fu(this.pixelTransform);this.useContainer(t,P,this.getBackground(e));const L=this.context,O=L.canvas;pu(this.inversePixelTransform,this.pixelTransform),du(this.tempTransform,_/2,y/2,M,M,0,-_/2,-y/2),O.width!=_||O.height!=y?(O.width=_,O.height=y):this.containerReused||L.clearRect(0,0,_,y),b&&this.clipUnrotated(L,e,b),h.getInterpolate()||(L.imageSmoothingEnabled=!1),this.preRender(L,e),this.renderedTiles.length=0;let F,A,D,z=Object.keys(E).map(Number);z.sort(Sh),1!==i.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(F=[],A=[]):z=z.reverse();for(let N=z.length-1;N>=0;--N){const t=z[N],i=h.getTilePixelSize(t,l,r),n=d.getResolution(t)/g,o=i[0]*n*M,s=i[1]*n*M,a=d.getTileCoordForCoordAndZ(Ku(C),t),c=d.getTileCoordExtent(a),u=uu(this.tempTransform,[v*(c[0]-C[0])/g,v*(C[3]-c[3])/g]),f=v*h.getGutterForProjection(r),m=E[t];for(const r in m){const i=m[r],n=i.tileCoord,l=a[1]-n[1],c=Math.round(u[0]-(l-1)*o),d=a[2]-n[2],g=Math.round(u[1]-(d-1)*s),v=Math.round(u[0]-l*o),_=Math.round(u[1]-d*s),y=c-v,b=g-_,x=p===t,w=x&&1!==i.getAlpha(Qh(this),e.time);let C=!1;if(!w)if(F){D=[v,_,v+y,_,v+y,_+b,v,_+b];for(let e=0,i=F.length;e<i;++e)if(p!==t&&t<A[e]){const t=F[e];Hu([v,_,v+y,_+b],[t[0],t[3],t[4],t[7]])&&(C||(L.save(),C=!0),L.beginPath(),L.moveTo(D[0],D[1]),L.lineTo(D[2],D[3]),L.lineTo(D[4],D[5]),L.lineTo(D[6],D[7]),L.moveTo(t[6],t[7]),L.lineTo(t[4],t[5]),L.lineTo(t[2],t[3]),L.lineTo(t[0],t[1]),L.clip())}F.push(D),A.push(t)}else L.clearRect(v,_,y,b);this.drawTileImage(i,e,v,_,y,b,f,x),F&&!w?(C&&L.restore(),this.renderedTiles.unshift(i)):this.renderedTiles.push(i),this.updateUsedTiles(e.usedTiles,h,i)}}return this.renderedRevision=u,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!Ru(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=l,this.renderedProjection=r,this.manageTilePyramid(e,h,d,l,r,f,p,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(L,e),i.extent&&L.restore(),L.imageSmoothingEnabled=!0,P!==O.style.transform&&(O.style.transform=P),this.container}drawTileImage(e,t,i,n,r,o,s,a){const l=this.getTileImage(e);if(!l)return;const c=Qh(this),h=t.layerStatesArray[t.layerIndex],u=h.opacity*(a?e.getAlpha(c,t.time):1),d=u!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,i,n,r,o),d&&this.context.restore(),u!==h.opacity?t.animate=!0:a&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=function(e,t,i){const n=Qh(e);n in i.usedTiles&&e.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const n=Qh(t);n in e||(e[n]={}),e[n][i.getKey()]=!0}manageTilePyramid(e,t,i,n,r,o,s,a,l){const c=Qh(t);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],u=e.tileQueue,d=i.getMinZoom(),p=e.viewState.rotation,g=p?Bu(e.viewState.center,e.viewState.resolution,p,e.size):void 0;let f,m,v,_,y,b,x=0;for(b=d;b<=s;++b)for(m=i.getTileRangeForExtentAndZ(o,b,m),v=i.getResolution(b),_=m.minX;_<=m.maxX;++_)for(y=m.minY;y<=m.maxY;++y)p&&!i.tileCoordIntersectsViewport([b,_,y],g)||(s-b<=a?(++x,f=t.getTile(b,_,y,n,r),f.getState()==hb&&(h[f.getKey()]=!0,u.isKeyQueued(f.getKey())||u.enqueue([f,c,i.getTileCoordCenter(f.tileCoord),v])),void 0!==l&&l(f)):t.useTile(b,_,y,r));t.updateCacheSize(x,r)}},px=class extends ux{constructor(e){super(e)}createRenderer(){return new dx(this)}},gx="tileloadstart",fx="tileloadend",mx="tileloaderror",vx=[0,0,0],_x=class{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,hu(function(e,t,i){const n=t||Sh;return e.every((function(t,r){if(0===r)return!0;const o=n(e[r-1],t);return!(o>0||i&&0===o)}))}(this.resolutions_,((e,t)=>t-e),!0),"`resolutions` must be sorted in descending order"),!e.origins)for(let n=0,r=this.resolutions_.length-1;n<r;++n)if(t){if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}else t=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,hu(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Ku(i)),hu(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,hu(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:gf,hu(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(((e,t)=>{const n=new ex(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(i){const e=this.getTileRangeForExtentAndZ(i,t);n.minX=Math.max(e.minX,n.minX),n.maxX=Math.min(e.maxX,n.maxX),n.minY=Math.max(e.minY,n.minY),n.maxY=Math.min(e.maxY,n.maxY)}return n})):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const n=this.getTileRangeForExtentAndZ(e,t);for(let r=n.minX,o=n.maxX;r<=o;++r)for(let e=n.minY,s=n.maxY;e<=s;++e)i([t,r,e])}forEachTileCoordParentTileRange(e,t,i,n){let r,o,s,a=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],s=e[2]):a=this.getTileCoordExtent(e,n);l>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),r=Qb(o,o,s,s,i)):r=this.getTileRangeForExtentAndZ(a,l,i),t(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const i=2*e[1],n=2*e[2];return Qb(i,i+1,n,n+1,t)}const n=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const n=e[0],r=e[1],o=e[2];if(t===n)return Qb(r,o,r,o,i);if(this.zoomFactor_){const e=Math.pow(this.zoomFactor_,t-n),s=Math.floor(r*e),a=Math.floor(o*e);return t<n?Qb(s,s,a,a,i):Qb(s,Math.floor(e*(r+1))-1,a,Math.floor(e*(o+1))-1,i)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,vx);const n=vx[1],r=vx[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,vx),Qb(n,vx[1],r,vx[2],i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=$f(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*i,t[1]-(e[2]+.5)*n[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=$f(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*r[0]*n,s=i[1]-(e[2]+1)*r[1]*n;return Eu(o,s,o+r[0]*n,s+r[1]*n,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,n,r){const o=this.getZForResolution(i),s=i/this.getResolution(o),a=this.getOrigin(o),l=$f(this.getTileSize(o),this.tmpSize_);let c=s*(e-a[0])/i/l[0],h=s*(a[1]-t)/i/l[1];return n?(c=wd(c,5)-1,h=wd(h,5)-1):(c=xd(c,5),h=xd(h,5)),qb(o,c,h,r)}getTileCoordForXYAndZ_(e,t,i,n,r){const o=this.getOrigin(i),s=this.getResolution(i),a=$f(this.getTileSize(i),this.tmpSize_);let l=(e-o[0])/s/a[0],c=(o[1]-t)/s/a[1];return n?(l=wd(l,5)-1,c=wd(c,5)-1):(l=xd(l,5),c=xd(c,5)),qb(i,l,c,r)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return gd(Eh(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return Gp(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let n=this.minZoom;n<t;++n)i[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=i}};function yx(e){let t=e.getDefaultTileGrid();return t||(t=function(e,t,i,n){const r=xx(e);return function(e,t,i,n){n=void 0!==n?n:"top-left";const r=bx(e,t,i);return new _x({extent:e,origin:ju(e,n),resolutions:r,tileSize:i})}(r,t,i,n)}(e),e.setDefaultTileGrid(t)),t}function bx(e,t,i,n){t=void 0!==t?t:pf,i=$f(void 0!==i?i:gf);const r=Wu(e),o=Yu(e);n=n>0?n:Math.max(o/i[0],r/i[1]);const s=t+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=n/Math.pow(2,l);return a}function xx(e){let t=(e=Gd(e)).getExtent();if(!t){const i=180*Zu.degrees/e.getMetersPerUnit();t=Eu(-i,-i,i,i)}return t}class wx extends xh{constructor(e,t){super(e),this.tile=t}}const Cx=class extends yy{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;const t=[256,256];this.tileGrid&&$f(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Ub(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,n){const r=this.getTileCacheForProjection(e);if(!r)return!1;let o,s,a,l=!0;for(let c=i.minX;c<=i.maxX;++c)for(let e=i.minY;e<=i.maxY;++e)s=$b(t,c,e),a=!1,r.containsKey(s)&&(o=r.get(s),a=o.getState()===db,a&&(a=!1!==n(o))),a||(l=!1);return l}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,n,r){return Uh()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:yx(e)}getTileCacheForProjection(e){const t=this.getProjection();return hu(null===t||Xd(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const n=this.getTileGridForProjection(i),r=this.getTilePixelRatio(t),o=$f(n.getTileSize(e),this.tmpSize);return 1==r?o:(s=o,a=r,void 0===(l=this.tmpSize)&&(l=[0,0]),l[0]=s[0]*a+.5|0,l[1]=s[1]*a+.5|0,l);var s,a,l}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function(e,t,i){const n=t[0],r=e.getTileCoordCenter(t),o=xx(i);if(!xu(o,r)){const t=Yu(o),i=Math.ceil((o[0]-r[0])/t);return r[0]+=t*i,e.getTileCoordForCoordAndZ(r,n)}return t}(i,e,t)),function(e,t){const i=e[0],n=e[1],r=e[2];if(t.getMinZoom()>i||i>t.getMaxZoom())return!1;const o=t.getFullTileRange(i);return!o||o.containsXY(n,r)}(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,n){}};function Sx(e,t){const i=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return e.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(r,s[2].toString()).replace(o,(function(){const e=s[0],i=t.getFullTileRange(e);if(!i)throw new Error("The {-y} placeholder requires a tile grid with extent");return(i.getHeight()-s[2]-1).toString()}))}}function Ex(e,t){const i=e.length,n=new Array(i);for(let r=0;r<i;++r)n[r]=Sx(e[r],t);return function(e){return 1===e.length?e[0]:function(t,i,n){if(!t)return;const r=function(e){return(e[1]<<e[0])+e[2]}(t),o=_d(r,e.length);return e[o](t,i,n)}}(n)}class Tx extends Cx{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Tx.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Qh(t),n=t.getState();let r;n==ub?(this.tileLoadingKeys_[i]=!0,r=gx):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],r=n==pb?mx:n==db?fx:void 0),null!=r&&this.dispatchEvent(new wx(r,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}setUrl(e){const t=function(e){const t=[];let i=/\{([a-z])-([a-z])\}/.exec(e);if(i){const n=i[1].charCodeAt(0),r=i[2].charCodeAt(0);let o;for(o=n;o<=r;++o)t.push(e.replace(i[0],String.fromCharCode(o)));return t}if(i=/\{(\d+)-(\d+)\}/.exec(e),i){const n=parseInt(i[2],10);for(let r=parseInt(i[1],10);r<=n;r++)t.push(e.replace(i[0],r.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Ex(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const n=$b(e,t,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const kx=Tx;function Ix(e,t){e.getImage().src=t}const Rx=class extends kx{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ix,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:mb,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const n in this.tileCacheForProjection){const e=this.tileCacheForProjection[n];e.expireCache(e==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Xd(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!Xd(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Xd(t,e)))return this.tileGrid;const i=Qh(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=yx(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||Xd(t,e))return this.tileCache;const i=Qh(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Ub(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,n,r,o){const s=[e,t,i],a=this.getTileCoordForTileUrlFunction(s,r),l=a?this.tileUrlFunction(a,n,r):void 0,c=new this.tileClass(s,void 0!==l?hb:gb,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(Dh,this.handleTileChange.bind(this)),c}getTile(e,t,i,n,r){const o=this.getProjection();if(!o||!r||Xd(o,r))return this.getTileInternal(e,t,i,n,o||r);const s=this.getTileCacheForProjection(r),a=[e,t,i];let l;const c=Zb(a);s.containsKey(c)&&(l=s.get(c));const h=this.getKey();if(l&&l.key==h)return l;const u=this.getTileGridForProjection(o),d=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(a,r),g=new lx(o,u,r,d,a,p,this.getTilePixelRatio(n),this.getGutter(),((e,t,i,n)=>this.getTileInternal(e,t,i,n,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=h,l?(g.interimTile=l,g.refreshInterimChain(),s.replace(c,g)):s.set(c,g),g}getTileInternal(e,t,i,n,r){let o=null;const s=$b(e,t,i),a=this.getKey();if(this.tileCache.containsKey(s)){if(o=this.tileCache.get(s),o.key!=a){const l=o;o=this.createTile_(e,t,i,n,r,a),l.getState()==hb?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(e,t,i,n,r,a),this.tileCache.set(s,o);return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}}setTileGridForProjection(e,t){const i=Gd(e);if(i){const e=Qh(i);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},Mx=class extends Rx{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",i=void 0!==e.tileGrid?e.tileGrid:function(e){const t=e||{},i=t.extent||Gd("EPSG:3857").getExtent(),n={extent:i,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:bx(i,t.maxZoom,t.tileSize,t.maxResolution)};return new _x(n)}({extent:xx(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}},Px="units",Lx=[1,2,5],Ox=25.4/.28,Fx=class extends Fb{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+Em,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Px,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(Px)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(Px,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,i=e.projection,n=this.getUnits(),r="degrees"==n?"degrees":"m";let o=Bd(i,e.resolution,t,r);const s=this.minWidth_*(this.dpi_||Ox)/Ox,a=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||Ox)/Ox:void 0;let l=s*o,c="";if("degrees"==n){const e=Zu.degrees;l*=e,l<e/60?(c="″",o*=3600):l<e?(c="′",o*=60):c="°"}else if("imperial"==n)l<.9144?(c="in",o/=.0254):l<1609.344?(c="ft",o/=.3048):(c="mi",o/=1609.344);else if("nautical"==n)o/=1852,c="NM";else if("metric"==n)l<.001?(c="μm",o*=1e6):l<1?(c="mm",o*=1e3):l<1e3?c="m":(c="km",o/=1e3);else{if("us"!=n)throw new Error("Invalid units");l<.9144?(c="in",o*=39.37):l<1609.344?(c="ft",o/=.30480061):(c="mi",o/=1609.3472)}let h,u,d,p,g,f,m=3*Math.floor(Math.log(s*o)/Math.log(10));for(;;){d=Math.floor(m/3);const e=Math.pow(10,d);if(h=Lx[(m%3+3)%3]*e,u=Math.round(h/o),isNaN(u))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==a&&u>=a){h=p,u=g,d=f;break}if(u>=s)break;p=h,g=u,f=d,++m}const v=this.scaleBar_?this.createScaleBar(u,h,c):h.toFixed(d<0?-d:0)+" "+c;this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const n=this.getScaleForResolution(),r=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),o=this.scaleBarSteps_,s=e/o,a=[this.createMarker("absolute")];for(let l=0;l<o;++l){const n=l%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(l%2==0||2===o?this.createStepText(l,e,!1,t,i):"")+"</div>")}return a.push(this.createStepText(o,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+r+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,i,n,r){const o=(0===e?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+r);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${i?t+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return Bd(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||Ox)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}},Ax=(e,t=20)=>{const i=e.getView();i.getZoom()>=t||i.setZoom(i.getZoom()+1)},Dx=(e,t=0)=>{const i=e.getView();i.getZoom()<=t||i.setZoom(i.getZoom()-1)},zx=new Fx({units:"metric"}),Nx=new lv({fill:new tv({color:"rgba(50, 224, 141,0.4)"}),stroke:new nv({color:"rgba(255,128,0,0.5)",width:2}),image:new mv({src:"./location.png",scale:[.3,.3]})}),jx=new Py({}),Gx=new ly({source:jx,style:Nx});var Bx={};function Wx(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function Vx(e,t,i){var n=(e=Wx(e*i))-(t=Wx(t*i));n<<=1,e-t<0&&(n=~n);for(var r="";n>=32;)r+=String.fromCharCode(63+(32|31&n)),n>>=5;return r+=String.fromCharCode(n+63)}function Kx(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].slice();t.push([n[1],n[0]])}return t}Bx.decode=function(e,t){for(var i,n=0,r=0,o=0,s=[],a=0,l=0,c=null,h=Math.pow(10,Number.isInteger(t)?t:5);n<e.length;){c=null,a=0,l=0;do{l|=(31&(c=e.charCodeAt(n++)-63))<<a,a+=5}while(c>=32);i=1&l?~(l>>1):l>>1,a=l=0;do{l|=(31&(c=e.charCodeAt(n++)-63))<<a,a+=5}while(c>=32);r+=i,o+=1&l?~(l>>1):l>>1,s.push([r/h,o/h])}return s},Bx.encode=function(e,t){if(!e.length)return"";for(var i=Math.pow(10,Number.isInteger(t)?t:5),n=Vx(e[0][0],0,i)+Vx(e[0][1],0,i),r=1;r<e.length;r++){var o=e[r],s=e[r-1];n+=Vx(o[0],s[0],i),n+=Vx(o[1],s[1],i)}return n},Bx.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return Bx.encode(Kx(e.coordinates),t)},Bx.toGeoJSON=function(e,t){return{type:"LineString",coordinates:Kx(Bx.decode(e,t))}};class Xx{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Kg,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?Gd(t.dataProjection):this.readProjection(e);t.extent&&i&&"tile-pixels"===i.getUnits()&&(i=Gd(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Uh()}readFeature(e,t){return Uh()}readFeatures(e,t){return Uh()}readGeometry(e,t){return Uh()}readProjection(e){return Uh()}writeFeature(e,t){return Uh()}writeFeatures(e,t){return Uh()}writeGeometry(e,t){return Uh()}}function Yx(e,t,i){const n=i?Gd(i.featureProjection):null,r=i?Gd(i.dataProjection):null;let o=e;if(n&&r&&!Xd(n,r)){t&&(o=e.clone());const i=t?n:r,s=t?r:n;"tile-pixels"===i.getUnits()?o.transform(i,s):o.applyTransform(Hd(i,s))}if(t&&i&&void 0!==i.decimals){const t=Math.pow(10,i.decimals),n=function(e){for(let i=0,n=e.length;i<n;++i)e[i]=Math.round(e[i]*t)/t;return e};o===e&&(o=e.clone()),o.applyTransform(n)}return o}function Hx(e){return"string"==typeof e?e:""}const qx=class extends Xx{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(Hx(e),this.adaptOptions(t))}readFeatureFromText(e,t){return Uh()}readFeatures(e,t){return this.readFeaturesFromText(Hx(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return Uh()}readGeometry(e,t){return this.readGeometryFromText(Hx(e),this.adaptOptions(t))}readGeometryFromText(e,t){return Uh()}readProjection(e){return this.readProjectionFromText(Hx(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return Uh()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return Uh()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return Uh()}};function $x(e,t,i,n,r,o){void 0!==r?o=void 0!==o?o:0:(r=[],o=0);let s=t;for(;s<i;){const t=e[s++];r[o++]=e[s++],r[o++]=t;for(let i=2;i<n;++i)r[o++]=e[s++]}return r.length=o,r}function Zx(e){let t,i="";for(;e>=32;)t=63+(32|31&e),i+=String.fromCharCode(t),e>>=5;return t=e+63,i+=String.fromCharCode(t),i}const Ux=class extends qx{constructor(e){super(),e=e||{},this.dataProjection=Gd("EPSG:4326"),this.factor_=e.factor?e.factor:1e5,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY"}readFeatureFromText(e,t){const i=this.readGeometryFromText(e,t);return new Kg(i)}readFeaturesFromText(e,t){return[this.readFeatureFromText(e,t)]}readGeometryFromText(e,t){const i=sp(this.geometryLayout_),n=function(e,t,i){let n;i=i||1e5;const r=new Array(t);for(n=0;n<t;++n)r[n]=0;const o=function(e,t){t=t||1e5;const i=function(e){const t=function(e){const t=[];let i=0,n=0;for(let r=0,o=e.length;r<o;++r){const o=e.charCodeAt(r)-63;i|=(31&o)<<n,o<32?(t.push(i),i=0,n=0):n+=5}return t}(e);for(let i=0,n=t.length;i<n;++i){const e=t[i];t[i]=1&e?~(e>>1):e>>1}return t}(e);for(let n=0,r=i.length;n<r;++n)i[n]/=t;return i}(e,i);for(let s=0,a=o.length;s<a;)for(n=0;n<t;++n,++s)r[n]+=o[s],o[s]=r[n];return o}(e,i,this.factor_);$x(n,0,n.length,i,n);const r=Tp(n,0,n.length,i);return Yx(new Kp(r,this.geometryLayout_),!1,this.adaptOptions(t))}writeFeatureText(e,t){const i=e.getGeometry();if(i)return this.writeGeometryText(i,t);throw new Error("Expected `feature` to have a geometry")}writeFeaturesText(e,t){return this.writeFeatureText(e[0],t)}writeGeometryText(e,t){const i=(e=Yx(e,!0,this.adaptOptions(t))).getFlatCoordinates(),n=e.getStride();return $x(i,0,i.length,n,i),function(e,t,i){let n;i=i||1e5;const r=new Array(t);for(n=0;n<t;++n)r[n]=0;for(let o=0,s=e.length;o<s;)for(n=0;n<t;++n,++o){const t=e[o],i=t-r[n];r[n]=t,e[o]=i}return function(e,t){t=t||1e5;for(let i=0,n=e.length;i<n;++i)e[i]=Math.round(e[i]*t);return function(e){for(let t=0,i=e.length;t<i;++t){const i=e[t];e[t]=i<0?~(i<<1):i<<1}return function(e){let t="";for(let i=0,n=e.length;i<n;++i)t+=Zx(e[i]);return t}(e)}(e)}(e,i)}(i,n,this.factor_)}};function Jx(e,t,i){if(void 0===i&&(i={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ew(e[0])||!ew(e[1]))throw new Error("coordinates must contain numbers");return function(e,t,i){void 0===i&&(i={});var n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=t||{},n.geometry=e,n}({type:"Point",coordinates:e},t,i)}function Qx(e){return e%360*Math.PI/180}function ew(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function tw(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function iw(e,t,i){if(void 0===i&&(i={}),!0===i.final)return function(e,t){var i=iw(t,e);return i=(i+180)%360}(e,t);var n=tw(e),r=tw(t),o=Qx(n[0]),s=Qx(r[0]),a=Qx(n[1]),l=Qx(r[1]),c=Math.sin(s-o)*Math.cos(l),h=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(s-o);return Math.atan2(c,h)%(2*Math.PI)*180/Math.PI}const nw=[{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39558090851449,22.91805484704389]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3970867376813,22.91482081461092]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39290388597631,22.914974819397216]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.38576515069784,22.91559082895965]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3787379606845,22.916925509351003]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.37243579574702,22.91805484704389]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3680274923897,22.918960604175368]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.36825294404204,22.92390670554107]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.36864334608754,22.929501669119517]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.36892220286784,22.934583133081787]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3686991165926,22.937354759706423]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.37405316592394,22.939767054799773]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.37884950169463,22.940536927351815]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.38342275544507,22.939715729611507]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.38593246646803,22.93899717786948]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3886652637663,22.932684022300464]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39134228630445,22.927089190173632]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39401931309764,22.921391464667593]}],rw=(e,t)=>{const i=e.__vccOpts||e;for(const[n,r]of t)i[n]=r;return i},ow=e=>(pe("data-v-3e3da1dd"),e=e(),ge(),e),sw={class:"login-page"},aw={id:"map",class:"map-container"},lw=["innerHTML"],cw=ow((()=>g("br",null,null,-1))),hw=ow((()=>g("br",null,null,-1))),uw=ow((()=>g("p",null,"小车运行",-1))),dw=ow((()=>g("br",null,null,-1))),pw=ow((()=>g("p",null,"绘制",-1))),gw=ow((()=>g("br",null,null,-1))),fw=ow((()=>g("br",null,null,-1))),mw={__name:"map",setup(e){let t,i=jx,n=Gx;const o=c(""),a=[{value:"Point",label:"点"},{value:"LineString",label:"线"},{value:"Polygon",label:"面"},{value:"Exent",label:"矩形"},{value:"Circle",label:"圆"}];let h;const u=()=>{h&&cb(t,h),h=lb(i,o.value),((e,t)=>{e.addInteraction(t)})(t,h)};l(o,(()=>{u()}));const f=c(!0);l(f,(()=>{f.value?f.value&&""!==o.value&&u():cb(t,h)}));const m=[];nw.forEach(((e,t)=>{const i=new Kg({geometry:new qp((n=e.coordinate,Dd(),qd(n,"EPSG:4326",void 0!==r?r:"EPSG:3857"))),time:e.time,speed:e.speed,index:t});var n,r;m.push(i)}));const v=new Py({features:m}),_=new ly({source:v,style:new lv({image:new Qm({radius:8,fill:new tv({color:"rgb(209, 192, 15)"})})})}),y={route:new lv({stroke:new nv({color:"rgb(209, 192, 15)",width:6})}),animation:new lv({image:new mv({anchor:[.5,.5],src:"./car.png",rotation:Math.PI/180*66,scale:[.7,.7]})}),start:new lv({text:new _v({font:"15px Times New Roman",scale:.9,text:"起",stroke:new nv({color:"red"}),fill:new tv({color:"red"}),offsetX:20,offsetY:-10})}),end:new lv({text:new _v({font:"15px Times New Roman",scale:.9,text:"终",stroke:new nv({color:"red"}),fill:new tv({color:"red"}),offsetX:20,offsetY:-10})})},b=Bx.encode(nw.map((e=>[e.coordinate[1].toFixed(6),e.coordinate[0].toFixed(6)])),6),x=new Ux({factor:1e6}).readGeometry(b,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),w=new Kg({geometry:new qp(x.getFirstCoordinate()),type:"start"}),C=new Kg({geometry:new qp(x.getLastCoordinate()),type:"end"}),S=new Kg({geometry:x,type:"route"}),E=new qp(x.getFirstCoordinate()),T=new Kg({geometry:E,type:"animation"}),k=new Py({features:[S,w,C,T]}),I=new ly({source:k,style:e=>y[e.get("type")]}),R=c(!1),M=c(60);let P,L=0,O=E.getCoordinates();l(R,(()=>{R.value?A():z()}));const F=e=>{const i=e.frameState.time;L=(L+(i-P)*M.value/1e6)%2,P=i;const n=x.getCoordinateAt(L>1?2-L:L);E.setCoordinates(n);const r=E.getCoordinates();let o=iw(Jx(Kd(O)),Jx(Kd(r)));console.log(o),y.animation.getImage().setRotation(Math.PI/180*(-90+o));const s=function(e){if(!(e.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");const t=e.inversePixelTransform[0],i=e.inversePixelTransform[1],n=Math.sqrt(t*t+i*i),r=e.frameState,o=function(e,t){const i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],h=t[2],u=t[3],d=t[4],p=t[5];return e[0]=i*l+r*c,e[1]=n*l+o*c,e[2]=i*h+r*u,e[3]=n*h+o*u,e[4]=i*d+r*p+s,e[5]=n*d+o*p+a,e}(e.inversePixelTransform.slice(),r.coordinateToPixelTransform),s=ny(r.viewState.resolution,n);return new J_(e.context,n,r.extent,o,r.viewState.rotation,s,void 0)}(e);s.setStyle(y.animation),s.drawGeometry(E),O=r,t.render()},A=()=>{P=Date.now(),I.on("postrender",F),T.setGeometry(null)},z=()=>{I.un("postrender",F),T.setGeometry(E)},N=()=>{V.setPosition(void 0)},G=c(null),W=c(null);let V;return s((()=>{var e;t=new Gb({target:"map",layers:[new px({source:new Mx({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",attributions:'<a class="ol-attribution-amap" href="http://ditu.amap.com/">高德地图</a>'})})],view:new Cf({projection:"EPSG:3857",center:[12621685.550369183,2623275.034032539],zoom:14})}),t.addLayer(n),t.addControl(zx),t.addLayer(_),t.addLayer(I),e=G.value,V=new Yb({positioning:"bottom-center",autoPan:{animation:250},element:e,position:null}),t.addOverlay(V),t.on("click",(e=>{const i=e.pixel,n=t.forEachFeatureAtPixel(i,(e=>e),{layerFilter:e=>_===e});if(!n)return void V.setPosition(void 0);const r=e.coordinate,o=function(e,t){return e?Sd("NS",e[1],t)+" "+Sd("EW",e[0],t):""}(Kd(r));V.setPosition(r),W.value=`\n    <p class="title">轨迹点${n.values_.index+1}<p>\n    <p>经纬度: <code> ${o} </code></p>\n    <p>车辆速度： <code> ${n.values_.speed}km/h</code></p>\n    <p>时间 <code> ${n.values_.time} </code></p>\n    `}))})),(e,i)=>{const n=Vc,s=Kc,l=_c,c=bh,h=ch,u=lh,m=Wc,v=Bc;return d(),p("div",sw,[B(v,{class:"page"},{default:j((()=>[B(n,{class:"title"},{default:j((()=>[de("OpenLayers Demo")])),_:1}),B(v,{class:"main"},{default:j((()=>[B(s,{class:"mapcontext"},{default:j((()=>[g("div",aw,[g("div",{id:"popup",class:"ol-popup",ref_key:"container",ref:G},[g("a",{href:"#",id:"popup-closer",class:"ol-popup-closer",ref:"close",onClick:N},null,512),g("div",{id:"popup-content",innerHTML:W.value},null,8,lw)],512)])])),_:1}),B(m,{width:"245px",class:"aside"},{default:j((()=>[g("div",null,[de(" 视图 "),cw,hw,B(l,{type:"primary",onClick:i[0]||(i[0]=e=>r(Ax)(r(t)))},{default:j((()=>[de("缩小")])),_:1}),B(l,{type:"primary",onClick:i[1]||(i[1]=e=>r(Dx)(r(t)))},{default:j((()=>[de("放大")])),_:1})]),uw,B(c,{modelValue:R.value,"onUpdate:modelValue":i[2]||(i[2]=e=>R.value=e),class:"mb-2","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),dw,g("div",null,[pw,B(c,{modelValue:f.value,"onUpdate:modelValue":i[3]||(i[3]=e=>f.value=e),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),gw,fw]),B(u,{disabled:!f.value,placement:"bottom-start",modelValue:o.value,"onUpdate:modelValue":i[4]||(i[4]=e=>o.value=e),class:"m-2",placeholder:"Select"},{default:j((()=>[(d(),p(D,null,ae(a,(e=>B(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["disabled","modelValue"])])),_:1})])),_:1})])),_:1})])}}};e("default",rw(mw,[["__scopeId","data-v-3e3da1dd"]]))}}}));
