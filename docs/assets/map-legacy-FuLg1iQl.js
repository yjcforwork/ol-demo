System.register(["./index-legacy-XE2Cy3qC.js"],(function(e,t){"use strict";var i,n,o,r,s,a,l,c,h,u,d,p,g,f,m,_,v,y,x,b,w,C,S,E,k,T,I,R,M,P,L,O,F,A,D,z,N,j,B,G,V,W,K,X,Y,H,q,$,U,Z,J,Q,ee,te,ie,ne,oe,re,se,ae,le,ce,he,ue,de,pe,ge,fe,me;return{setters:[e=>{i=e.g,n=e.o,o=e.u,r=e.a,s=e.b,a=e.n,l=e.w,c=e.r,h=e.i,u=e.d,d=e.c,p=e.e,g=e.f,f=e.h,m=e.j,_=e.k,v=e.N,y=e.l,x=e.m,b=e.p,w=e.q,C=e.s,S=e.t,E=e.v,k=e.x,T=e.y,I=e.z,R=e.A,M=e.B,P=e.C,L=e.D,O=e.E,F=e.F,A=e.G,D=e.H,z=e.I,N=e.J,j=e.K,B=e.L,G=e.M,V=e.O,W=e.P,K=e.Q,X=e.T,Y=e.R,H=e.S,q=e.U,$=e.V,U=e.W,Z=e.X,J=e.Y,Q=e.Z,ee=e._,te=e.$,ie=e.a0,ne=e.a1,oe=e.a2,re=e.a3,se=e.a4,ae=e.a5,le=e.a6,ce=e.a7,he=e.a8,ue=e.a9,de=e.aa,pe=e.ab,ge=e.ac,fe=e.ad,me=e.ae}],execute:function(){var _e=document.createElement("style");_e.textContent="@charset \"UTF-8\";:root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary-rgb:64,158,255;--el-color-success-rgb:103,194,58;--el-color-warning-rgb:230,162,60;--el-color-danger-rgb:245,108,108;--el-color-error-rgb:245,108,108;--el-color-info-rgb:144,147,153;--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-family:\"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"微软雅黑\",Arial,sans-serif;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-transition-duration:.3s;--el-transition-duration-fast:.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(.645, .045, .355, 1);--el-transition-function-fast-bezier:cubic-bezier(.23, 1, .32, 1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-box-shadow:box-shadow var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-component-size-large:40px;--el-component-size:32px;--el-component-size-small:24px}:root{color-scheme:light;--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary:#409eff;--el-color-primary-light-3:#79bbff;--el-color-primary-light-5:#a0cfff;--el-color-primary-light-7:#c6e2ff;--el-color-primary-light-8:#d9ecff;--el-color-primary-light-9:#ecf5ff;--el-color-primary-dark-2:#337ecc;--el-color-success:#67c23a;--el-color-success-light-3:#95d475;--el-color-success-light-5:#b3e19d;--el-color-success-light-7:#d1edc4;--el-color-success-light-8:#e1f3d8;--el-color-success-light-9:#f0f9eb;--el-color-success-dark-2:#529b2e;--el-color-warning:#e6a23c;--el-color-warning-light-3:#eebe77;--el-color-warning-light-5:#f3d19e;--el-color-warning-light-7:#f8e3c5;--el-color-warning-light-8:#faecd8;--el-color-warning-light-9:#fdf6ec;--el-color-warning-dark-2:#b88230;--el-color-danger:#f56c6c;--el-color-danger-light-3:#f89898;--el-color-danger-light-5:#fab6b6;--el-color-danger-light-7:#fcd3d3;--el-color-danger-light-8:#fde2e2;--el-color-danger-light-9:#fef0f0;--el-color-danger-dark-2:#c45656;--el-color-error:#f56c6c;--el-color-error-light-3:#f89898;--el-color-error-light-5:#fab6b6;--el-color-error-light-7:#fcd3d3;--el-color-error-light-8:#fde2e2;--el-color-error-light-9:#fef0f0;--el-color-error-dark-2:#c45656;--el-color-info:#909399;--el-color-info-light-3:#b1b3b8;--el-color-info-light-5:#c8c9cc;--el-color-info-light-7:#dedfe0;--el-color-info-light-8:#e9e9eb;--el-color-info-light-9:#f4f4f5;--el-color-info-dark-2:#73767a;--el-bg-color:#ffffff;--el-bg-color-page:#f2f3f5;--el-bg-color-overlay:#ffffff;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#a8abb2;--el-text-color-disabled:#c0c4cc;--el-border-color:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-color-dark:#d4d7de;--el-border-color-darker:#cdd0d6;--el-fill-color:#f0f2f5;--el-fill-color-light:#f5f7fa;--el-fill-color-lighter:#fafafa;--el-fill-color-extra-light:#fafcff;--el-fill-color-dark:#ebedf0;--el-fill-color-darker:#e6e8eb;--el-fill-color-blank:#ffffff;--el-box-shadow:0px 12px 32px 4px rgba(0, 0, 0, .04),0px 8px 20px rgba(0, 0, 0, .08);--el-box-shadow-light:0px 0px 12px rgba(0, 0, 0, .12);--el-box-shadow-lighter:0px 0px 6px rgba(0, 0, 0, .12);--el-box-shadow-dark:0px 16px 48px 16px rgba(0, 0, 0, .08),0px 12px 32px rgba(0, 0, 0, .12),0px 8px 16px -8px rgba(0, 0, 0, .16);--el-disabled-bg-color:var(--el-fill-color-light);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-overlay-color:rgba(0, 0, 0, .8);--el-overlay-color-light:rgba(0, 0, 0, .7);--el-overlay-color-lighter:rgba(0, 0, 0, .5);--el-mask-color:rgba(255, 255, 255, .9);--el-mask-color-extra-light:rgba(255, 255, 255, .3);--el-border-width:1px;--el-border-style:solid;--el-border-color-hover:var(--el-text-color-disabled);--el-border:var(--el-border-width) var(--el-border-style) var(--el-border-color);--el-svg-monochrome-grey:var(--el-border-color)}.el-icon-loading{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@-webkit-keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.el-icon{--color:inherit;height:1em;width:1em;line-height:1em;display:inline-flex;justify-content:center;align-items:center;position:relative;fill:currentColor;color:var(--color);font-size:inherit}.el-icon.is-loading{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.el-icon svg{height:1em;width:1em}.el-container{display:flex;flex-direction:row;flex:1;flex-basis:auto;box-sizing:border-box;min-width:0}.el-container.is-vertical{flex-direction:column}.el-aside{overflow:auto;box-sizing:border-box;flex-shrink:0;width:var(--el-aside-width,300px)}.el-footer{--el-footer-padding:0 20px;--el-footer-height:60px;padding:var(--el-footer-padding);box-sizing:border-box;flex-shrink:0;height:var(--el-footer-height)}.el-header{--el-header-padding:0 20px;--el-header-height:60px;padding:var(--el-header-padding);box-sizing:border-box;flex-shrink:0;height:var(--el-header-height)}.el-main{--el-main-padding:20px;display:block;flex:1;flex-basis:auto;overflow:auto;box-sizing:border-box;padding:var(--el-main-padding)}.el-textarea{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%}.el-textarea{position:relative;display:inline-block;width:100%;vertical-align:bottom;font-size:var(--el-font-size-base)}.el-textarea__inner{position:relative;display:block;resize:vertical;padding:5px 11px;line-height:1.5;box-sizing:border-box;width:100%;font-size:inherit;font-family:inherit;color:var(--el-input-text-color,var(--el-text-color-regular));background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;-webkit-appearance:none;box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));transition:var(--el-transition-box-shadow);border:none}.el-textarea__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:-ms-input-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-textarea__inner:focus{outline:0;box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-textarea .el-input__count{color:var(--el-color-info);background:var(--el-fill-color-blank);position:absolute;font-size:12px;line-height:14px;bottom:5px;right:10px}.el-textarea.is-disabled .el-textarea__inner{box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner:-ms-input-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-exceed .el-textarea__inner{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-textarea.is-exceed .el-input__count{color:var(--el-color-danger)}.el-input{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%}.el-input{--el-input-height:var(--el-component-size);position:relative;font-size:var(--el-font-size-base);display:inline-flex;width:var(--el-input-width);line-height:var(--el-input-height);box-sizing:border-box;vertical-align:middle}.el-input::-webkit-scrollbar{z-index:11;width:6px}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{border-radius:5px;width:6px;background:var(--el-text-color-disabled)}.el-input::-webkit-scrollbar-corner{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track-piece{background:var(--el-fill-color-blank);width:6px}.el-input .el-input__clear,.el-input .el-input__password{color:var(--el-input-icon-color);font-size:14px;cursor:pointer}.el-input .el-input__clear:hover,.el-input .el-input__password:hover{color:var(--el-input-clear-hover-color)}.el-input .el-input__count{height:100%;display:inline-flex;align-items:center;color:var(--el-color-info);font-size:12px}.el-input .el-input__count .el-input__count-inner{background:var(--el-fill-color-blank);line-height:initial;display:inline-block;padding-left:8px}.el-input__wrapper{display:inline-flex;flex-grow:1;align-items:center;justify-content:center;padding:1px 11px;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));cursor:text;transition:var(--el-transition-box-shadow);transform:translateZ(0);box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset}.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 32px) - 2px);width:100%;flex-grow:1;-webkit-appearance:none;color:var(--el-input-text-color,var(--el-text-color-regular));font-size:inherit;height:var(--el-input-inner-height);line-height:var(--el-input-inner-height);padding:0;outline:0;border:none;background:0 0;box-sizing:border-box}.el-input__inner:focus{outline:0}.el-input__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner:-ms-input-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner[type=password]::-ms-reveal{display:none}.el-input__prefix{display:inline-flex;white-space:nowrap;flex-shrink:0;flex-wrap:nowrap;height:100%;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__prefix-inner{pointer-events:all;display:inline-flex;align-items:center;justify-content:center}.el-input__prefix-inner>:last-child{margin-right:8px}.el-input__prefix-inner>:first-child,.el-input__prefix-inner>:first-child.el-input__icon{margin-left:0}.el-input__suffix{display:inline-flex;white-space:nowrap;flex-shrink:0;flex-wrap:nowrap;height:100%;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__suffix-inner{pointer-events:all;display:inline-flex;align-items:center;justify-content:center}.el-input__suffix-inner>:first-child{margin-left:8px}.el-input .el-input__icon{height:inherit;line-height:inherit;display:flex;justify-content:center;align-items:center;transition:all var(--el-transition-duration);margin-left:8px}.el-input__validateIcon{pointer-events:none}.el-input.is-active .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-color,) inset}.el-input.is-disabled{cursor:not-allowed}.el-input.is-disabled .el-input__wrapper{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset}.el-input.is-disabled .el-input__inner{color:var(--el-disabled-text-color);-webkit-text-fill-color:var(--el-disabled-text-color);cursor:not-allowed}.el-input.is-disabled .el-input__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner::placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-input.is-exceed .el-input__wrapper{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-input.is-exceed .el-input__suffix .el-input__count{color:var(--el-color-danger)}.el-input--large{--el-input-height:var(--el-component-size-large);font-size:14px}.el-input--large .el-input__wrapper{padding:1px 15px}.el-input--large .el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 40px) - 2px)}.el-input--small{--el-input-height:var(--el-component-size-small);font-size:12px}.el-input--small .el-input__wrapper{padding:1px 7px}.el-input--small .el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 24px) - 2px)}.el-input-group{display:inline-flex;width:100%;align-items:stretch}.el-input-group__append,.el-input-group__prepend{background-color:var(--el-fill-color-light);color:var(--el-color-info);position:relative;display:inline-flex;align-items:center;justify-content:center;min-height:100%;border-radius:var(--el-input-border-radius);padding:0 20px;white-space:nowrap}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:0}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;margin:0 -20px}.el-input-group__append button.el-button,.el-input-group__append button.el-button:hover,.el-input-group__append div.el-select .el-input__wrapper,.el-input-group__append div.el-select:hover .el-input__wrapper,.el-input-group__prepend button.el-button,.el-input-group__prepend button.el-button:hover,.el-input-group__prepend div.el-select .el-input__wrapper,.el-input-group__prepend div.el-select:hover .el-input__wrapper{border-color:transparent;background-color:transparent;color:inherit}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group__append{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--prepend>.el-input__wrapper{border-top-left-radius:0;border-bottom-left-radius:0}.el-input-group--prepend .el-input-group__prepend .el-select .el-input .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select .el-input .el-input__wrapper{border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__wrapper{box-shadow:1px 0 0 0 var(--el-input-focus-border-color) inset,1px 0 0 0 var(--el-input-focus-border-color),0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important;z-index:2}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__wrapper:focus{outline:0;z-index:2;box-shadow:1px 0 0 0 var(--el-input-focus-border-color) inset,1px 0 0 0 var(--el-input-focus-border-color),0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important}.el-input-group--prepend .el-input-group__prepend .el-select:hover .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select:hover .el-input__wrapper{z-index:1;box-shadow:1px 0 0 0 var(--el-input-hover-border-color) inset,1px 0 0 0 var(--el-input-hover-border-color),0 1px 0 0 var(--el-input-hover-border-color) inset,0 -1px 0 0 var(--el-input-hover-border-color) inset!important}.el-input-group--append>.el-input__wrapper{border-top-right-radius:0;border-bottom-right-radius:0}.el-input-group--append .el-input-group__append .el-select .el-input .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select .el-input .el-input__wrapper{border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--append .el-input-group__append .el-select .el-input.is-focus .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select .el-input.is-focus .el-input__wrapper{z-index:2;box-shadow:-1px 0 0 0 var(--el-input-focus-border-color),-1px 0 0 0 var(--el-input-focus-border-color) inset,0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important}.el-input-group--append .el-input-group__append .el-select:hover .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select:hover .el-input__wrapper{z-index:1;box-shadow:-1px 0 0 0 var(--el-input-hover-border-color),-1px 0 0 0 var(--el-input-hover-border-color) inset,0 1px 0 0 var(--el-input-hover-border-color) inset,0 -1px 0 0 var(--el-input-hover-border-color) inset!important}.el-tag{--el-tag-font-size:12px;--el-tag-border-radius:4px;--el-tag-border-radius-rounded:9999px}.el-tag{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary);--el-tag-text-color:var(--el-color-primary);background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);color:var(--el-tag-text-color);display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:24px;padding:0 9px;font-size:var(--el-tag-font-size);line-height:1;border-width:1px;border-style:solid;border-radius:var(--el-tag-border-radius);box-sizing:border-box;white-space:nowrap;--el-icon-size:14px}.el-tag.el-tag--primary{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-bg-color:var(--el-color-success-light-9);--el-tag-border-color:var(--el-color-success-light-8);--el-tag-hover-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-bg-color:var(--el-color-warning-light-9);--el-tag-border-color:var(--el-color-warning-light-8);--el-tag-hover-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-bg-color:var(--el-color-danger-light-9);--el-tag-border-color:var(--el-color-danger-light-8);--el-tag-hover-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-bg-color:var(--el-color-error-light-9);--el-tag-border-color:var(--el-color-error-light-8);--el-tag-hover-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-bg-color:var(--el-color-info-light-9);--el-tag-border-color:var(--el-color-info-light-8);--el-tag-hover-color:var(--el-color-info)}.el-tag.el-tag--primary{--el-tag-text-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-text-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-text-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-text-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-text-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-text-color:var(--el-color-info)}.el-tag.is-hit{border-color:var(--el-color-primary)}.el-tag.is-round{border-radius:var(--el-tag-border-radius-rounded)}.el-tag .el-tag__close{color:var(--el-tag-text-color)}.el-tag .el-tag__close:hover{color:var(--el-color-white);background-color:var(--el-tag-hover-color)}.el-tag .el-icon{border-radius:50%;cursor:pointer;font-size:calc(var(--el-icon-size) - 2px);height:var(--el-icon-size);width:var(--el-icon-size)}.el-tag .el-tag__close{margin-left:6px}.el-tag--dark{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3);--el-tag-text-color:var(--el-color-white)}.el-tag--dark.el-tag--primary{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3)}.el-tag--dark.el-tag--success{--el-tag-bg-color:var(--el-color-success);--el-tag-border-color:var(--el-color-success);--el-tag-hover-color:var(--el-color-success-light-3)}.el-tag--dark.el-tag--warning{--el-tag-bg-color:var(--el-color-warning);--el-tag-border-color:var(--el-color-warning);--el-tag-hover-color:var(--el-color-warning-light-3)}.el-tag--dark.el-tag--danger{--el-tag-bg-color:var(--el-color-danger);--el-tag-border-color:var(--el-color-danger);--el-tag-hover-color:var(--el-color-danger-light-3)}.el-tag--dark.el-tag--error{--el-tag-bg-color:var(--el-color-error);--el-tag-border-color:var(--el-color-error);--el-tag-hover-color:var(--el-color-error-light-3)}.el-tag--dark.el-tag--info{--el-tag-bg-color:var(--el-color-info);--el-tag-border-color:var(--el-color-info);--el-tag-hover-color:var(--el-color-info-light-3)}.el-tag--dark.el-tag--primary,.el-tag--dark.el-tag--success,.el-tag--dark.el-tag--warning,.el-tag--dark.el-tag--danger,.el-tag--dark.el-tag--error,.el-tag--dark.el-tag--info{--el-tag-text-color:var(--el-color-white)}.el-tag--plain{--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary);--el-tag-bg-color:var(--el-fill-color-blank)}.el-tag--plain.el-tag--primary{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary)}.el-tag--plain.el-tag--success{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-success-light-5);--el-tag-hover-color:var(--el-color-success)}.el-tag--plain.el-tag--warning{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-warning-light-5);--el-tag-hover-color:var(--el-color-warning)}.el-tag--plain.el-tag--danger{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-danger-light-5);--el-tag-hover-color:var(--el-color-danger)}.el-tag--plain.el-tag--error{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-error-light-5);--el-tag-hover-color:var(--el-color-error)}.el-tag--plain.el-tag--info{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-info-light-5);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-closable{padding-right:5px}.el-tag--large{padding:0 11px;height:32px;--el-icon-size:16px}.el-tag--large .el-tag__close{margin-left:8px}.el-tag--large.is-closable{padding-right:7px}.el-tag--small{padding:0 7px;height:20px;--el-icon-size:12px}.el-tag--small .el-tag__close{margin-left:4px}.el-tag--small.is-closable{padding-right:3px}.el-tag--small .el-icon-close{transform:scale(.8)}.el-tag.el-tag--primary.is-hit{border-color:var(--el-color-primary)}.el-tag.el-tag--success.is-hit{border-color:var(--el-color-success)}.el-tag.el-tag--warning.is-hit{border-color:var(--el-color-warning)}.el-tag.el-tag--danger.is-hit{border-color:var(--el-color-danger)}.el-tag.el-tag--error.is-hit{border-color:var(--el-color-error)}.el-tag.el-tag--info.is-hit{border-color:var(--el-color-info)}.el-select-dropdown__item{font-size:var(--el-font-size-base);padding:0 32px 0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--el-text-color-regular);height:34px;line-height:34px;box-sizing:border-box;cursor:pointer}.el-select-dropdown__item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown__item.hover,.el-select-dropdown__item:hover{background-color:var(--el-fill-color-light)}.el-select-dropdown__item.selected{color:var(--el-color-primary);font-weight:700}.el-select-group{margin:0;padding:0}.el-select-group__wrap{position:relative;list-style:none;margin:0;padding:0}.el-select-group__wrap:not(:last-of-type){padding-bottom:24px}.el-select-group__wrap:not(:last-of-type):after{content:\"\";position:absolute;display:block;left:20px;right:20px;bottom:12px;height:1px;background:var(--el-border-color-light)}.el-select-group__split-dash{position:absolute;left:20px;right:20px;height:1px;background:var(--el-border-color-light)}.el-select-group__title{padding-left:20px;font-size:12px;color:var(--el-color-info);line-height:30px}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-scrollbar{--el-scrollbar-opacity:.3;--el-scrollbar-bg-color:var(--el-text-color-secondary);--el-scrollbar-hover-opacity:.5;--el-scrollbar-hover-bg-color:var(--el-text-color-secondary)}.el-scrollbar{overflow:hidden;position:relative;height:100%}.el-scrollbar__wrap{overflow:auto;height:100%}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{display:none}.el-scrollbar__thumb{position:relative;display:block;width:0;height:0;cursor:pointer;border-radius:inherit;background-color:var(--el-scrollbar-bg-color,var(--el-text-color-secondary));transition:var(--el-transition-duration) background-color;opacity:var(--el-scrollbar-opacity,.3)}.el-scrollbar__thumb:hover{background-color:var(--el-scrollbar-hover-bg-color,var(--el-text-color-secondary));opacity:var(--el-scrollbar-hover-opacity,.5)}.el-scrollbar__bar{position:absolute;right:2px;bottom:2px;z-index:1;border-radius:4px}.el-scrollbar__bar.is-vertical{width:6px;top:2px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-scrollbar-fade-enter-active{transition:opacity .34s ease-out}.el-scrollbar-fade-leave-active{transition:opacity .12s ease-out}.el-scrollbar-fade-enter-from,.el-scrollbar-fade-leave-active{opacity:0}.el-popper{--el-popper-border-radius:var(--el-popover-border-radius, 4px)}.el-popper{position:absolute;border-radius:var(--el-popper-border-radius);padding:5px 11px;z-index:2000;font-size:12px;line-height:20px;min-width:10px;word-wrap:break-word;visibility:visible}.el-popper.is-dark{color:var(--el-bg-color);background:var(--el-text-color-primary);border:1px solid var(--el-text-color-primary)}.el-popper.is-dark .el-popper__arrow:before{border:1px solid var(--el-text-color-primary);background:var(--el-text-color-primary);right:0}.el-popper.is-light{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light)}.el-popper.is-light .el-popper__arrow:before{border:1px solid var(--el-border-color-light);background:var(--el-bg-color-overlay);right:0}.el-popper.is-pure{padding:0}.el-popper__arrow{position:absolute;width:10px;height:10px;z-index:-1}.el-popper__arrow:before{position:absolute;width:10px;height:10px;z-index:-1;content:\" \";transform:rotate(45deg);background:var(--el-text-color-primary);box-sizing:border-box}.el-popper[data-popper-placement^=top]>.el-popper__arrow{bottom:-5px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-bottom-right-radius:2px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow{top:-5px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-top-left-radius:2px}.el-popper[data-popper-placement^=left]>.el-popper__arrow{right:-5px}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-top-right-radius:2px}.el-popper[data-popper-placement^=right]>.el-popper__arrow{left:-5px}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-bottom-left-radius:2px}.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent!important;border-left-color:transparent!important}.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent!important;border-right-color:transparent!important}.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent!important;border-bottom-color:transparent!important}.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent!important;border-top-color:transparent!important}.el-select-dropdown{z-index:calc(var(--el-index-top) + 1);border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected{color:var(--el-color-primary);background-color:var(--el-bg-color-overlay)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover{background-color:var(--el-fill-color-light)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected:after{content:\"\";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:center;background-color:var(--el-color-primary);-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask-size:100% 100%;-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.is-disabled:after{background-color:var(--el-text-color-disabled)}.el-select-dropdown .el-select-dropdown__option-item.is-selected:after{content:\"\";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:center;background-color:var(--el-color-primary);-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;mask-size:100% 100%;-webkit-mask:url(\"data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E\") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown .el-select-dropdown__item.is-disabled:hover{background-color:unset}.el-select-dropdown .el-select-dropdown__item.is-disabled.selected{color:var(--el-text-color-disabled)}.el-select-dropdown__empty{padding:10px 0;margin:0;text-align:center;color:var(--el-text-color-secondary);font-size:var(--el-select-font-size)}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{list-style:none;padding:6px 0;margin:0;box-sizing:border-box}.el-select-dropdown__header{padding:10px;border-bottom:1px solid var(--el-border-color-light)}.el-select-dropdown__footer{padding:10px;border-top:1px solid var(--el-border-color-light)}.el-select{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px}.el-select{display:inline-block;position:relative;vertical-align:middle;line-height:32px}.el-select__popper.el-popper{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light);box-shadow:var(--el-box-shadow-light)}.el-select__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-select__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent;border-left-color:transparent}.el-select__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-select__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent;border-bottom-color:transparent}.el-select__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-select .el-select-tags-wrapper.has-prefix{margin-left:6px}.el-select--large{line-height:40px}.el-select--large .el-select-tags-wrapper.has-prefix{margin-left:8px}.el-select--small{line-height:24px}.el-select--small .el-select-tags-wrapper.has-prefix{margin-left:4px}.el-select .el-select__tags>span{display:inline-block}.el-select:hover:not(.el-select--disabled) .el-input__wrapper{box-shadow:0 0 0 1px var(--el-select-border-color-hover) inset}.el-select .el-select__tags-text{display:inline-block;line-height:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-select .el-input__wrapper{cursor:pointer}.el-select .el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-select-input-focus-border-color) inset!important}.el-select .el-input__inner{cursor:pointer}.el-select .el-input{display:flex}.el-select .el-input .el-select__caret{color:var(--el-select-input-color);font-size:var(--el-select-input-font-size);transition:transform var(--el-transition-duration);transform:rotate(0);cursor:pointer}.el-select .el-input .el-select__caret.is-reverse{transform:rotate(-180deg)}.el-select .el-input .el-select__caret.is-show-close{font-size:var(--el-select-font-size);text-align:center;transform:rotate(0);border-radius:var(--el-border-radius-circle);color:var(--el-select-input-color);transition:var(--el-transition-color)}.el-select .el-input .el-select__caret.is-show-close:hover{color:var(--el-select-close-hover-color)}.el-select .el-input .el-select__caret.el-icon{position:relative;height:inherit;z-index:2}.el-select .el-input.is-disabled .el-input__wrapper{cursor:not-allowed}.el-select .el-input.is-disabled .el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-select-disabled-border) inset}.el-select .el-input.is-disabled .el-input__inner,.el-select .el-input.is-disabled .el-select__caret{cursor:not-allowed}.el-select .el-input.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-select-input-focus-border-color) inset!important}.el-select__input{border:none;outline:0;padding:0;margin-left:15px;color:var(--el-select-multiple-input-color);font-size:var(--el-select-font-size);-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;background-color:transparent}.el-select__input.is-disabled{cursor:not-allowed}.el-select__input--iOS{position:absolute;left:0;top:0;z-index:6}.el-select__input.is-small{height:14px}.el-select__close{cursor:pointer;position:absolute;top:8px;z-index:var(--el-index-top);right:25px;color:var(--el-select-input-color);line-height:18px;font-size:var(--el-select-input-font-size)}.el-select__close:hover{color:var(--el-select-close-hover-color)}.el-select__tags{position:absolute;line-height:normal;top:50%;transform:translateY(-50%);white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap;cursor:pointer}.el-select__tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select__tags .el-tag:last-child{margin-right:0}.el-select__tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select__tags .el-tag .el-icon-close:before{display:block;transform:translateY(.5px)}.el-select__tags .el-tag--info{background-color:var(--el-fill-color)}.el-select__tags.is-disabled{cursor:not-allowed}.el-select__collapse-tags{white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap;cursor:pointer}.el-select__collapse-tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select__collapse-tags .el-tag:last-child{margin-right:0}.el-select__collapse-tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select__collapse-tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select__collapse-tags .el-tag .el-icon-close:before{display:block;transform:translateY(.5px)}.el-select__collapse-tags .el-tag--info{background-color:var(--el-fill-color)}.el-select__collapse-tag{line-height:inherit;height:inherit;display:flex}.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.fade-in-linear-enter-from,.fade-in-linear-leave-to{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.el-fade-in-linear-enter-from,.el-fade-in-linear-leave-to{opacity:0}.el-fade-in-enter-active,.el-fade-in-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-fade-in-enter-from,.el-fade-in-leave-active{opacity:0}.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter-from,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center top}.el-zoom-in-top-enter-active[data-popper-placement^=top],.el-zoom-in-top-leave-active[data-popper-placement^=top]{transform-origin:center bottom}.el-zoom-in-top-enter-from,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center bottom}.el-zoom-in-bottom-enter-from,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1);transition:var(--el-transition-md-fade);transform-origin:top left}.el-zoom-in-left-enter-from,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45)}.collapse-transition{transition:var(--el-transition-duration) height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.el-collapse-transition-enter-active,.el-collapse-transition-leave-active{transition:var(--el-transition-duration) max-height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.horizontal-collapse-transition{transition:var(--el-transition-duration) width ease-in-out,var(--el-transition-duration) padding-left ease-in-out,var(--el-transition-duration) padding-right ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter-from,.el-list-leave-to{opacity:0;transform:translateY(-30px)}.el-list-leave-active{position:absolute!important}.el-opacity-transition{transition:opacity var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-collapse{--el-collapse-border-color:var(--el-border-color-lighter);--el-collapse-header-height:48px;--el-collapse-header-bg-color:var(--el-fill-color-blank);--el-collapse-header-text-color:var(--el-text-color-primary);--el-collapse-header-font-size:13px;--el-collapse-content-bg-color:var(--el-fill-color-blank);--el-collapse-content-font-size:13px;--el-collapse-content-text-color:var(--el-text-color-primary);border-top:1px solid var(--el-collapse-border-color);border-bottom:1px solid var(--el-collapse-border-color)}.el-collapse-item.is-disabled .el-collapse-item__header{color:var(--el-text-color-disabled);cursor:not-allowed}.el-collapse-item__header{width:100%;padding:0;border:none;display:flex;align-items:center;height:var(--el-collapse-header-height);line-height:var(--el-collapse-header-height);background-color:var(--el-collapse-header-bg-color);color:var(--el-collapse-header-text-color);cursor:pointer;border-bottom:1px solid var(--el-collapse-border-color);font-size:var(--el-collapse-header-font-size);font-weight:500;transition:border-bottom-color var(--el-transition-duration);outline:0}.el-collapse-item__arrow{margin:0 8px 0 auto;transition:transform var(--el-transition-duration);font-weight:300}.el-collapse-item__arrow.is-active{transform:rotate(90deg)}.el-collapse-item__header.focusing:focus:not(:hover){color:var(--el-color-primary)}.el-collapse-item__header.is-active{border-bottom-color:transparent}.el-collapse-item__wrap{will-change:height;background-color:var(--el-collapse-content-bg-color);overflow:hidden;box-sizing:border-box;border-bottom:1px solid var(--el-collapse-border-color)}.el-collapse-item__content{padding-bottom:25px;font-size:var(--el-collapse-content-font-size);color:var(--el-collapse-content-text-color);line-height:1.7692307692}.el-collapse-item:last-child{margin-bottom:-1px}.el-checkbox{--el-checkbox-font-size:14px;--el-checkbox-font-weight:var(--el-font-weight-primary);--el-checkbox-text-color:var(--el-text-color-regular);--el-checkbox-input-height:14px;--el-checkbox-input-width:14px;--el-checkbox-border-radius:var(--el-border-radius-small);--el-checkbox-bg-color:var(--el-fill-color-blank);--el-checkbox-input-border:var(--el-border);--el-checkbox-disabled-border-color:var(--el-border-color);--el-checkbox-disabled-input-fill:var(--el-fill-color-light);--el-checkbox-disabled-icon-color:var(--el-text-color-placeholder);--el-checkbox-disabled-checked-input-fill:var(--el-border-color-extra-light);--el-checkbox-disabled-checked-input-border-color:var(--el-border-color);--el-checkbox-disabled-checked-icon-color:var(--el-text-color-placeholder);--el-checkbox-checked-text-color:var(--el-color-primary);--el-checkbox-checked-input-border-color:var(--el-color-primary);--el-checkbox-checked-bg-color:var(--el-color-primary);--el-checkbox-checked-icon-color:var(--el-color-white);--el-checkbox-input-border-color-hover:var(--el-color-primary)}.el-checkbox{color:var(--el-checkbox-text-color);font-weight:var(--el-checkbox-font-weight);font-size:var(--el-font-size-base);position:relative;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:30px;height:var(--el-checkbox-height,32px)}.el-checkbox.is-disabled{cursor:not-allowed}.el-checkbox.is-bordered{padding:0 15px 0 9px;border-radius:var(--el-border-radius-base);border:var(--el-border);box-sizing:border-box}.el-checkbox.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-checkbox.is-bordered.is-disabled{border-color:var(--el-border-color-lighter)}.el-checkbox.is-bordered.el-checkbox--large{padding:0 19px 0 11px;border-radius:var(--el-border-radius-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__label{font-size:var(--el-font-size-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.is-bordered.el-checkbox--small{padding:0 11px 0 7px;border-radius:calc(var(--el-border-radius-base) - 1px)}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox input:focus-visible+.el-checkbox__inner{outline:2px solid var(--el-checkbox-input-border-color-hover);outline-offset:1px;border-radius:var(--el-checkbox-border-radius)}.el-checkbox__input{white-space:nowrap;cursor:pointer;outline:0;display:inline-flex;position:relative}.el-checkbox__input.is-disabled .el-checkbox__inner{background-color:var(--el-checkbox-disabled-input-fill);border-color:var(--el-checkbox-disabled-border-color);cursor:not-allowed}.el-checkbox__input.is-disabled .el-checkbox__inner:after{cursor:not-allowed;border-color:var(--el-checkbox-disabled-icon-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner:after{border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner:before{background-color:var(--el-checkbox-disabled-checked-icon-color);border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled+span.el-checkbox__label{color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox__input.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-checked .el-checkbox__inner:after{transform:rotate(45deg) scaleY(1);border-color:var(--el-checkbox-checked-icon-color)}.el-checkbox__input.is-checked+.el-checkbox__label{color:var(--el-checkbox-checked-text-color)}.el-checkbox__input.is-focus:not(.is-checked) .el-checkbox__original:not(:focus-visible){border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-indeterminate .el-checkbox__inner:before{content:\"\";position:absolute;display:block;background-color:var(--el-checkbox-checked-icon-color);height:2px;transform:scale(.5);left:0;right:0;top:5px}.el-checkbox__input.is-indeterminate .el-checkbox__inner:after{display:none}.el-checkbox__inner{display:inline-block;position:relative;border:var(--el-checkbox-input-border);border-radius:var(--el-checkbox-border-radius);box-sizing:border-box;width:var(--el-checkbox-input-width);height:var(--el-checkbox-input-height);background-color:var(--el-checkbox-bg-color);z-index:var(--el-index-normal);transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46),outline .25s cubic-bezier(.71,-.46,.29,1.46)}.el-checkbox__inner:hover{border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__inner:after{box-sizing:content-box;content:\"\";border:1px solid transparent;border-left:0;border-top:0;height:7px;left:4px;position:absolute;top:1px;transform:rotate(45deg) scaleY(0);width:3px;transition:transform .15s ease-in 50ms;transform-origin:center}.el-checkbox__original{opacity:0;outline:0;position:absolute;margin:0;width:0;height:0;z-index:-1}.el-checkbox__label{display:inline-block;padding-left:8px;line-height:1;font-size:var(--el-checkbox-font-size)}.el-checkbox.el-checkbox--large{height:40px}.el-checkbox.el-checkbox--large .el-checkbox__label{font-size:14px}.el-checkbox.el-checkbox--large .el-checkbox__inner{width:14px;height:14px}.el-checkbox.el-checkbox--small{height:24px}.el-checkbox.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.el-checkbox--small .el-checkbox__inner{width:12px;height:12px}.el-checkbox.el-checkbox--small .el-checkbox__input.is-indeterminate .el-checkbox__inner:before{top:4px}.el-checkbox.el-checkbox--small .el-checkbox__inner:after{width:2px;height:6px}.el-checkbox:last-of-type{margin-right:0}.el-switch{--el-switch-on-color:var(--el-color-primary);--el-switch-off-color:var(--el-border-color)}.el-switch{display:inline-flex;align-items:center;position:relative;font-size:14px;line-height:20px;height:32px;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{transition:var(--el-transition-duration-fast);height:20px;display:inline-block;font-size:14px;font-weight:500;cursor:pointer;vertical-align:middle;color:var(--el-text-color-primary)}.el-switch__label.is-active{color:var(--el-color-primary)}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{line-height:1;font-size:14px;display:inline-block}.el-switch__label .el-icon{height:inherit}.el-switch__label .el-icon svg{vertical-align:middle}.el-switch__input{position:absolute;width:0;height:0;opacity:0;margin:0}.el-switch__input:focus-visible~.el-switch__core{outline:2px solid var(--el-switch-on-color);outline-offset:1px}.el-switch__core{display:inline-flex;position:relative;align-items:center;min-width:40px;height:20px;border:1px solid var(--el-switch-border-color,var(--el-switch-off-color));outline:0;border-radius:10px;box-sizing:border-box;background:var(--el-switch-off-color);cursor:pointer;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration)}.el-switch__core .el-switch__inner{width:100%;transition:all var(--el-transition-duration);height:16px;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:0 4px 0 18px}.el-switch__core .el-switch__inner .is-icon,.el-switch__core .el-switch__inner .is-text{font-size:12px;color:var(--el-color-white);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-switch__core .el-switch__action{position:absolute;left:1px;border-radius:var(--el-border-radius-circle);transition:all var(--el-transition-duration);width:16px;height:16px;background-color:var(--el-color-white);display:flex;justify-content:center;align-items:center;color:var(--el-switch-off-color)}.el-switch.is-checked .el-switch__core{border-color:var(--el-switch-border-color,var(--el-switch-on-color));background-color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__action{left:calc(100% - 17px);color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__inner{padding:0 18px 0 4px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter-from,.el-switch .label-fade-leave-active{opacity:0}.el-switch--large{font-size:14px;line-height:24px;height:40px}.el-switch--large .el-switch__label{height:24px;font-size:14px}.el-switch--large .el-switch__label *{font-size:14px}.el-switch--large .el-switch__core{min-width:50px;height:24px;border-radius:12px}.el-switch--large .el-switch__core .el-switch__inner{height:20px;padding:0 6px 0 22px}.el-switch--large .el-switch__core .el-switch__action{width:20px;height:20px}.el-switch--large.is-checked .el-switch__core .el-switch__action{left:calc(100% - 21px)}.el-switch--large.is-checked .el-switch__core .el-switch__inner{padding:0 22px 0 6px}.el-switch--small{font-size:12px;line-height:16px;height:24px}.el-switch--small .el-switch__label{height:16px;font-size:12px}.el-switch--small .el-switch__label *{font-size:12px}.el-switch--small .el-switch__core{min-width:30px;height:16px;border-radius:8px}.el-switch--small .el-switch__core .el-switch__inner{height:12px;padding:0 2px 0 14px}.el-switch--small .el-switch__core .el-switch__action{width:12px;height:12px}.el-switch--small.is-checked .el-switch__core .el-switch__action{left:calc(100% - 13px)}.el-switch--small.is-checked .el-switch__core .el-switch__inner{padding:0 14px 0 2px}.login-page[data-v-db65543f]{height:100vh;background-color:#fff}.login-page .page[data-v-db65543f]{height:100%}.login-page .page .head[data-v-db65543f]{padding:10px}.login-page .page .head .title[data-v-db65543f]{color:#000;margin:auto auto auto 10%}.login-page .page .main[data-v-db65543f]{height:100%}.login-page .page .main .mapcontext[data-v-db65543f]{height:100%;padding:0}.login-page .page .main .aside[data-v-db65543f]{text-align:center;padding:0;margin-top:15px}.login-page .page .main .aside .el-input__wrapper[data-v-db65543f]{max-width:100px}.map-container[data-v-db65543f]{box-sizing:border-box;height:100%}.ol-popup[data-v-db65543f]{position:absolute;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.2);padding:15px;border-radius:10px;border:1px solid #cccccc;bottom:12px;left:-50px;min-width:280px}.ol-popup[data-v-db65543f]:before,.ol-popup[data-v-db65543f]:after{top:100%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}.ol-popup[data-v-db65543f]:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup[data-v-db65543f]:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer[data-v-db65543f]{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer[data-v-db65543f]:after{content:\"✖\"}.checkbox[data-v-db65543f]{display:flex;flex-direction:column;align-items:center}.checkbox .el-checkbox--large[data-v-db65543f]{padding:0;margin:0;width:80px}.el-collapse[data-v-db65543f]{width:200px;margin:auto;border:none}.el-collapse .el-collapse-item-title[data-v-db65543f]{font-size:16px;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,微软雅黑,Arial,sans-serif}.el-collapse .el-collapse-item[data-v-db65543f]{border:none}\n",document.head.appendChild(_e);const ve=(e,t,{checkForDefaultPrevented:i=!0}={})=>n=>{const o=null==e?void 0:e(n);if(!1===i||!o)return null==t?void 0:t(n)};var ye;const xe="undefined"!=typeof window,be=e=>"string"==typeof e,we=()=>{},Ce=xe&&(null==(ye=null==window?void 0:window.navigator)?void 0:ye.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Se(e){return"function"==typeof e?e():o(e)}function Ee(e){return!!i()&&(n(e),!0)}function ke(e){var t;const i=Se(e);return null!=(t=null==i?void 0:i.$el)?t:i}const Te=xe?window:void 0;function Ie(...e){let t,i,n,o;if(be(e[0])||Array.isArray(e[0])?([i,n,o]=e,t=Te):[t,i,n,o]=e,!t)return we;Array.isArray(i)||(i=[i]),Array.isArray(n)||(n=[n]);const r=[],s=()=>{r.forEach((e=>e())),r.length=0},a=l((()=>[ke(t),Se(o)]),(([e,t])=>{s(),e&&r.push(...i.flatMap((i=>n.map((n=>((e,t,i,n)=>(e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)))(e,i,n,t))))))}),{immediate:!0,flush:"post"}),c=()=>{a(),s()};return Ee(c),c}let Re=!1;function Me(e,t=!1){const i=c(),n=()=>i.value=Boolean(e());return n(),function(e,t=!0){r()?s(e):t?e():a(e)}(n,t),i}const Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Le="__vueuse_ssr_handlers__";Pe[Le]=Pe[Le]||{};var Oe,Fe,Ae=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;function Ne(e,t,i={}){const n=i,{window:o=Te}=n,r=((e,t)=>{var i={};for(var n in e)De.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&Ae)for(var n of Ae(e))t.indexOf(n)<0&&ze.call(e,n)&&(i[n]=e[n]);return i})(n,["window"]);let s;const a=Me((()=>o&&"ResizeObserver"in o)),c=()=>{s&&(s.disconnect(),s=void 0)},h=l((()=>ke(e)),(e=>{c(),a.value&&o&&e&&(s=new ResizeObserver(t),s.observe(e,r))}),{immediate:!0,flush:"post"}),u=()=>{c(),h()};return Ee(u),{isSupported:a,stop:u}}(Fe=Oe||(Oe={})).UP="UP",Fe.RIGHT="RIGHT",Fe.DOWN="DOWN",Fe.LEFT="LEFT",Fe.NONE="NONE";var je=Object.defineProperty,Be=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,We=(e,t,i)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;((e,t)=>{for(var i in t||(t={}))Ge.call(t,i)&&We(e,i,t[i]);if(Be)for(var i of Be(t))Ve.call(t,i)&&We(e,i,t[i])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Ke="object"==typeof global&&global&&global.Object===Object&&global;var Xe="object"==typeof self&&self&&self.Object===Object&&self;const Ye=Ke||Xe||Function("return this")(),He=Ye.Symbol;var qe=Object.prototype,$e=qe.hasOwnProperty,Ue=qe.toString,Ze=He?He.toStringTag:void 0,Je=Object.prototype.toString,Qe="[object Null]",et="[object Undefined]",tt=He?He.toStringTag:void 0;function it(e){return null==e?void 0===e?et:Qe:tt&&tt in Object(e)?function(e){var t=$e.call(e,Ze),i=e[Ze];try{e[Ze]=void 0;var n=!0}catch(r){}var o=Ue.call(e);return n&&(t?e[Ze]=i:delete e[Ze]),o}(e):function(e){return Je.call(e)}(e)}function nt(e){return null!=e&&"object"==typeof e}var ot="[object Symbol]";function rt(e){return"symbol"==typeof e||nt(e)&&it(e)==ot}const st=Array.isArray;var at=1/0,lt=He?He.prototype:void 0,ct=lt?lt.toString:void 0;function ht(e){if("string"==typeof e)return e;if(st(e))return function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}(e,ht)+"";if(rt(e))return ct?ct.call(e):"";var t=e+"";return"0"==t&&1/e==-at?"-0":t}var ut=/\s/,dt=/^\s+/;function pt(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ut.test(e.charAt(t)););return t}(e)+1).replace(dt,""):e}function gt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ft=NaN,mt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,vt=/^0o[0-7]+$/i,yt=parseInt;function xt(e){if("number"==typeof e)return e;if(rt(e))return ft;if(gt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=gt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=pt(e);var i=_t.test(e);return i||vt.test(e)?yt(e.slice(2),i?2:8):mt.test(e)?ft:+e}var bt=1/0,wt=17976931348623157e292;function Ct(e){var t=function(e){return e?(e=xt(e))===bt||e===-bt?(e<0?-1:1)*wt:e==e?e:0:0===e?e:0}(e),i=t%1;return t==t?i?t-i:t:0}function St(e){return e}var Et="[object AsyncFunction]",kt="[object Function]",Tt="[object GeneratorFunction]",It="[object Proxy]";function Rt(e){if(!gt(e))return!1;var t=it(e);return t==kt||t==Tt||t==Et||t==It}const Mt=Ye["__core-js_shared__"];var Pt,Lt=(Pt=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+Pt:"",Ot=Function.prototype.toString;function Ft(e){if(null!=e){try{return Ot.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var At=/^\[object .+?Constructor\]$/,Dt=Function.prototype,zt=Object.prototype,Nt=Dt.toString,jt=zt.hasOwnProperty,Bt=RegExp("^"+Nt.call(jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gt(e){return!(!gt(e)||(t=e,Lt&&Lt in t))&&(Rt(e)?Bt:At).test(Ft(e));var t}function Vt(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Gt(i)?i:void 0}const Wt=Vt(Ye,"WeakMap");var Kt=Date.now,Xt=function(){try{var e=Vt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Yt=Xt;var Ht,qt,$t,Ut=Yt?function(e,t){return Yt(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:St,Zt=(Ht=Ut,qt=0,$t=0,function(){var e=Kt(),t=16-(e-$t);if($t=e,t>0){if(++qt>=800)return arguments[0]}else qt=0;return Ht.apply(void 0,arguments)});const Jt=Zt;var Qt=9007199254740991,ei=/^(?:0|[1-9]\d*)$/;function ti(e,t){var i=typeof e;return!!(t=null==t?Qt:t)&&("number"==i||"symbol"!=i&&ei.test(e))&&e>-1&&e%1==0&&e<t}function ii(e,t){return e===t||e!=e&&t!=t}var ni=Object.prototype.hasOwnProperty;function oi(e,t,i){var n=e[t];ni.call(e,t)&&ii(n,i)&&(void 0!==i||t in e)||function(e,t,i){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}(e,t,i)}var ri=Math.max,si=9007199254740991;function ai(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=si}var li=Object.prototype;function ci(e){return nt(e)&&"[object Arguments]"==it(e)}var hi=Object.prototype,ui=hi.hasOwnProperty,di=hi.propertyIsEnumerable,pi=ci(function(){return arguments}())?ci:function(e){return nt(e)&&ui.call(e,"callee")&&!di.call(e,"callee")};const gi=pi;var fi="object"==typeof e&&e&&!e.nodeType&&e,mi=fi&&"object"==typeof t&&t&&!t.nodeType&&t,_i=mi&&mi.exports===fi?Ye.Buffer:void 0;const vi=(_i?_i.isBuffer:void 0)||function(){return!1};var yi={};yi["[object Float32Array]"]=yi["[object Float64Array]"]=yi["[object Int8Array]"]=yi["[object Int16Array]"]=yi["[object Int32Array]"]=yi["[object Uint8Array]"]=yi["[object Uint8ClampedArray]"]=yi["[object Uint16Array]"]=yi["[object Uint32Array]"]=!0,yi["[object Arguments]"]=yi["[object Array]"]=yi["[object ArrayBuffer]"]=yi["[object Boolean]"]=yi["[object DataView]"]=yi["[object Date]"]=yi["[object Error]"]=yi["[object Function]"]=yi["[object Map]"]=yi["[object Number]"]=yi["[object Object]"]=yi["[object RegExp]"]=yi["[object Set]"]=yi["[object String]"]=yi["[object WeakMap]"]=!1;var xi="object"==typeof e&&e&&!e.nodeType&&e,bi=xi&&"object"==typeof t&&t&&!t.nodeType&&t,wi=bi&&bi.exports===xi&&Ke.process,Ci=function(){try{var e=bi&&bi.require&&bi.require("util").types;return e||wi&&wi.binding&&wi.binding("util")}catch(t){}}(),Si=Ci&&Ci.isTypedArray,Ei=Si?function(e){return function(t){return e(t)}}(Si):function(e){return nt(e)&&ai(e.length)&&!!yi[it(e)]};const ki=Ei;var Ti=Object.prototype.hasOwnProperty;function Ii(e,t){var i=st(e),n=!i&&gi(e),o=!i&&!n&&vi(e),r=!i&&!n&&!o&&ki(e),s=i||n||o||r,a=s?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!Ti.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ti(c,l))||a.push(c);return a}var Ri=function(e,t){return function(i){return e(t(i))}}(Object.keys,Object);const Mi=Ri;var Pi=Object.prototype.hasOwnProperty;function Li(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||li))return Mi(e);var t,i,n=[];for(var o in Object(e))Pi.call(e,o)&&"constructor"!=o&&n.push(o);return n}function Oi(e){return null!=(t=e)&&ai(t.length)&&!Rt(t)?Ii(e):Li(e);var t}var Fi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ai=/^\w*$/;function Di(e,t){if(st(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!rt(e))||Ai.test(e)||!Fi.test(e)||null!=t&&e in Object(t)}const zi=Vt(Object,"create");var Ni=Object.prototype.hasOwnProperty,ji=Object.prototype.hasOwnProperty;function Bi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Gi(e,t){for(var i=e.length;i--;)if(ii(e[i][0],t))return i;return-1}Bi.prototype.clear=function(){this.__data__=zi?zi(null):{},this.size=0},Bi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bi.prototype.get=function(e){var t=this.__data__;if(zi){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return Ni.call(t,e)?t[e]:void 0},Bi.prototype.has=function(e){var t=this.__data__;return zi?void 0!==t[e]:ji.call(t,e)},Bi.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=zi&&void 0===t?"__lodash_hash_undefined__":t,this};var Vi=Array.prototype.splice;function Wi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Wi.prototype.clear=function(){this.__data__=[],this.size=0},Wi.prototype.delete=function(e){var t=this.__data__,i=Gi(t,e);return!(i<0||(i==t.length-1?t.pop():Vi.call(t,i,1),--this.size,0))},Wi.prototype.get=function(e){var t=this.__data__,i=Gi(t,e);return i<0?void 0:t[i][1]},Wi.prototype.has=function(e){return Gi(this.__data__,e)>-1},Wi.prototype.set=function(e,t){var i=this.__data__,n=Gi(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};const Ki=Vt(Ye,"Map");function Xi(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function Yi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Yi.prototype.clear=function(){this.size=0,this.__data__={hash:new Bi,map:new(Ki||Wi),string:new Bi}},Yi.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Yi.prototype.get=function(e){return Xi(this,e).get(e)},Yi.prototype.has=function(e){return Xi(this,e).has(e)},Yi.prototype.set=function(e,t){var i=Xi(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var Hi="Expected a function";function qi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Hi);var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(qi.Cache||Yi),i}qi.Cache=Yi;var $i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/\\(\\)?/g,Zi=function(e){var t=qi(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($i,(function(e,i,n,o){t.push(n?o.replace(Ui,"$1"):i||e)})),t}));const Ji=Zi;function Qi(e,t){return st(e)?e:Di(e,t)?[e]:Ji(function(e){return null==e?"":ht(e)}(e))}var en=1/0;function tn(e){if("string"==typeof e||rt(e))return e;var t=e+"";return"0"==t&&1/e==-en?"-0":t}function nn(e,t){for(var i=0,n=(t=Qi(t,e)).length;null!=e&&i<n;)e=e[tn(t[i++])];return i&&i==n?e:void 0}function on(e,t,i){var n=null==e?void 0:nn(e,t);return void 0===n?i:n}function rn(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}var sn=He?He.isConcatSpreadable:void 0;function an(e){return st(e)||gi(e)||!!(sn&&e&&e[sn])}function ln(e,t,i,n,o){var r=-1,s=e.length;for(i||(i=an),o||(o=[]);++r<s;){var a=e[r];t>0&&i(a)?t>1?ln(a,t-1,i,n,o):rn(o,a):n||(o[o.length]=a)}return o}function cn(e){return null!=e&&e.length?ln(e,1):[]}function hn(){if(!arguments.length)return[];var e=arguments[0];return st(e)?e:[e]}function un(e){var t=this.__data__=new Wi(e);this.size=t.size}un.prototype.clear=function(){this.__data__=new Wi,this.size=0},un.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},un.prototype.get=function(e){return this.__data__.get(e)},un.prototype.has=function(e){return this.__data__.has(e)},un.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Wi){var n=i.__data__;if(!Ki||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Yi(n)}return i.set(e,t),this.size=i.size,this};var dn=Object.prototype.propertyIsEnumerable,pn=Object.getOwnPropertySymbols;const gn=pn?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}(pn(e),(function(t){return dn.call(e,t)})))}:function(){return[]};function fn(e){return function(e,t,i){var n=t(e);return st(e)?n:rn(n,i(e))}(e,Oi,gn)}const mn=Vt(Ye,"DataView"),_n=Vt(Ye,"Promise"),vn=Vt(Ye,"Set");var yn="[object Map]",xn="[object Promise]",bn="[object Set]",wn="[object WeakMap]",Cn="[object DataView]",Sn=Ft(mn),En=Ft(Ki),kn=Ft(_n),Tn=Ft(vn),In=Ft(Wt),Rn=it;(mn&&Rn(new mn(new ArrayBuffer(1)))!=Cn||Ki&&Rn(new Ki)!=yn||_n&&Rn(_n.resolve())!=xn||vn&&Rn(new vn)!=bn||Wt&&Rn(new Wt)!=wn)&&(Rn=function(e){var t=it(e),i="[object Object]"==t?e.constructor:void 0,n=i?Ft(i):"";if(n)switch(n){case Sn:return Cn;case En:return yn;case kn:return xn;case Tn:return bn;case In:return wn}return t});const Mn=Rn,Pn=Ye.Uint8Array;function Ln(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Yi;++t<i;)this.add(e[t])}function On(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function Fn(e,t){return e.has(t)}Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)};var An=1,Dn=2;function zn(e,t,i,n,o,r){var s=i&An,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e),h=r.get(t);if(c&&h)return c==t&&h==e;var u=-1,d=!0,p=i&Dn?new Ln:void 0;for(r.set(e,t),r.set(t,e);++u<a;){var g=e[u],f=t[u];if(n)var m=s?n(f,g,u,t,e,r):n(g,f,u,e,t,r);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!On(t,(function(e,t){if(!Fn(p,t)&&(g===e||o(g,e,i,n,r)))return p.push(t)}))){d=!1;break}}else if(g!==f&&!o(g,f,i,n,r)){d=!1;break}}return r.delete(e),r.delete(t),d}function Nn(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function jn(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var Bn=1,Gn=2,Vn="[object Boolean]",Wn="[object Date]",Kn="[object Error]",Xn="[object Map]",Yn="[object Number]",Hn="[object RegExp]",qn="[object Set]",$n="[object String]",Un="[object Symbol]",Zn="[object ArrayBuffer]",Jn="[object DataView]",Qn=He?He.prototype:void 0,eo=Qn?Qn.valueOf:void 0,to=1,io=Object.prototype.hasOwnProperty,no=1,oo="[object Arguments]",ro="[object Array]",so="[object Object]",ao=Object.prototype.hasOwnProperty;function lo(e,t,i,n,o,r){var s=st(e),a=st(t),l=s?ro:Mn(e),c=a?ro:Mn(t),h=(l=l==oo?so:l)==so,u=(c=c==oo?so:c)==so,d=l==c;if(d&&vi(e)){if(!vi(t))return!1;s=!0,h=!1}if(d&&!h)return r||(r=new un),s||ki(e)?zn(e,t,i,n,o,r):function(e,t,i,n,o,r,s){switch(i){case Jn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zn:return!(e.byteLength!=t.byteLength||!r(new Pn(e),new Pn(t)));case Vn:case Wn:case Yn:return ii(+e,+t);case Kn:return e.name==t.name&&e.message==t.message;case Hn:case $n:return e==t+"";case Xn:var a=Nn;case qn:var l=n&Bn;if(a||(a=jn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=Gn,s.set(e,t);var h=zn(a(e),a(t),n,o,r,s);return s.delete(e),h;case Un:if(eo)return eo.call(e)==eo.call(t)}return!1}(e,t,l,i,n,o,r);if(!(i&no)){var p=h&&ao.call(e,"__wrapped__"),g=u&&ao.call(t,"__wrapped__");if(p||g){var f=p?e.value():e,m=g?t.value():t;return r||(r=new un),o(f,m,i,n,r)}}return!!d&&(r||(r=new un),function(e,t,i,n,o,r){var s=i&to,a=fn(e),l=a.length;if(l!=fn(t).length&&!s)return!1;for(var c=l;c--;){var h=a[c];if(!(s?h in t:io.call(t,h)))return!1}var u=r.get(e),d=r.get(t);if(u&&d)return u==t&&d==e;var p=!0;r.set(e,t),r.set(t,e);for(var g=s;++c<l;){var f=e[h=a[c]],m=t[h];if(n)var _=s?n(m,f,h,t,e,r):n(f,m,h,e,t,r);if(!(void 0===_?f===m||o(f,m,i,n,r):_)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return r.delete(e),r.delete(t),p}(e,t,i,n,o,r))}function co(e,t,i,n,o){return e===t||(null==e||null==t||!nt(e)&&!nt(t)?e!=e&&t!=t:lo(e,t,i,n,co,o))}var ho=1,uo=2;function po(e){return e==e&&!gt(e)}function go(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}}function fo(e){var t=function(e){for(var t=Oi(e),i=t.length;i--;){var n=t[i],o=e[n];t[i]=[n,o,po(o)]}return t}(e);return 1==t.length&&t[0][2]?go(t[0][0],t[0][1]):function(i){return i===e||function(e,t,i,n){var o=i.length,r=o,s=!n;if(null==e)return!r;for(e=Object(e);o--;){var a=i[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<r;){var l=(a=i[o])[0],c=e[l],h=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var u=new un;if(n)var d=n(c,h,l,e,t,u);if(!(void 0===d?co(h,c,ho|uo,n,u):d))return!1}}return!0}(i,e,t)}}function mo(e,t){return null!=e&&t in Object(e)}function _o(e,t){return null!=e&&function(e,t,i){for(var n=-1,o=(t=Qi(t,e)).length,r=!1;++n<o;){var s=tn(t[n]);if(!(r=null!=e&&i(e,s)))break;e=e[s]}return r||++n!=o?r:!!(o=null==e?0:e.length)&&ai(o)&&ti(s,o)&&(st(e)||gi(e))}(e,t,mo)}var vo=1,yo=2;function xo(e){return Di(e)?(t=tn(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return nn(t,e)}}(e);var t}function bo(e){return"function"==typeof e?e:null==e?St:"object"==typeof e?st(e)?(t=e[0],i=e[1],Di(t)&&po(i)?go(tn(t),i):function(e){var n=on(e,t);return void 0===n&&n===i?_o(e,t):co(i,n,vo|yo)}):fo(e):xo(e);var t,i}const wo=function(){return Ye.Date.now()};var Co=Math.max,So=Math.min;function Eo(e,t,i){var n,o,r,s,a,l,c=0,h=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,r=o;return n=o=void 0,c=t,s=e.apply(r,i)}function g(e){var i=e-l;return void 0===l||i>=t||i<0||u&&e-c>=r}function f(){var e=wo();if(g(e))return m(e);a=setTimeout(f,function(e){var i=t-(e-l);return u?So(i,r-(e-c)):i}(e))}function m(e){return a=void 0,d&&n?p(e):(n=o=void 0,s)}function _(){var e=wo(),i=g(e);if(n=arguments,o=this,l=e,i){if(void 0===a)return function(e){return c=e,a=setTimeout(f,t),h?p(e):s}(l);if(u)return clearTimeout(a),a=setTimeout(f,t),p(l)}return void 0===a&&(a=setTimeout(f,t)),s}return t=xt(t)||0,gt(i)&&(h=!!i.leading,r=(u="maxWait"in i)?Co(xt(i.maxWait)||0,t):r,d="trailing"in i?!!i.trailing:d),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=o=a=void 0},_.flush=function(){return void 0===a?s:m(wo())},_}var ko=Math.max,To=Math.min;function Io(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var o=e[t];n[o[0]]=o[1]}return n}function Ro(e,t){return co(e,t)}function Mo(e){return null==e}function Po(e,t,i,n){if(!gt(e))return e;for(var o=-1,r=(t=Qi(t,e)).length,s=r-1,a=e;null!=a&&++o<r;){var l=tn(t[o]),c=i;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var h=a[l];void 0===(c=n?n(h,l,a):void 0)&&(c=gt(h)?h:ti(t[o+1])?[]:{})}oi(a,l,c),a=a[l]}return e}function Lo(e,t){return function(e,t,i){for(var n=-1,o=t.length,r={};++n<o;){var s=t[n],a=nn(e,s);i(a,s)&&Po(r,Qi(s,e),a)}return r}(e,t,(function(t,i){return _o(e,i)}))}var Oo=function(e){return Jt(function(e,t,i){return t=ri(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,r=ri(n.length-t,0),s=Array(r);++o<r;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=i(s),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,void 0,cn),e+"")}((function(e,t){return null==e?{}:Lo(e,t)}));const Fo=Oo,Ao=e=>void 0===e,Do=e=>"boolean"==typeof e,zo=e=>"number"==typeof e,No=e=>"undefined"!=typeof Element&&e instanceof Element;class jo extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Bo(e,t){throw new jo(`[${e}] ${t}`)}function Go(e,t="px"){return e?zo(e)||h(i=e)&&!Number.isNaN(Number(i))?`${e}${t}`:h(e)?e:void 0:"";var i}/*! Element Plus Icons Vue v2.3.1 */var Vo=u({name:"ArrowDown",__name:"arrow-down",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}),Wo=u({name:"ArrowRight",__name:"arrow-right",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}),Ko=u({name:"CircleCheck",__name:"circle-check",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),g("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}),Xo=u({name:"CircleClose",__name:"circle-close",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),g("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),Yo=u({name:"Close",__name:"close",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}),Ho=u({name:"Hide",__name:"hide",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),g("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}),qo=u({name:"Loading",__name:"loading",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}),$o=u({name:"View",__name:"view",setup:e=>(e,t)=>(d(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[g("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))});const Uo="__epPropKey",Zo=(e,t)=>{if(!f(e)||f(i=e)&&i[Uo])return e;var i;const{values:n,required:o,default:r,type:s,validator:a}=e,l=n||a?i=>{let o=!1,s=[];if(n&&(s=Array.from(n),m(e,"default")&&s.push(r),o||(o=s.includes(i))),a&&(o||(o=a(i))),!o&&s.length>0){const e=[...new Set(s)].map((e=>JSON.stringify(e))).join(", ");_(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(i)}.`)}return o}:void 0,c={type:s,required:!!o,validator:l,[Uo]:!0};return m(e,"default")&&(c.default=r),c},Jo=e=>Io(Object.entries(e).map((([e,t])=>[e,Zo(t,e)]))),Qo=[String,Object,Function],er={validating:qo,success:Ko,error:Xo},tr=(e,t)=>{if(e.install=i=>{for(const n of[e,...Object.values(null!=t?t:{})])i.component(n.name,n)},t)for(const[i,n]of Object.entries(t))e[i]=n;return e},ir=e=>(e.install=v,e),nr="Tab",or="Enter",rr="Space",sr="Escape",ar="Delete",lr="Backspace",cr="update:modelValue",hr="change",ur="input",dr=["","default","small","large"],pr={large:40,default:32,small:24},gr=e=>["",...dr].includes(e),fr=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),mr=()=>Math.floor(1e4*Math.random()),_r=["class","style"],vr=/^on[A-Z]/,yr=({from:e,replacement:t,scope:i,version:n,ref:r,type:s="API"},a)=>{l((()=>o(a)),(e=>{}),{immediate:!0})};var xr={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const br=e=>(t,i)=>wr(t,i,o(e)),wr=(e,t,i)=>on(i,e,e).replace(/\{(\w+)\}/g,((e,i)=>{var n;return`${null!=(n=null==t?void 0:t[i])?n:`{${i}}`}`})),Cr=Symbol("localeContextKey"),Sr=e=>{const t=e||x(Cr,c());return(e=>({lang:y((()=>o(e).name)),locale:b(e)?e:c(e),t:br(e)}))(y((()=>t.value||xr)))},Er="el",kr=(e,t,i,n,o)=>{let r=`${e}-${t}`;return i&&(r+=`-${i}`),n&&(r+=`__${n}`),o&&(r+=`--${o}`),r},Tr=Symbol("namespaceContextKey"),Ir=e=>{const t=e||(r()?x(Tr,c(Er)):c(Er));return y((()=>o(t)||Er))},Rr=(e,t)=>{const i=Ir(t);return{namespace:i,b:(t="")=>kr(i.value,e,t,"",""),e:t=>t?kr(i.value,e,"",t,""):"",m:t=>t?kr(i.value,e,"","",t):"",be:(t,n)=>t&&n?kr(i.value,e,t,n,""):"",em:(t,n)=>t&&n?kr(i.value,e,"",t,n):"",bm:(t,n)=>t&&n?kr(i.value,e,t,"",n):"",bem:(t,n,o)=>t&&n&&o?kr(i.value,e,t,n,o):"",is:(e,...t)=>{const i=!(t.length>=1)||t[0];return e&&i?`is-${e}`:""},cssVar:e=>{const t={};for(const n in e)e[n]&&(t[`--${i.value}-${n}`]=e[n]);return t},cssVarName:e=>`--${i.value}-${e}`,cssVarBlock:t=>{const n={};for(const o in t)t[o]&&(n[`--${i.value}-${e}-${o}`]=t[o]);return n},cssVarBlockName:t=>`--${i.value}-${e}-${t}`}},Mr=Zo({type:Boolean,default:null}),Pr=Zo({type:Function}),Lr=e=>{const t=`update:${e}`,i=`onUpdate:${e}`;return{useModelToggle:({indicator:n,toggleReason:o,shouldHideWhenRouteChanges:a,shouldProceed:c,onShow:h,onHide:u})=>{const d=r(),{emit:p}=d,g=d.props,f=y((()=>w(g[i]))),m=y((()=>null===g[e])),_=e=>{!0!==n.value&&(n.value=!0,o&&(o.value=e),w(h)&&h(e))},v=e=>{!1!==n.value&&(n.value=!1,o&&(o.value=e),w(u)&&u(e))},x=e=>{if(!0===g.disabled||w(c)&&!c())return;const i=f.value&&xe;i&&p(t,!0),!m.value&&i||_(e)},b=e=>{if(!0===g.disabled||!xe)return;const i=f.value&&xe;i&&p(t,!1),!m.value&&i||v(e)},C=e=>{Do(e)&&(g.disabled&&e?f.value&&p(t,!1):n.value!==e&&(e?_():v()))};return l((()=>g[e]),C),a&&void 0!==d.appContext.config.globalProperties.$route&&l((()=>({...d.proxy.$route})),(()=>{a.value&&n.value&&b()})),s((()=>{C(g[e])})),{hide:b,show:x,toggle:()=>{n.value?b():x()},hasUpdateHandler:f}},useModelToggleProps:{[e]:Mr,[i]:Pr},useModelToggleEmits:[t]}};Lr("modelValue");const Or=e=>{const t=r();return y((()=>{var i,n;return null==(n=null==(i=null==t?void 0:t.proxy)?void 0:i.$props)?void 0:n[e]}))};var Fr="top",Ar="bottom",Dr="right",zr="left",Nr="auto",jr=[Fr,Ar,Dr,zr],Br="start",Gr="end",Vr="clippingParents",Wr="viewport",Kr="popper",Xr="reference",Yr=jr.reduce((function(e,t){return e.concat([t+"-"+Br,t+"-"+Gr])}),[]),Hr=[].concat(jr,[Nr]).reduce((function(e,t){return e.concat([t,t+"-"+Br,t+"-"+Gr])}),[]),qr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $r(e){return e?(e.nodeName||"").toLowerCase():null}function Ur(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zr(e){return e instanceof Ur(e).Element||e instanceof Element}function Jr(e){return e instanceof Ur(e).HTMLElement||e instanceof HTMLElement}function Qr(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ur(e).ShadowRoot||e instanceof ShadowRoot)}var es={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];!Jr(o)||!$r(o)||(Object.assign(o.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});!Jr(n)||!$r(n)||(Object.assign(n.style,r),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function ts(e){return e.split("-")[0]}var is=Math.max,ns=Math.min,os=Math.round;function rs(e,t){void 0===t&&(t=!1);var i=e.getBoundingClientRect(),n=1,o=1;if(Jr(e)&&t){var r=e.offsetHeight,s=e.offsetWidth;s>0&&(n=os(i.width)/s||1),r>0&&(o=os(i.height)/r||1)}return{width:i.width/n,height:i.height/o,top:i.top/o,right:i.right/n,bottom:i.bottom/o,left:i.left/n,x:i.left/n,y:i.top/o}}function ss(e){var t=rs(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function as(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Qr(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ls(e){return Ur(e).getComputedStyle(e)}function cs(e){return["table","td","th"].indexOf($r(e))>=0}function hs(e){return((Zr(e)?e.ownerDocument:e.document)||window.document).documentElement}function us(e){return"html"===$r(e)?e:e.assignedSlot||e.parentNode||(Qr(e)?e.host:null)||hs(e)}function ds(e){return Jr(e)&&"fixed"!==ls(e).position?e.offsetParent:null}function ps(e){for(var t=Ur(e),i=ds(e);i&&cs(i)&&"static"===ls(i).position;)i=ds(i);return i&&("html"===$r(i)||"body"===$r(i)&&"static"===ls(i).position)?t:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Jr(e)&&"fixed"===ls(e).position)return null;var i=us(e);for(Qr(i)&&(i=i.host);Jr(i)&&["html","body"].indexOf($r(i))<0;){var n=ls(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function gs(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function fs(e,t,i){return is(e,ns(t,i))}function ms(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function _s(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var vs={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,r=i.elements.arrow,s=i.modifiersData.popperOffsets,a=ts(i.placement),l=gs(a),c=[zr,Dr].indexOf(a)>=0?"height":"width";if(r&&s){var h=function(e,t){return ms("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:_s(e,jr))}(o.padding,i),u=ss(r),d="y"===l?Fr:zr,p="y"===l?Ar:Dr,g=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],f=s[l]-i.rects.reference[l],m=ps(r),_=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,v=g/2-f/2,y=h[d],x=_-u[c]-h[p],b=_/2-u[c]/2+v,w=fs(y,b,x),C=l;i.modifiersData[n]=((t={})[C]=w,t.centerOffset=w-b,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"==typeof n&&!(n=t.elements.popper.querySelector(n))||!as(t.elements.popper,n)||(t.elements.arrow=n))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ys(e){return e.split("-")[1]}var xs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bs(e){var t,i=e.popper,n=e.popperRect,o=e.placement,r=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,u=e.isFixed,d=s.x,p=void 0===d?0:d,g=s.y,f=void 0===g?0:g,m="function"==typeof h?h({x:p,y:f}):{x:p,y:f};p=m.x,f=m.y;var _=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),y=zr,x=Fr,b=window;if(c){var w=ps(i),C="clientHeight",S="clientWidth";w===Ur(i)&&"static"!==ls(w=hs(i)).position&&"absolute"===a&&(C="scrollHeight",S="scrollWidth"),(o===Fr||(o===zr||o===Dr)&&r===Gr)&&(x=Ar,f-=(u&&w===b&&b.visualViewport?b.visualViewport.height:w[C])-n.height,f*=l?1:-1),o!==zr&&(o!==Fr&&o!==Ar||r!==Gr)||(y=Dr,p-=(u&&w===b&&b.visualViewport?b.visualViewport.width:w[S])-n.width,p*=l?1:-1)}var E,k=Object.assign({position:a},c&&xs),T=!0===h?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:os(t*n)/n||0,y:os(i*n)/n||0}}({x:p,y:f}):{x:p,y:f};return p=T.x,f=T.y,l?Object.assign({},k,((E={})[x]=v?"0":"",E[y]=_?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",E)):Object.assign({},k,((t={})[x]=v?f+"px":"",t[y]=_?p+"px":"",t.transform="",t))}var ws={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,r=i.adaptive,s=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,c={placement:ts(t.placement),variation:ys(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bs(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bs(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Cs={passive:!0},Ss={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,r=void 0===o||o,s=n.resize,a=void 0===s||s,l=Ur(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",i.update,Cs)})),a&&l.addEventListener("resize",i.update,Cs),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",i.update,Cs)})),a&&l.removeEventListener("resize",i.update,Cs)}},data:{}},Es={left:"right",right:"left",bottom:"top",top:"bottom"};function ks(e){return e.replace(/left|right|bottom|top/g,(function(e){return Es[e]}))}var Ts={start:"end",end:"start"};function Is(e){return e.replace(/start|end/g,(function(e){return Ts[e]}))}function Rs(e){var t=Ur(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ms(e){return rs(hs(e)).left+Rs(e).scrollLeft}function Ps(e){var t=ls(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function Ls(e){return["html","body","#document"].indexOf($r(e))>=0?e.ownerDocument.body:Jr(e)&&Ps(e)?e:Ls(us(e))}function Os(e,t){var i;void 0===t&&(t=[]);var n=Ls(e),o=n===(null==(i=e.ownerDocument)?void 0:i.body),r=Ur(n),s=o?[r].concat(r.visualViewport||[],Ps(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(Os(us(s)))}function Fs(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function As(e,t){return t===Wr?Fs(function(e){var t=Ur(e),i=hs(e),n=t.visualViewport,o=i.clientWidth,r=i.clientHeight,s=0,a=0;return n&&(o=n.width,r=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:o,height:r,x:s+Ms(e),y:a}}(e)):Zr(t)?function(e){var t=rs(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Fs(function(e){var t,i=hs(e),n=Rs(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=is(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=is(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Ms(e),l=-n.scrollTop;return"rtl"===ls(o||i).direction&&(a+=is(i.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(hs(e)))}function Ds(e,t,i){var n="clippingParents"===t?function(e){var t=Os(us(e)),i=["absolute","fixed"].indexOf(ls(e).position)>=0&&Jr(e)?ps(e):e;return Zr(i)?t.filter((function(e){return Zr(e)&&as(e,i)&&"body"!==$r(e)})):[]}(e):[].concat(t),o=[].concat(n,[i]),r=o[0],s=o.reduce((function(t,i){var n=As(e,i);return t.top=is(n.top,t.top),t.right=ns(n.right,t.right),t.bottom=ns(n.bottom,t.bottom),t.left=is(n.left,t.left),t}),As(e,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function zs(e){var t,i=e.reference,n=e.element,o=e.placement,r=o?ts(o):null,s=o?ys(o):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case Fr:t={x:a,y:i.y-n.height};break;case Ar:t={x:a,y:i.y+i.height};break;case Dr:t={x:i.x+i.width,y:l};break;case zr:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?gs(r):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case Br:t[c]=t[c]-(i[h]/2-n[h]/2);break;case Gr:t[c]=t[c]+(i[h]/2-n[h]/2)}}return t}function Ns(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=void 0===n?e.placement:n,r=i.boundary,s=void 0===r?Vr:r,a=i.rootBoundary,l=void 0===a?Wr:a,c=i.elementContext,h=void 0===c?Kr:c,u=i.altBoundary,d=void 0!==u&&u,p=i.padding,g=void 0===p?0:p,f=ms("number"!=typeof g?g:_s(g,jr)),m=h===Kr?Xr:Kr,_=e.rects.popper,v=e.elements[d?m:h],y=Ds(Zr(v)?v:v.contextElement||hs(e.elements.popper),s,l),x=rs(e.elements.reference),b=zs({reference:x,element:_,strategy:"absolute",placement:o}),w=Fs(Object.assign({},_,b)),C=h===Kr?w:x,S={top:y.top-C.top+f.top,bottom:C.bottom-y.bottom+f.bottom,left:y.left-C.left+f.left,right:C.right-y.right+f.right},E=e.modifiersData.offset;if(h===Kr&&E){var k=E[o];Object.keys(S).forEach((function(e){var t=[Dr,Ar].indexOf(e)>=0?1:-1,i=[Fr,Ar].indexOf(e)>=0?"y":"x";S[e]+=k[i]*t}))}return S}var js={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,h=i.boundary,u=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,g=void 0===p||p,f=i.allowedAutoPlacements,m=t.options.placement,_=ts(m),v=l||(_!==m&&g?function(e){if(ts(e)===Nr)return[];var t=ks(e);return[Is(e),t,Is(t)]}(m):[ks(m)]),y=[m].concat(v).reduce((function(e,i){return e.concat(ts(i)===Nr?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,r=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?Hr:l,h=ys(n),u=h?a?Yr:Yr.filter((function(e){return ys(e)===h})):jr,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var p=d.reduce((function(t,i){return t[i]=Ns(e,{placement:i,boundary:o,rootBoundary:r,padding:s})[ts(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:h,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:f}):i)}),[]),x=t.rects.reference,b=t.rects.popper,w=new Map,C=!0,S=y[0],E=0;E<y.length;E++){var k=y[E],T=ts(k),I=ys(k)===Br,R=[Fr,Ar].indexOf(T)>=0,M=R?"width":"height",P=Ns(t,{placement:k,boundary:h,rootBoundary:u,altBoundary:d,padding:c}),L=R?I?Dr:zr:I?Ar:Fr;x[M]>b[M]&&(L=ks(L));var O=ks(L),F=[];if(r&&F.push(P[T]<=0),a&&F.push(P[L]<=0,P[O]<=0),F.every((function(e){return e}))){S=k,C=!1;break}w.set(k,F)}if(C)for(var A=function(e){var t=y.find((function(t){var i=w.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=g?3:1;D>0&&"break"!==A(D);D--);t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Bs(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Gs(e){return[Fr,Dr,Ar,zr].some((function(t){return e[t]>=0}))}var Vs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=Ns(t,{elementContext:"reference"}),a=Ns(t,{altBoundary:!0}),l=Bs(s,n),c=Bs(a,o,r),h=Gs(l),u=Gs(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}},Ws={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,r=void 0===o?[0,0]:o,s=Hr.reduce((function(e,i){return e[i]=function(e,t,i){var n=ts(e),o=[zr,Fr].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[zr,Dr].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}},Ks={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=zs({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Xs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,u=i.padding,d=i.tether,p=void 0===d||d,g=i.tetherOffset,f=void 0===g?0:g,m=Ns(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:h}),_=ts(t.placement),v=ys(t.placement),y=!v,x=gs(_),b=function(e){return"x"===e?"y":"x"}(x),w=t.modifiersData.popperOffsets,C=t.rects.reference,S=t.rects.popper,E="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,k="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(w){if(r){var R,M="y"===x?Fr:zr,P="y"===x?Ar:Dr,L="y"===x?"height":"width",O=w[x],F=O+m[M],A=O-m[P],D=p?-S[L]/2:0,z=v===Br?C[L]:S[L],N=v===Br?-S[L]:-C[L],j=t.elements.arrow,B=p&&j?ss(j):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=G[M],W=G[P],K=fs(0,C[L],B[L]),X=y?C[L]/2-D-K-V-k.mainAxis:z-K-V-k.mainAxis,Y=y?-C[L]/2+D+K+W+k.mainAxis:N+K+W+k.mainAxis,H=t.elements.arrow&&ps(t.elements.arrow),q=H?"y"===x?H.clientTop||0:H.clientLeft||0:0,$=null!=(R=null==T?void 0:T[x])?R:0,U=O+Y-$,Z=fs(p?ns(F,O+X-$-q):F,O,p?is(A,U):A);w[x]=Z,I[x]=Z-O}if(a){var J,Q="x"===x?Fr:zr,ee="x"===x?Ar:Dr,te=w[b],ie="y"===b?"height":"width",ne=te+m[Q],oe=te-m[ee],re=-1!==[Fr,zr].indexOf(_),se=null!=(J=null==T?void 0:T[b])?J:0,ae=re?ne:te-C[ie]-S[ie]-se+k.altAxis,le=re?te+C[ie]+S[ie]-se-k.altAxis:oe,ce=p&&re?function(e,t,i){var n=fs(e,t,i);return n>i?i:n}(ae,te,le):fs(p?ae:ne,te,p?le:oe);w[b]=ce,I[b]=ce-te}t.modifiersData[n]=I}},requiresIfExists:["offset"]};function Ys(e,t,i){void 0===i&&(i=!1);var n=Jr(t),o=Jr(t)&&function(e){var t=e.getBoundingClientRect(),i=os(t.width)/e.offsetWidth||1,n=os(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),r=hs(t),s=rs(e,o),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==$r(t)||Ps(r))&&(a=function(e){return e!==Ur(e)&&Jr(e)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):Rs(e)}(t)),Jr(t)?((l=rs(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Ms(r))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Hs(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||o(e)})),n}function qs(e){var t;return function(){return t||(t=new Promise((function(i){Promise.resolve().then((function(){t=void 0,i(e())}))}))),t}}var $s={placement:"bottom",modifiers:[],strategy:"absolute"};function Us(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Zs(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,o=t.defaultOptions,r=void 0===o?$s:o;return function(e,t,i){void 0===i&&(i=r);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},$s,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(i){var a="function"==typeof i?i(o.options):i;c(),o.options=Object.assign({},r,o.options,a),o.scrollParents={reference:Zr(e)?Os(e):e.contextElement?Os(e.contextElement):[],popper:Os(t)};var h=function(e){var t=Hs(e);return qr.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,o.options.modifiers)));return o.orderedModifiers=h.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,r=e.effect;if("function"==typeof r){var a=r({state:o,name:t,instance:l,options:n}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,i=e.popper;if(Us(t,i)){o.rects={reference:Ys(t,ps(i),"fixed"===o.options.strategy),popper:ss(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var r=o.orderedModifiers[n],s=r.fn,c=r.options,h=void 0===c?{}:c,u=r.name;"function"==typeof s&&(o=s({state:o,options:h,name:u,instance:l})||o)}else o.reset=!1,n=-1}}},update:qs((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!Us(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(i).then((function(e){!a&&i.onFirstUpdate&&i.onFirstUpdate(e)})),l}}Zs(),Zs({defaultModifiers:[Ss,Ks,ws,es]});var Js=Zs({defaultModifiers:[Ss,Ks,ws,es,Ws,js,Xs,vs,Vs]});const Qs=(e,t,i={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:e})=>{const t=function(e){const t=Object.keys(e.elements),i=Io(t.map((t=>[t,e.styles[t]||{}]))),n=Io(t.map((t=>[t,e.attributes[t]])));return{styles:i,attributes:n}}(e);Object.assign(a.value,t)},requires:["computeStyles"]},r=y((()=>{const{onFirstUpdate:e,placement:t,strategy:r,modifiers:s}=o(i);return{onFirstUpdate:e,placement:t||"bottom",strategy:r||"absolute",modifiers:[...s||[],n,{name:"applyStyles",enabled:!1}]}})),s=C(),a=c({styles:{popper:{position:o(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),h=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return l(r,(e=>{const t=o(s);t&&t.setOptions(e)}),{deep:!0}),l([e,t],(([e,t])=>{h(),e&&t&&(s.value=Js(e,t,o(r)))})),S((()=>{h()})),{state:y((()=>{var e;return{...(null==(e=o(s))?void 0:e.state)||{}}})),styles:y((()=>o(a).styles)),attributes:y((()=>o(a).attributes)),update:()=>{var e;return null==(e=o(s))?void 0:e.update()},forceUpdate:()=>{var e;return null==(e=o(s))?void 0:e.forceUpdate()},instanceRef:y((()=>o(s)))}};function ea(){let e;const t=()=>window.clearTimeout(e);return Ee((()=>t())),{registerTimeout:(i,n)=>{t(),e=window.setTimeout(i,n)},cancelTimeout:t}}const ta={prefix:Math.floor(1e4*Math.random()),current:0},ia=Symbol("elIdInjection"),na=()=>r()?x(ia,ta):ta,oa=e=>{const t=na(),i=Ir();return y((()=>o(e)||`${i.value}-id-${t.prefix}-${t.current++}`))};let ra=[];const sa=e=>{const t=e;t.key===sr&&ra.forEach((e=>e(t)))};let aa;const la=()=>{const e=Ir(),t=na(),i=y((()=>`${e.value}-popper-container-${t.prefix}`)),n=y((()=>`#${i.value}`));return{id:i,selector:n}},ca=()=>{const{id:e,selector:t}=la();return E((()=>{xe&&(aa||document.body.querySelector(t.value)||(aa=(e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t})(e.value)))})),{id:e,selector:t}},ha=Jo({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),ua=Symbol("elForwardRef"),da=c(0),pa=Symbol("zIndexContextKey"),ga=Zo({type:String,values:dr,required:!1}),fa=Symbol("size");var ma=(e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i};const _a=Jo({size:{type:[Number,String]},color:{type:String}}),va=u({name:"ElIcon",inheritAttrs:!1}),ya=u({...va,props:_a,setup(e){const t=e,i=Rr("icon"),n=y((()=>{const{size:e,color:i}=t;return e||i?{fontSize:Ao(e)?void 0:Go(e),"--color":i}:{}}));return(e,t)=>(d(),p("i",I({class:o(i).b(),style:o(n)},e.$attrs),[T(e.$slots,"default")],16))}}),xa=tr(ma(ya,[["__file","icon.vue"]])),ba=Symbol("formContextKey"),wa=Symbol("formItemContextKey"),Ca=(e,t={})=>{const i=c(void 0),n=t.prop?i:Or("size"),r=t.global?i:(()=>{const e=x(fa,{});return y((()=>o(e.size)||""))})(),s=t.form?{size:void 0}:x(ba,void 0),a=t.formItem?{size:void 0}:x(wa,void 0);return y((()=>n.value||o(e)||(null==a?void 0:a.size)||(null==s?void 0:s.size)||r.value||""))},Sa=e=>{const t=Or("disabled"),i=x(ba,void 0);return y((()=>t.value||o(e)||(null==i?void 0:i.disabled)||!1))},Ea=()=>({form:x(ba,void 0),formItem:x(wa,void 0)}),ka=(e,{formItemContext:t,disableIdGeneration:i,disableIdManagement:n})=>{i||(i=c(!1)),n||(n=c(!1));const o=c();let r;const a=y((()=>{var i;return!!(!e.label&&t&&t.inputIds&&(null==(i=t.inputIds)?void 0:i.length)<=1)}));return s((()=>{r=l([R(e,"id"),i],(([e,i])=>{const r=null!=e?e:i?void 0:oa().value;r!==o.value&&((null==t?void 0:t.removeInputId)&&(o.value&&t.removeInputId(o.value),(null==n?void 0:n.value)||i||!r||t.addInputId(r)),o.value=r)}),{immediate:!0})})),M((()=>{r&&r(),(null==t?void 0:t.removeInputId)&&o.value&&t.removeInputId(o.value)})),{isLabeledByFormItem:a,inputId:o}};let Ta;const Ia=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${xe&&/firefox/i.test(window.navigator.userAgent)?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,Ra=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ma(e,t=1,i){var n;Ta||(Ta=document.createElement("textarea"),document.body.appendChild(Ta));const{paddingSize:o,borderSize:r,boxSizing:s,contextStyle:a}=function(e){const t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Ra.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:n,borderSize:o,boxSizing:i}}(e);Ta.setAttribute("style",`${a};${Ia}`),Ta.value=e.value||e.placeholder||"";let l=Ta.scrollHeight;const c={};"border-box"===s?l+=r:"content-box"===s&&(l-=o),Ta.value="";const h=Ta.scrollHeight-o;if(zo(t)){let e=h*t;"border-box"===s&&(e=e+o+r),l=Math.max(e,l),c.minHeight=`${e}px`}if(zo(i)){let e=h*i;"border-box"===s&&(e=e+o+r),l=Math.min(e,l)}return c.height=`${l}px`,null==(n=Ta.parentNode)||n.removeChild(Ta),Ta=void 0,c}const Pa=Jo({id:{type:String,default:void 0},size:ga,disabled:Boolean,modelValue:{type:[String,Number,Object],default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Qo},prefixIcon:{type:Qo},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:[Object,Array,String],default:()=>({})},autofocus:{type:Boolean,default:!1}}),La={[cr]:e=>h(e),input:e=>h(e),change:e=>h(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Oa=["role"],Fa=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Aa=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Da=u({name:"ElInput",inheritAttrs:!1}),za=u({...Da,props:Pa,emits:La,setup(e,{expose:t,emit:i}){const n=e,h=P(),u=L(),m=y((()=>{const e={};return"combobox"===n.containerRole&&(e["aria-haspopup"]=h["aria-haspopup"],e["aria-owns"]=h["aria-owns"],e["aria-expanded"]=h["aria-expanded"]),e})),_=y((()=>["textarea"===n.type?H.b():Y.b(),Y.m(M.value),Y.is("disabled",X.value),Y.is("exceed",_e.value),{[Y.b("group")]:u.prepend||u.append,[Y.bm("group","append")]:u.append,[Y.bm("group","prepend")]:u.prepend,[Y.m("prefix")]:u.prefix||n.prefixIcon,[Y.m("suffix")]:u.suffix||n.suffixIcon||n.clearable||n.showPassword,[Y.bm("suffix","password-clear")]:pe.value&&ge.value},h.class])),x=y((()=>[Y.e("wrapper"),Y.is("focus",ne.value)])),b=((e={})=>{const{excludeListeners:t=!1,excludeKeys:i}=e,n=y((()=>((null==i?void 0:i.value)||[]).concat(_r))),o=r();return y(o?()=>{var e;return Io(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter((([e])=>!(n.value.includes(e)||t&&vr.test(e)))))}:()=>({}))})({excludeKeys:y((()=>Object.keys(m.value)))}),{form:S,formItem:E}=Ea(),{inputId:k}=ka(n,{formItemContext:E}),M=Ca(),X=Sa(),Y=Rr("input"),H=Rr("textarea"),q=C(),$=C(),U=c(!1),Z=c(!1),J=c(!1),Q=c(),ee=C(n.inputStyle),te=y((()=>q.value||$.value)),{wrapperRef:ie,isFocused:ne,handleFocus:oe,handleBlur:re}=function(e,{afterFocus:t,beforeBlur:i,afterBlur:n}={}){const o=r(),{emit:s}=o,a=C(),h=c(!1);return l(a,(e=>{e&&e.setAttribute("tabindex","-1")})),Ie(a,"click",(()=>{var t;null==(t=e.value)||t.focus()})),{wrapperRef:a,isFocused:h,handleFocus:e=>{h.value||(h.value=!0,s("focus",e),null==t||t())},handleBlur:e=>{var t;w(i)&&i(e)||e.relatedTarget&&(null==(t=a.value)?void 0:t.contains(e.relatedTarget))||(h.value=!1,s("blur",e),null==n||n())}}}(te,{afterBlur(){var e;n.validateEvent&&(null==(e=null==E?void 0:E.validate)||e.call(E,"blur").catch((e=>{})))}}),se=y((()=>{var e;return null!=(e=null==S?void 0:S.statusIcon)&&e})),ae=y((()=>(null==E?void 0:E.validateState)||"")),le=y((()=>ae.value&&er[ae.value])),ce=y((()=>J.value?$o:Ho)),he=y((()=>[h.style,n.inputStyle])),ue=y((()=>[n.inputStyle,ee.value,{resize:n.resize}])),de=y((()=>Mo(n.modelValue)?"":String(n.modelValue))),pe=y((()=>n.clearable&&!X.value&&!n.readonly&&!!de.value&&(ne.value||U.value))),ge=y((()=>n.showPassword&&!X.value&&!n.readonly&&!!de.value&&(!!de.value||ne.value))),fe=y((()=>n.showWordLimit&&!!b.value.maxlength&&("text"===n.type||"textarea"===n.type)&&!X.value&&!n.readonly&&!n.showPassword)),me=y((()=>de.value.length)),_e=y((()=>!!fe.value&&me.value>Number(b.value.maxlength))),ve=y((()=>!!u.suffix||!!n.suffixIcon||pe.value||n.showPassword||fe.value||!!ae.value&&se.value)),[ye,be]=function(e){const t=c();return[function(){if(null==e.value)return;const{selectionStart:i,selectionEnd:n,value:o}=e.value;if(null==i||null==n)return;const r=o.slice(0,Math.max(0,i)),s=o.slice(Math.max(0,n));t.value={selectionStart:i,selectionEnd:n,value:o,beforeTxt:r,afterTxt:s}},function(){if(null==e.value||null==t.value)return;const{value:i}=e.value,{beforeTxt:n,afterTxt:o,selectionStart:r}=t.value;if(null==n||null==o||null==r)return;let s=i.length;if(i.endsWith(o))s=i.length-o.length;else if(i.startsWith(n))s=n.length;else{const e=n[r-1],t=i.indexOf(e,r-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(q);Ne($,(e=>{if(Ce(),!fe.value||"both"!==n.resize)return;const t=e[0],{width:i}=t.contentRect;Q.value={right:`calc(100% - ${i+15+6}px)`}}));const we=()=>{const{type:e,autosize:t}=n;if(xe&&"textarea"===e&&$.value)if(t){const e=f(t)?t.minRows:void 0,i=f(t)?t.maxRows:void 0,n=Ma($.value,e,i);ee.value={overflowY:"hidden",...n},a((()=>{$.value.offsetHeight,ee.value=n}))}else ee.value={minHeight:Ma($.value).minHeight}},Ce=(e=>{let t=!1;return()=>{var i;!t&&n.autosize&&(null===(null==(i=$.value)?void 0:i.offsetParent)||(e(),t=!0))}})(we),Se=()=>{const e=te.value,t=n.formatter?n.formatter(de.value):de.value;e&&e.value!==t&&(e.value=t)},Ee=async e=>{ye();let{value:t}=e.target;n.formatter&&(t=n.parser?n.parser(t):t),Z.value||(t!==de.value?(i(cr,t),i("input",t),await a(),Se(),be()):Se())},ke=e=>{i("change",e.target.value)},Te=e=>{i("compositionstart",e),Z.value=!0},Re=e=>{var t;i("compositionupdate",e);const n=null==(t=e.target)?void 0:t.value,o=n[n.length-1]||"";Z.value=!fr(o)},Me=e=>{i("compositionend",e),Z.value&&(Z.value=!1,Ee(e))},Pe=()=>{J.value=!J.value,Le()},Le=async()=>{var e;await a(),null==(e=te.value)||e.focus()},Oe=e=>{U.value=!1,i("mouseleave",e)},Fe=e=>{U.value=!0,i("mouseenter",e)},Ae=e=>{i("keydown",e)},De=()=>{i(cr,""),i("change",""),i("clear"),i("input","")};return l((()=>n.modelValue),(()=>{var e;a((()=>we())),n.validateEvent&&(null==(e=null==E?void 0:E.validate)||e.call(E,"change").catch((e=>{})))})),l(de,(()=>Se())),l((()=>n.type),(async()=>{await a(),Se(),we()})),s((()=>{!n.formatter&&n.parser,Se(),a(we)})),t({input:q,textarea:$,ref:te,textareaStyle:ue,autosize:R(n,"autosize"),focus:Le,blur:()=>{var e;return null==(e=te.value)?void 0:e.blur()},select:()=>{var e;null==(e=te.value)||e.select()},clear:De,resizeTextarea:we}),(e,t)=>O((d(),p("div",I(o(m),{class:o(_),style:o(he),role:e.containerRole,onMouseenter:Fe,onMouseleave:Oe}),[A(" input "),"textarea"!==e.type?(d(),p(D,{key:0},[A(" prepend slot "),e.$slots.prepend?(d(),p("div",{key:0,class:z(o(Y).be("group","prepend"))},[T(e.$slots,"prepend")],2)):A("v-if",!0),g("div",{ref_key:"wrapperRef",ref:ie,class:z(o(x))},[A(" prefix slot "),e.$slots.prefix||e.prefixIcon?(d(),p("span",{key:0,class:z(o(Y).e("prefix"))},[g("span",{class:z(o(Y).e("prefix-inner"))},[T(e.$slots,"prefix"),e.prefixIcon?(d(),N(o(xa),{key:0,class:z(o(Y).e("icon"))},{default:j((()=>[(d(),N(B(e.prefixIcon)))])),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0),g("input",I({id:o(k),ref_key:"input",ref:q,class:o(Y).e("inner")},o(b),{type:e.showPassword?J.value?"text":"password":e.type,disabled:o(X),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:n.form,autofocus:n.autofocus,onCompositionstart:Te,onCompositionupdate:Re,onCompositionend:Me,onInput:Ee,onFocus:t[0]||(t[0]=(...e)=>o(oe)&&o(oe)(...e)),onBlur:t[1]||(t[1]=(...e)=>o(re)&&o(re)(...e)),onChange:ke,onKeydown:Ae}),null,16,Fa),A(" suffix slot "),o(ve)?(d(),p("span",{key:1,class:z(o(Y).e("suffix"))},[g("span",{class:z(o(Y).e("suffix-inner"))},[o(pe)&&o(ge)&&o(fe)?A("v-if",!0):(d(),p(D,{key:0},[T(e.$slots,"suffix"),e.suffixIcon?(d(),N(o(xa),{key:0,class:z(o(Y).e("icon"))},{default:j((()=>[(d(),N(B(e.suffixIcon)))])),_:1},8,["class"])):A("v-if",!0)],64)),o(pe)?(d(),N(o(xa),{key:1,class:z([o(Y).e("icon"),o(Y).e("clear")]),onMousedown:V(o(v),["prevent"]),onClick:De},{default:j((()=>[G(o(Xo))])),_:1},8,["class","onMousedown"])):A("v-if",!0),o(ge)?(d(),N(o(xa),{key:2,class:z([o(Y).e("icon"),o(Y).e("password")]),onClick:Pe},{default:j((()=>[(d(),N(B(o(ce))))])),_:1},8,["class"])):A("v-if",!0),o(fe)?(d(),p("span",{key:3,class:z(o(Y).e("count"))},[g("span",{class:z(o(Y).e("count-inner"))},W(o(me))+" / "+W(o(b).maxlength),3)],2)):A("v-if",!0),o(ae)&&o(le)&&o(se)?(d(),N(o(xa),{key:4,class:z([o(Y).e("icon"),o(Y).e("validateIcon"),o(Y).is("loading","validating"===o(ae))])},{default:j((()=>[(d(),N(B(o(le))))])),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0)],2),A(" append slot "),e.$slots.append?(d(),p("div",{key:1,class:z(o(Y).be("group","append"))},[T(e.$slots,"append")],2)):A("v-if",!0)],64)):(d(),p(D,{key:1},[A(" textarea "),g("textarea",I({id:o(k),ref_key:"textarea",ref:$,class:o(H).e("inner")},o(b),{tabindex:e.tabindex,disabled:o(X),readonly:e.readonly,autocomplete:e.autocomplete,style:o(ue),"aria-label":e.label,placeholder:e.placeholder,form:n.form,autofocus:n.autofocus,onCompositionstart:Te,onCompositionupdate:Re,onCompositionend:Me,onInput:Ee,onFocus:t[2]||(t[2]=(...e)=>o(oe)&&o(oe)(...e)),onBlur:t[3]||(t[3]=(...e)=>o(re)&&o(re)(...e)),onChange:ke,onKeydown:Ae}),null,16,Aa),o(fe)?(d(),p("span",{key:0,style:K(Q.value),class:z(o(Y).e("count"))},W(o(me))+" / "+W(o(b).maxlength),7)):A("v-if",!0)],64))],16,Oa)),[[F,"hidden"!==e.type]])}}),Na=tr(ma(za,[["__file","input.vue"]])),ja={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ba=Symbol("scrollbarContextKey"),Ga=Jo({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Va=u({__name:"thumb",props:Ga,setup(e){const t=e,i=x(Ba),n=Rr("scrollbar");i||Bo("Thumb","can not inject scrollbar context");const r=c(),s=c(),a=c({}),l=c(!1);let h=!1,u=!1,p=xe?document.onselectstart:null;const f=y((()=>ja[t.vertical?"vertical":"horizontal"])),m=y((()=>(({move:e,size:t,bar:i})=>({[i.size]:t,transform:`translate${i.axis}(${e}%)`}))({size:t.size,move:t.move,bar:f.value}))),_=y((()=>r.value[f.value.offset]**2/i.wrapElement[f.value.scrollSize]/t.ratio/s.value[f.value.offset])),v=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),w(e);const i=e.currentTarget;i&&(a.value[f.value.axis]=i[f.value.offset]-(e[f.value.client]-i.getBoundingClientRect()[f.value.direction]))},b=e=>{if(!s.value||!r.value||!i.wrapElement)return;const t=100*(Math.abs(e.target.getBoundingClientRect()[f.value.direction]-e[f.value.client])-s.value[f.value.offset]/2)*_.value/r.value[f.value.offset];i.wrapElement[f.value.scroll]=t*i.wrapElement[f.value.scrollSize]/100},w=e=>{e.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",E),p=document.onselectstart,document.onselectstart=()=>!1},C=e=>{if(!r.value||!s.value)return;if(!1===h)return;const t=a.value[f.value.axis];if(!t)return;const n=100*(-1*(r.value.getBoundingClientRect()[f.value.direction]-e[f.value.client])-(s.value[f.value.offset]-t))*_.value/r.value[f.value.offset];i.wrapElement[f.value.scroll]=n*i.wrapElement[f.value.scrollSize]/100},E=()=>{h=!1,a.value[f.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",E),k(),u&&(l.value=!1)};S((()=>{k(),document.removeEventListener("mouseup",E)}));const k=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return Ie(R(i,"scrollbarElement"),"mousemove",(()=>{u=!1,l.value=!!t.size})),Ie(R(i,"scrollbarElement"),"mouseleave",(()=>{u=!0,l.value=h})),(e,t)=>(d(),N(X,{name:o(n).b("fade"),persisted:""},{default:j((()=>[O(g("div",{ref_key:"instance",ref:r,class:z([o(n).e("bar"),o(n).is(o(f).key)]),onMousedown:b},[g("div",{ref_key:"thumb",ref:s,class:z(o(n).e("thumb")),style:K(o(m)),onMousedown:v},null,38)],34),[[F,e.always||l.value]])])),_:1},8,["name"]))}});var Wa=ma(Va,[["__file","thumb.vue"]]);const Ka=Jo({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}});var Xa=ma(u({__name:"bar",props:Ka,setup(e,{expose:t}){const i=e,n=c(0),o=c(0);return t({handleScroll:e=>{if(e){const t=e.offsetHeight-4,r=e.offsetWidth-4;o.value=100*e.scrollTop/t*i.ratioY,n.value=100*e.scrollLeft/r*i.ratioX}}}),(e,t)=>(d(),p(D,null,[G(Wa,{move:n.value,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),G(Wa,{move:o.value,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const Ya=Jo({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Object,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Ha={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(zo)},qa=u({name:"ElScrollbar"}),$a=u({...qa,props:Ya,emits:Ha,setup(e,{expose:t,emit:i}){const n=e,r=Rr("scrollbar");let h,u;const m=c(),_=c(),v=c(),x=c("0"),b=c("0"),w=c(),C=c(1),S=c(1),E=y((()=>{const e={};return n.height&&(e.height=Go(n.height)),n.maxHeight&&(e.maxHeight=Go(n.maxHeight)),[n.wrapStyle,e]})),I=y((()=>[n.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!n.native}])),R=y((()=>[r.e("view"),n.viewClass])),M=()=>{var e;_.value&&(null==(e=w.value)||e.handleScroll(_.value),i("scroll",{scrollTop:_.value.scrollTop,scrollLeft:_.value.scrollLeft}))},P=()=>{if(!_.value)return;const e=_.value.offsetHeight-4,t=_.value.offsetWidth-4,i=e**2/_.value.scrollHeight,o=t**2/_.value.scrollWidth,r=Math.max(i,n.minSize),s=Math.max(o,n.minSize);C.value=i/(e-i)/(r/(e-r)),S.value=o/(t-o)/(s/(t-s)),b.value=r+4<e?`${r}px`:"",x.value=s+4<t?`${s}px`:""};return l((()=>n.noresize),(e=>{e?(null==h||h(),null==u||u()):(({stop:h}=Ne(v,P)),u=Ie("resize",P))}),{immediate:!0}),l((()=>[n.maxHeight,n.height]),(()=>{n.native||a((()=>{var e;P(),_.value&&(null==(e=w.value)||e.handleScroll(_.value))}))})),k(Ba,Y({scrollbarElement:m,wrapElement:_})),s((()=>{n.native||a((()=>{P()}))})),H((()=>P())),t({wrapRef:_,update:P,scrollTo:function(e,t){f(e)?_.value.scrollTo(e):zo(e)&&zo(t)&&_.value.scrollTo(e,t)},setScrollTop:e=>{zo(e)&&(_.value.scrollTop=e)},setScrollLeft:e=>{zo(e)&&(_.value.scrollLeft=e)},handleScroll:M}),(e,t)=>(d(),p("div",{ref_key:"scrollbarRef",ref:m,class:z(o(r).b())},[g("div",{ref_key:"wrapRef",ref:_,class:z(o(I)),style:K(o(E)),onScroll:M},[(d(),N(B(e.tag),{id:e.id,ref_key:"resizeRef",ref:v,class:z(o(R)),style:K(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:j((()=>[T(e.$slots,"default")])),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?A("v-if",!0):(d(),N(Xa,{key:0,ref_key:"barRef",ref:w,height:b.value,width:x.value,always:e.always,"ratio-x":S.value,"ratio-y":C.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}),Ua=tr(ma($a,[["__file","scrollbar.vue"]])),Za=Symbol("popper"),Ja=Symbol("popperContent"),Qa=Jo({role:{type:String,values:["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],default:"tooltip"}}),el=u({name:"ElPopper",inheritAttrs:!1});var tl=ma(u({...el,props:Qa,setup(e,{expose:t}){const i=e,n={triggerRef:c(),popperInstanceRef:c(),contentRef:c(),referenceRef:c(),role:y((()=>i.role))};return t(n),k(Za,n),(e,t)=>T(e.$slots,"default")}}),[["__file","popper.vue"]]);const il=Jo({arrowOffset:{type:Number,default:5}}),nl=u({name:"ElPopperArrow",inheritAttrs:!1});var ol=ma(u({...nl,props:il,setup(e,{expose:t}){const i=e,n=Rr("popper"),{arrowOffset:r,arrowRef:s,arrowStyle:a}=x(Ja,void 0);return l((()=>i.arrowOffset),(e=>{r.value=e})),S((()=>{s.value=void 0})),t({arrowRef:s}),(e,t)=>(d(),p("span",{ref_key:"arrowRef",ref:s,class:z(o(n).e("arrow")),style:K(o(a)),"data-popper-arrow":""},null,6))}}),[["__file","arrow.vue"]]);const rl=u({name:"ElOnlyChild",setup(e,{slots:t,attrs:i}){var n;const o=x(ua),r=(s=null!=(n=null==o?void 0:o.setForwardRef)?n:v,{mounted(e){s(e)},updated(e){s(e)},unmounted(){s(null)}});var s;return()=>{var e;const n=null==(e=t.default)?void 0:e.call(t,i);if(!n)return null;if(n.length>1)return null;const o=sl(n);return o?O(q(o,i),[[r]]):null}}});function sl(e){if(!e)return null;const t=e;for(const i of t){if(f(i))switch(i.type){case U:continue;case $:case"svg":return al(i);case D:return sl(i.children);default:return i}return al(i)}return null}function al(e){const t=Rr("only-child");return G("span",{class:t.e("content")},[e])}const ll=Jo({virtualRef:{type:Object},virtualTriggering:Boolean,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onContextmenu:{type:Function},id:String,open:Boolean}),cl=u({name:"ElPopperTrigger",inheritAttrs:!1}),hl=u({...cl,props:ll,setup(e,{expose:t}){const i=e,{role:n,triggerRef:r}=x(Za,void 0);var a;a=r,k(ua,{setForwardRef:e=>{a.value=e}});const c=y((()=>u.value?i.id:void 0)),h=y((()=>{if(n&&"tooltip"===n.value)return i.open&&i.id?i.id:void 0})),u=y((()=>{if(n&&"tooltip"!==n.value)return n.value})),p=y((()=>u.value?`${i.open}`:void 0));let g;return s((()=>{l((()=>i.virtualRef),(e=>{e&&(r.value=ke(e))}),{immediate:!0}),l(r,((e,t)=>{null==g||g(),g=void 0,No(e)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach((n=>{var o;const r=i[n];r&&(e.addEventListener(n.slice(2).toLowerCase(),r),null==(o=null==t?void 0:t.removeEventListener)||o.call(t,n.slice(2).toLowerCase(),r))})),g=l([c,h,u,p],(t=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((i,n)=>{Mo(t[n])?e.removeAttribute(i):e.setAttribute(i,t[n])}))}),{immediate:!0})),No(t)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((e=>t.removeAttribute(e)))}),{immediate:!0})})),S((()=>{null==g||g(),g=void 0})),t({triggerRef:r}),(e,t)=>e.virtualTriggering?A("v-if",!0):(d(),N(o(rl),I({key:0},e.$attrs,{"aria-controls":o(c),"aria-describedby":o(h),"aria-expanded":o(p),"aria-haspopup":o(u)}),{default:j((()=>[T(e.$slots,"default")])),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ul=ma(hl,[["__file","trigger.vue"]]);const dl="focus-trap.focus-after-trapped",pl="focus-trap.focus-after-released",gl={cancelable:!0,bubbles:!1},fl={cancelable:!0,bubbles:!1},ml="focusAfterTrapped",_l="focusAfterReleased",vl=Symbol("elFocusTrap"),yl=c(),xl=c(0),bl=c(0);let wl=0;const Cl=e=>{const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t},Sl=(e,t)=>{for(const i of e)if(!El(i,t))return i},El=(e,t)=>{if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},kl=(e,t)=>{if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),bl.value=window.performance.now(),e!==i&&(e=>e instanceof HTMLInputElement&&"select"in e)(e)&&t&&e.select()}};function Tl(e,t){const i=[...e],n=e.indexOf(t);return-1!==n&&i.splice(n,1),i}const Il=(()=>{let e=[];return{push:t=>{const i=e[0];i&&t!==i&&i.pause(),e=Tl(e,t),e.unshift(t)},remove:t=>{var i,n;e=Tl(e,t),null==(n=null==(i=e[0])?void 0:i.resume)||n.call(i)}}})(),Rl=()=>{yl.value="pointer",xl.value=window.performance.now()},Ml=()=>{yl.value="keyboard",xl.value=window.performance.now()},Pl=()=>(s((()=>{0===wl&&(document.addEventListener("mousedown",Rl),document.addEventListener("touchstart",Rl),document.addEventListener("keydown",Ml)),wl++})),S((()=>{wl--,wl<=0&&(document.removeEventListener("mousedown",Rl),document.removeEventListener("touchstart",Rl),document.removeEventListener("keydown",Ml))})),{focusReason:yl,lastUserFocusTimestamp:xl,lastAutomatedFocusTimestamp:bl}),Ll=e=>new CustomEvent("focus-trap.focusout-prevented",{...fl,detail:e}),Ol=u({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ml,_l,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const i=c();let n,r;const{focusReason:u}=Pl();var d;d=i=>{e.trapped&&!p.paused&&t("release-requested",i)},s((()=>{0===ra.length&&document.addEventListener("keydown",sa),xe&&ra.push(d)})),S((()=>{ra=ra.filter((e=>e!==d)),0===ra.length&&xe&&document.removeEventListener("keydown",sa)}));const p={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},g=i=>{if(!e.loop&&!e.trapped)return;if(p.paused)return;const{key:n,altKey:o,ctrlKey:r,metaKey:s,currentTarget:a,shiftKey:l}=i,{loop:c}=e,h=n===nr&&!o&&!r&&!s,d=document.activeElement;if(h&&d){const e=a,[n,o]=(e=>{const t=Cl(e);return[Sl(t,e),Sl(t.reverse(),e)]})(e);if(n&&o)if(l||d!==o){if(l&&[n,e].includes(d)){const e=Ll({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||(i.preventDefault(),c&&kl(o,!0))}}else{const e=Ll({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||(i.preventDefault(),c&&kl(n,!0))}else if(d===e){const e=Ll({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||i.preventDefault()}}};k(vl,{focusTrapRef:i,onKeydown:g}),l((()=>e.focusTrapEl),(e=>{e&&(i.value=e)}),{immediate:!0}),l([i],(([e],[t])=>{e&&(e.addEventListener("keydown",g),e.addEventListener("focusin",_),e.addEventListener("focusout",v)),t&&(t.removeEventListener("keydown",g),t.removeEventListener("focusin",_),t.removeEventListener("focusout",v))}));const f=e=>{t(ml,e)},m=e=>t(_l,e),_=s=>{const a=o(i);if(!a)return;const l=s.target,c=s.relatedTarget,h=l&&a.contains(l);e.trapped||c&&a.contains(c)||(n=c),h&&t("focusin",s),p.paused||e.trapped&&(h?r=l:kl(r,!0))},v=n=>{const s=o(i);if(!p.paused&&s)if(e.trapped){const i=n.relatedTarget;Mo(i)||s.contains(i)||setTimeout((()=>{if(!p.paused&&e.trapped){const e=Ll({focusReason:u.value});t("focusout-prevented",e),e.defaultPrevented||kl(r,!0)}}),0)}else{const e=n.target;e&&s.contains(e)||t("focusout",n)}};async function y(){await a();const t=o(i);if(t){Il.push(p);const i=t.contains(document.activeElement)?n:document.activeElement;if(n=i,!t.contains(i)){const n=new Event(dl,gl);t.addEventListener(dl,f),t.dispatchEvent(n),n.defaultPrevented||a((()=>{let n=e.focusStartEl;h(n)||(kl(n),document.activeElement!==n&&(n="first")),"first"===n&&((e,t=!1)=>{const i=document.activeElement;for(const n of e)if(kl(n,t),document.activeElement!==i)return})(Cl(t),!0),document.activeElement!==i&&"container"!==n||kl(t)}))}}}function x(){const e=o(i);if(e){e.removeEventListener(dl,f);const t=new CustomEvent(pl,{...gl,detail:{focusReason:u.value}});e.addEventListener(pl,m),e.dispatchEvent(t),t.defaultPrevented||"keyboard"!=u.value&&xl.value>bl.value&&!e.contains(document.activeElement)||kl(null!=n?n:document.body),e.removeEventListener(pl,m),Il.remove(p)}}return s((()=>{e.trapped&&y(),l((()=>e.trapped),(e=>{e?y():x()}))})),S((()=>{e.trapped&&x()})),{onKeydown:g}}});var Fl=ma(Ol,[["render",function(e,t,i,n,o,r){return T(e.$slots,"default",{handleKeydown:e.onKeydown})}],["__file","focus-trap.vue"]]);const Al=Jo({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Array,default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Hr,default:"bottom"},popperOptions:{type:Object,default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}}),Dl=Jo({...Al,id:String,style:{type:[String,Array,Object]},className:{type:[String,Array,Object]},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:[String,Array,Object]},popperStyle:{type:[String,Array,Object]},referenceEl:{type:Object},triggerTargetEl:{type:Object},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),zl={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Nl=(e,t=[])=>{const{placement:i,strategy:n,popperOptions:o}=e,r={placement:i,strategy:n,...o,modifiers:[...jl(e),...t]};return function(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}(r,null==o?void 0:o.modifiers),r};function jl(e){const{offset:t,gpuAcceleration:i,fallbackPlacements:n}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:i}}]}const Bl=e=>{const{popperInstanceRef:t,contentRef:i,triggerRef:n,role:r}=x(Za,void 0),a=c(),h=c(),u=y((()=>({name:"eventListeners",enabled:!!e.visible}))),d=y((()=>{var e;const t=o(a),i=null!=(e=o(h))?e:0;return{name:"arrow",enabled:(n=t,!(void 0===n)),options:{element:t,padding:i}};var n})),p=y((()=>({onFirstUpdate:()=>{v()},...Nl(e,[o(d),o(u)])}))),g=y((()=>(e=>{if(xe)return ke(e)})(e.referenceEl)||o(n))),{attributes:f,state:m,styles:_,update:v,forceUpdate:b,instanceRef:w}=Qs(g,i,p);return l(w,(e=>t.value=e)),s((()=>{l((()=>{var e;return null==(e=o(g))?void 0:e.getBoundingClientRect()}),(()=>{v()}))})),{attributes:f,arrowRef:a,contentRef:i,instanceRef:w,state:m,styles:_,role:r,forceUpdate:b,update:v}},Gl=(e,{attributes:t,styles:i,role:n})=>{const{nextZIndex:s}=(e=>{const t=e||(r()?x(pa,void 0):void 0),i=y((()=>{const e=o(t);return zo(e)?e:2e3})),n=y((()=>i.value+da.value));return{initialZIndex:i,currentZIndex:n,nextZIndex:()=>(da.value++,n.value)}})(),a=Rr("popper"),l=y((()=>o(t).popper)),h=c(zo(e.zIndex)?e.zIndex:s()),u=y((()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass])),d=y((()=>[{zIndex:o(h)},o(i).popper,e.popperStyle||{}]));return{ariaModal:y((()=>"dialog"===n.value?"false":void 0)),arrowStyle:y((()=>o(i).arrow||{})),contentAttrs:l,contentClass:u,contentStyle:d,contentZIndex:h,updateZIndex:()=>{h.value=zo(e.zIndex)?e.zIndex:s()}}},Vl=u({name:"ElPopperContent"}),Wl=u({...Vl,props:Dl,emits:zl,setup(e,{expose:t,emit:i}){const n=e,{focusStartRef:r,trapped:a,onFocusAfterReleased:h,onFocusAfterTrapped:u,onFocusInTrap:g,onFocusoutPrevented:f,onReleaseRequested:m}=((e,t)=>{const i=c(!1),n=c();return{focusStartRef:n,trapped:i,onFocusAfterReleased:e=>{var i;"pointer"!==(null==(i=e.detail)?void 0:i.focusReason)&&(n.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:t=>{e.visible&&!i.value&&(t.target&&(n.value=t.target),i.value=!0)},onFocusoutPrevented:t=>{e.trapping||("pointer"===t.detail.focusReason&&t.preventDefault(),i.value=!1)},onReleaseRequested:()=>{i.value=!1,t("close")}}})(n,i),{attributes:_,arrowRef:y,contentRef:b,styles:w,instanceRef:C,role:E,update:R}=Bl(n),{ariaModal:M,arrowStyle:P,contentAttrs:L,contentClass:O,contentStyle:F,updateZIndex:A}=Gl(n,{styles:w,attributes:_,role:E}),D=x(wa,void 0),z=c();let N;k(Ja,{arrowStyle:P,arrowRef:y,arrowOffset:z}),D&&(D.addInputId||D.removeInputId)&&k(wa,{...D,addInputId:v,removeInputId:v});const B=(e=!0)=>{R(),e&&A()},V=()=>{B(!1),n.visible&&n.focusOnShow?a.value=!0:!1===n.visible&&(a.value=!1)};return s((()=>{l((()=>n.triggerTargetEl),((e,t)=>{null==N||N(),N=void 0;const i=o(e||b.value),r=o(t||b.value);No(i)&&(N=l([E,()=>n.ariaLabel,M,()=>n.id],(e=>{["role","aria-label","aria-modal","id"].forEach(((t,n)=>{Mo(e[n])?i.removeAttribute(t):i.setAttribute(t,e[n])}))}),{immediate:!0})),r!==i&&No(r)&&["role","aria-label","aria-modal","id"].forEach((e=>{r.removeAttribute(e)}))}),{immediate:!0}),l((()=>n.visible),V,{immediate:!0})})),S((()=>{null==N||N(),N=void 0})),t({popperContentRef:b,popperInstanceRef:C,updatePopper:B,contentStyle:F}),(e,t)=>(d(),p("div",I({ref_key:"contentRef",ref:b},o(L),{style:o(F),class:o(O),tabindex:"-1",onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))}),[G(o(Fl),{trapped:o(a),"trap-on-focus-in":!0,"focus-trap-el":o(b),"focus-start-el":o(r),onFocusAfterTrapped:o(u),onFocusAfterReleased:o(h),onFocusin:o(g),onFocusoutPrevented:o(f),onReleaseRequested:o(m)},{default:j((()=>[T(e.$slots,"default")])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Kl=ma(Wl,[["__file","content.vue"]]);const Xl=tr(tl),Yl=Symbol("elTooltip"),Hl=Jo({...ha,...Dl,appendTo:{type:[String,Object]},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Boolean,default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),ql=Jo({...ll,disabled:Boolean,trigger:{type:[String,Array],default:"hover"},triggerKeys:{type:Array,default:()=>[or,rr]}}),{useModelToggleProps:$l,useModelToggleEmits:Ul,useModelToggle:Zl}=Lr("visible"),Jl=Jo({...Qa,...$l,...Hl,...ql,...il,showArrow:{type:Boolean,default:!0}}),Ql=[...Ul,"before-show","before-hide","show","hide","open","close"],ec=(e,t,i)=>n=>{((e,t)=>Z(e)?e.includes(t):e===t)(o(e),t)&&i(n)},tc=u({name:"ElTooltipTrigger"}),ic=u({...tc,props:ql,setup(e,{expose:t}){const i=e,n=Rr("tooltip"),{controlled:r,id:s,open:a,onOpen:l,onClose:h,onToggle:u}=x(Yl,void 0),p=c(null),g=()=>{if(o(r)||i.disabled)return!0},f=R(i,"trigger"),m=ve(g,ec(f,"hover",l)),_=ve(g,ec(f,"hover",h)),v=ve(g,ec(f,"click",(e=>{0===e.button&&u(e)}))),y=ve(g,ec(f,"focus",l)),b=ve(g,ec(f,"focus",h)),w=ve(g,ec(f,"contextmenu",(e=>{e.preventDefault(),u(e)}))),C=ve(g,(e=>{const{code:t}=e;i.triggerKeys.includes(t)&&(e.preventDefault(),u(e))}));return t({triggerRef:p}),(e,t)=>(d(),N(o(ul),{id:o(s),"virtual-ref":e.virtualRef,open:o(a),"virtual-triggering":e.virtualTriggering,class:z(o(n).e("trigger")),onBlur:o(b),onClick:o(v),onContextmenu:o(w),onFocus:o(y),onMouseenter:o(m),onMouseleave:o(_),onKeydown:o(C)},{default:j((()=>[T(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var nc=ma(ic,[["__file","trigger.vue"]]);const oc=u({name:"ElTooltipContent",inheritAttrs:!1}),rc=u({...oc,props:Hl,setup(e,{expose:t}){const i=e,{selector:n}=la(),r=Rr("tooltip"),s=c(null),a=c(!1),{controlled:h,id:u,open:p,trigger:g,onClose:f,onOpen:m,onShow:_,onHide:v,onBeforeShow:b,onBeforeHide:w}=x(Yl,void 0),C=y((()=>i.transition||`${r.namespace.value}-fade-in-linear`)),E=y((()=>i.persistent));S((()=>{a.value=!0}));const k=y((()=>!!o(E)||o(p))),R=y((()=>!i.disabled&&o(p))),M=y((()=>i.appendTo||n.value)),P=y((()=>{var e;return null!=(e=i.style)?e:{}})),L=y((()=>!o(p))),D=()=>{v()},z=()=>{if(o(h))return!0},B=ve(z,(()=>{i.enterable&&"hover"===o(g)&&m()})),V=ve(z,(()=>{"hover"===o(g)&&f()})),W=()=>{var e,t;null==(t=null==(e=s.value)?void 0:e.updatePopper)||t.call(e),null==b||b()},K=()=>{null==w||w()},Y=()=>{_(),q=function(e,t,i={}){const{window:n=Te,ignore:o=[],capture:r=!0,detectIframe:s=!1}=i;if(!n)return;Ce&&!Re&&(Re=!0,Array.from(n.document.body.children).forEach((e=>e.addEventListener("click",we))));let a=!0;const l=e=>o.some((t=>{if("string"==typeof t)return Array.from(n.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const i=ke(t);return i&&(e.target===i||e.composedPath().includes(i))}})),c=[Ie(n,"click",(i=>{const n=ke(e);n&&n!==i.target&&!i.composedPath().includes(n)&&(0===i.detail&&(a=!l(i)),a?t(i):a=!0)}),{passive:!0,capture:r}),Ie(n,"pointerdown",(t=>{const i=ke(e);i&&(a=!t.composedPath().includes(i)&&!l(t))}),{passive:!0}),s&&Ie(n,"blur",(i=>{var o;const r=ke(e);"IFRAME"!==(null==(o=n.document.activeElement)?void 0:o.tagName)||(null==r?void 0:r.contains(n.document.activeElement))||t(i)}))].filter(Boolean);return()=>c.forEach((e=>e()))}(y((()=>{var e;return null==(e=s.value)?void 0:e.popperContentRef})),(()=>{o(h)||"hover"!==o(g)&&f()}))},H=()=>{i.virtualTriggering||f()};let q;return l((()=>o(p)),(e=>{e||null==q||q()}),{flush:"post"}),l((()=>i.content),(()=>{var e,t;null==(t=null==(e=s.value)?void 0:e.updatePopper)||t.call(e)})),t({contentRef:s}),(e,t)=>(d(),N(J,{disabled:!e.teleported,to:o(M)},[G(X,{name:o(C),onAfterLeave:D,onBeforeEnter:W,onAfterEnter:Y,onBeforeLeave:K},{default:j((()=>[o(k)?O((d(),N(o(Kl),I({key:0,id:o(u),ref_key:"contentRef",ref:s},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":o(L),"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,o(P)],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:o(R),"z-index":e.zIndex,onMouseenter:o(B),onMouseleave:o(V),onBlur:H,onClose:o(f)}),{default:j((()=>[a.value?A("v-if",!0):T(e.$slots,"default",{key:0})])),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[F,o(R)]]):A("v-if",!0)])),_:3},8,["name"])],8,["disabled","to"]))}});var sc=ma(rc,[["__file","content.vue"]]);const ac=["innerHTML"],lc={key:1},cc=u({name:"ElTooltip"}),hc=u({...cc,props:Jl,emits:Ql,setup(e,{expose:t,emit:i}){const n=e;ca();const r=oa(),s=c(),a=c(),h=()=>{var e;const t=o(s);t&&(null==(e=t.popperInstanceRef)||e.update())},u=c(!1),g=c(),{show:f,hide:m,hasUpdateHandler:_}=Zl({indicator:u,toggleReason:g}),{onOpen:v,onClose:x}=(({showAfter:e,hideAfter:t,autoClose:i,open:n,close:r})=>{const{registerTimeout:s}=ea(),{registerTimeout:a,cancelTimeout:l}=ea();return{onOpen:t=>{s((()=>{n(t);const e=o(i);zo(e)&&e>0&&a((()=>{r(t)}),e)}),o(e))},onClose:e=>{l(),s((()=>{r(e)}),o(t))}}})({showAfter:R(n,"showAfter"),hideAfter:R(n,"hideAfter"),autoClose:R(n,"autoClose"),open:f,close:m}),b=y((()=>Do(n.visible)&&!_.value));return k(Yl,{controlled:b,id:r,open:Q(u),trigger:R(n,"trigger"),onOpen:e=>{v(e)},onClose:e=>{x(e)},onToggle:e=>{o(u)?x(e):v(e)},onShow:()=>{i("show",g.value)},onHide:()=>{i("hide",g.value)},onBeforeShow:()=>{i("before-show",g.value)},onBeforeHide:()=>{i("before-hide",g.value)},updatePopper:h}),l((()=>n.disabled),(e=>{e&&u.value&&(u.value=!1)})),ee((()=>u.value&&m())),t({popperRef:s,contentRef:a,isFocusInsideContent:e=>{var t,i;const n=null==(i=null==(t=a.value)?void 0:t.contentRef)?void 0:i.popperContentRef,o=(null==e?void 0:e.relatedTarget)||document.activeElement;return n&&n.contains(o)},updatePopper:h,onOpen:v,onClose:x,hide:m}),(e,t)=>(d(),N(o(Xl),{ref_key:"popperRef",ref:s,role:e.role},{default:j((()=>[G(nc,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:j((()=>[e.$slots.default?T(e.$slots,"default",{key:0}):A("v-if",!0)])),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),G(sc,{ref_key:"contentRef",ref:a,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:j((()=>[T(e.$slots,"content",{},(()=>[e.rawContent?(d(),p("span",{key:0,innerHTML:e.content},null,8,ac)):(d(),p("span",lc,W(e.content),1))])),e.showArrow?(d(),N(o(ol),{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):A("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),_:3},8,["role"]))}}),uc=tr(ma(hc,[["__file","tooltip.vue"]]));function dc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const pc=new Map;let gc;function fc(e,t){let i=[];return Array.isArray(t.arg)?i=t.arg:No(t.arg)&&i.push(t.arg),function(n,o){const r=t.instance.popperRef,s=n.target,a=null==o?void 0:o.target,l=!t||!t.instance,c=!s||!a,h=e.contains(s)||e.contains(a),u=e===s,d=i.length&&i.some((e=>null==e?void 0:e.contains(s)))||i.length&&i.includes(a),p=r&&(r.contains(s)||r.contains(a));l||c||h||u||d||p||t.value(n,o)}}xe&&(document.addEventListener("mousedown",(e=>gc=e)),document.addEventListener("mouseup",(e=>{for(const t of pc.values())for(const{documentHandler:i}of t)i(e,gc)})));const mc={beforeMount(e,t){pc.has(e)||pc.set(e,[]),pc.get(e).push({documentHandler:fc(e,t),bindingFn:t.value})},updated(e,t){pc.has(e)||pc.set(e,[]);const i=pc.get(e),n=i.findIndex((e=>e.bindingFn===t.oldValue)),o={documentHandler:fc(e,t),bindingFn:t.value};n>=0?i.splice(n,1,o):i.push(o)},unmounted(e){pc.delete(e)}},_c={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ga,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},vc={[cr]:e=>h(e)||zo(e)||Do(e),change:e=>h(e)||zo(e)||Do(e)},yc=Symbol("checkboxGroupContextKey"),xc=(e,{model:t,isLimitExceeded:i,hasOwnLabel:n,isDisabled:o,isLabeledByFormItem:s})=>{const c=x(yc,void 0),{formItem:h}=Ea(),{emit:u}=r();function d(t){var i,n;return t===e.trueLabel||!0===t?null==(i=e.trueLabel)||i:null!=(n=e.falseLabel)&&n}const p=y((()=>(null==c?void 0:c.validateEvent)||e.validateEvent));return l((()=>e.modelValue),(()=>{p.value&&(null==h||h.validate("change").catch((e=>{})))})),{handleChange:function(e){if(i.value)return;const t=e.target;u("change",d(t.checked),e)},onClickRoot:async function(r){i.value||n.value||o.value||!s.value||r.composedPath().some((e=>"LABEL"===e.tagName))||(t.value=d([!1,e.falseLabel].includes(t.value)),await a(),function(e,t){u("change",d(e),t)}(t.value,r))}}},bc=(e,t)=>{const{formItem:i}=Ea(),{model:n,isGroup:o,isLimitExceeded:s}=(e=>{const t=c(!1),{emit:i}=r(),n=x(yc,void 0),o=y((()=>!1===Ao(n))),s=c(!1),a=y({get(){var i,r;return o.value?null==(i=null==n?void 0:n.modelValue)?void 0:i.value:null!=(r=e.modelValue)?r:t.value},set(e){var r,a;o.value&&Z(e)?(s.value=void 0!==(null==(r=null==n?void 0:n.max)?void 0:r.value)&&e.length>(null==n?void 0:n.max.value),!1===s.value&&(null==(a=null==n?void 0:n.changeEvent)||a.call(n,e))):(i(cr,e),t.value=e)}});return{model:a,isGroup:o,isLimitExceeded:s}})(e),{isFocused:a,isChecked:l,checkboxButtonSize:h,checkboxSize:u,hasOwnLabel:d}=((e,t,{model:i})=>{const n=x(yc,void 0),o=c(!1),r=y((()=>{const t=i.value;return Do(t)?t:Z(t)?f(e.label)?t.map(te).some((t=>Ro(t,e.label))):t.map(te).includes(e.label):null!=t?t===e.trueLabel:!!t})),s=Ca(y((()=>{var e;return null==(e=null==n?void 0:n.size)?void 0:e.value})),{prop:!0}),a=Ca(y((()=>{var e;return null==(e=null==n?void 0:n.size)?void 0:e.value})));return{checkboxButtonSize:s,isChecked:r,isFocused:o,checkboxSize:a,hasOwnLabel:y((()=>!!t.default||!Mo(e.label)))}})(e,t,{model:n}),{isDisabled:p}=(({model:e,isChecked:t})=>{const i=x(yc,void 0),n=y((()=>{var n,o;const r=null==(n=null==i?void 0:i.max)?void 0:n.value,s=null==(o=null==i?void 0:i.min)?void 0:o.value;return!Ao(r)&&e.value.length>=r&&!t.value||!Ao(s)&&e.value.length<=s&&t.value}));return{isDisabled:Sa(y((()=>(null==i?void 0:i.disabled.value)||n.value))),isLimitDisabled:n}})({model:n,isChecked:l}),{inputId:g,isLabeledByFormItem:m}=ka(e,{formItemContext:i,disableIdGeneration:d,disableIdManagement:o}),{handleChange:_,onClickRoot:v}=xc(e,{model:n,isLimitExceeded:s,hasOwnLabel:d,isDisabled:p,isLabeledByFormItem:m});return((e,{model:t})=>{e.checked&&(Z(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0)})(e,{model:n}),{inputId:g,isLabeledByFormItem:m,isChecked:l,isDisabled:p,isFocused:a,checkboxButtonSize:h,checkboxSize:u,hasOwnLabel:d,model:n,handleChange:_,onClickRoot:v}},wc=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Cc=["id","indeterminate","disabled","value","name","tabindex"],Sc=u({name:"ElCheckbox"});var Ec=ma(u({...Sc,props:_c,emits:vc,setup(e){const t=e,i=L(),{inputId:n,isLabeledByFormItem:r,isChecked:s,isDisabled:a,isFocused:l,checkboxSize:c,hasOwnLabel:h,model:u,handleChange:f,onClickRoot:m}=bc(t,i),_=Rr("checkbox"),v=y((()=>[_.b(),_.m(c.value),_.is("disabled",a.value),_.is("bordered",t.border),_.is("checked",s.value)])),x=y((()=>[_.e("input"),_.is("disabled",a.value),_.is("checked",s.value),_.is("indeterminate",t.indeterminate),_.is("focus",l.value)]));return(e,t)=>(d(),N(B(!o(h)&&o(r)?"span":"label"),{class:z(o(v)),"aria-controls":e.indeterminate?e.controls:null,onClick:o(m)},{default:j((()=>[g("span",{class:z(o(x))},[e.trueLabel||e.falseLabel?O((d(),p("input",{key:0,id:o(n),"onUpdate:modelValue":t[0]||(t[0]=e=>b(u)?u.value=e:null),class:z(o(_).e("original")),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:o(a),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...e)=>o(f)&&o(f)(...e)),onFocus:t[2]||(t[2]=e=>l.value=!0),onBlur:t[3]||(t[3]=e=>l.value=!1),onClick:t[4]||(t[4]=V((()=>{}),["stop"]))},null,42,wc)),[[ie,o(u)]]):O((d(),p("input",{key:1,id:o(n),"onUpdate:modelValue":t[5]||(t[5]=e=>b(u)?u.value=e:null),class:z(o(_).e("original")),type:"checkbox",indeterminate:e.indeterminate,disabled:o(a),value:e.label,name:e.name,tabindex:e.tabindex,onChange:t[6]||(t[6]=(...e)=>o(f)&&o(f)(...e)),onFocus:t[7]||(t[7]=e=>l.value=!0),onBlur:t[8]||(t[8]=e=>l.value=!1),onClick:t[9]||(t[9]=V((()=>{}),["stop"]))},null,42,Cc)),[[ie,o(u)]]),g("span",{class:z(o(_).e("inner"))},null,2)],2),o(h)?(d(),p("span",{key:0,class:z(o(_).e("label"))},[T(e.$slots,"default"),e.$slots.default?A("v-if",!0):(d(),p(D,{key:0},[ne(W(e.label),1)],64))],2)):A("v-if",!0)])),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","checkbox.vue"]]);const kc=["name","tabindex","disabled","true-value","false-value"],Tc=["name","tabindex","disabled","value"],Ic=u({name:"ElCheckboxButton"}),Rc=u({...Ic,props:_c,emits:vc,setup(e){const t=e,i=L(),{isFocused:n,isChecked:r,isDisabled:s,checkboxButtonSize:a,model:l,handleChange:c}=bc(t,i),h=x(yc,void 0),u=Rr("checkbox"),g=y((()=>{var e,t,i,n;const o=null!=(t=null==(e=null==h?void 0:h.fill)?void 0:e.value)?t:"";return{backgroundColor:o,borderColor:o,color:null!=(n=null==(i=null==h?void 0:h.textColor)?void 0:i.value)?n:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}})),f=y((()=>[u.b("button"),u.bm("button",a.value),u.is("disabled",s.value),u.is("checked",r.value),u.is("focus",n.value)]));return(e,t)=>(d(),p("label",{class:z(o(f))},[e.trueLabel||e.falseLabel?O((d(),p("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>b(l)?l.value=e:null),class:z(o(u).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:o(s),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...e)=>o(c)&&o(c)(...e)),onFocus:t[2]||(t[2]=e=>n.value=!0),onBlur:t[3]||(t[3]=e=>n.value=!1),onClick:t[4]||(t[4]=V((()=>{}),["stop"]))},null,42,kc)),[[ie,o(l)]]):O((d(),p("input",{key:1,"onUpdate:modelValue":t[5]||(t[5]=e=>b(l)?l.value=e:null),class:z(o(u).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:o(s),value:e.label,onChange:t[6]||(t[6]=(...e)=>o(c)&&o(c)(...e)),onFocus:t[7]||(t[7]=e=>n.value=!0),onBlur:t[8]||(t[8]=e=>n.value=!1),onClick:t[9]||(t[9]=V((()=>{}),["stop"]))},null,42,Tc)),[[ie,o(l)]]),e.$slots.default||e.label?(d(),p("span",{key:2,class:z(o(u).be("button","inner")),style:K(o(r)?o(g):void 0)},[T(e.$slots,"default",{},(()=>[ne(W(e.label),1)]))],6)):A("v-if",!0)],2))}});var Mc=ma(Rc,[["__file","checkbox-button.vue"]]);const Pc=Jo({modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ga,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Lc={[cr]:e=>Z(e),change:e=>Z(e)},Oc=u({name:"ElCheckboxGroup"}),Fc=u({...Oc,props:Pc,emits:Lc,setup(e,{emit:t}){const i=e,n=Rr("checkbox"),{formItem:r}=Ea(),{inputId:s,isLabeledByFormItem:c}=ka(i,{formItemContext:r}),h=async e=>{t(cr,e),await a(),t("change",e)},u=y({get:()=>i.modelValue,set(e){h(e)}});return k(yc,{...Fo(oe(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:u,changeEvent:h}),l((()=>i.modelValue),(()=>{i.validateEvent&&(null==r||r.validate("change").catch((e=>{})))})),(e,t)=>{var i;return d(),N(B(e.tag),{id:o(s),class:z(o(n).b("group")),role:"group","aria-label":o(c)?void 0:e.label||"checkbox-group","aria-labelledby":o(c)?null==(i=o(r))?void 0:i.labelId:void 0},{default:j((()=>[T(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Ac=ma(Fc,[["__file","checkbox-group.vue"]]);const Dc=tr(Ec,{CheckboxButton:Mc,CheckboxGroup:Ac});ir(Mc),ir(Ac);const zc=Jo({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:dr,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Nc={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},jc=u({name:"ElTag"}),Bc=tr(ma(u({...jc,props:zc,emits:Nc,setup(e,{emit:t}){const i=e,n=Ca(),r=Rr("tag"),s=y((()=>{const{type:e,hit:t,effect:o,closable:s,round:a}=i;return[r.b(),r.is("closable",s),r.m(e),r.m(n.value),r.m(o),r.is("hit",t),r.is("round",a)]})),a=e=>{t("close",e)},l=e=>{t("click",e)};return(e,t)=>e.disableTransitions?(d(),p("span",{key:0,class:z(o(s)),style:K({backgroundColor:e.color}),onClick:l},[g("span",{class:z(o(r).e("content"))},[T(e.$slots,"default")],2),e.closable?(d(),N(o(xa),{key:0,class:z(o(r).e("close")),onClick:V(a,["stop"])},{default:j((()=>[G(o(Yo))])),_:1},8,["class","onClick"])):A("v-if",!0)],6)):(d(),N(X,{key:1,name:`${o(r).namespace.value}-zoom-in-center`,appear:""},{default:j((()=>[g("span",{class:z(o(s)),style:K({backgroundColor:e.color}),onClick:l},[g("span",{class:z(o(r).e("content"))},[T(e.$slots,"default")],2),e.closable?(d(),N(o(xa),{key:0,class:z(o(r).e("close")),onClick:V(a,["stop"])},{default:j((()=>[G(o(Yo))])),_:1},8,["class","onClick"])):A("v-if",!0)],6)])),_:3},8,["name"]))}}),[["__file","tag.vue"]])),Gc=e=>typeof zo(e),Vc=Jo({accordion:Boolean,modelValue:{type:[Array,String,Number],default:()=>[]}}),Wc={[cr]:Gc,[hr]:Gc},Kc=Symbol("collapseContextKey"),Xc=u({name:"ElCollapse"});var Yc=ma(u({...Xc,props:Vc,emits:Wc,setup(e,{expose:t,emit:i}){const n=e,{activeNames:r,setActiveNames:s}=((e,t)=>{const i=c(hn(e.modelValue)),n=n=>{i.value=n;const o=e.accordion?i.value[0]:i.value;t(cr,o),t(hr,o)};return l((()=>e.modelValue),(()=>i.value=hn(e.modelValue)),{deep:!0}),k(Kc,{activeNames:i,handleItemClick:t=>{if(e.accordion)n([i.value[0]===t?"":t]);else{const e=[...i.value],o=e.indexOf(t);o>-1?e.splice(o,1):e.push(t),n(e)}}}),{activeNames:i,setActiveNames:n}})(n,i),{rootKls:a}=(()=>{const e=Rr("collapse");return{rootKls:y((()=>e.b()))}})();return t({activeNames:r,setActiveNames:s}),(e,t)=>(d(),p("div",{class:z(o(a))},[T(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const Hc=u({name:"ElCollapseTransition"}),qc=u({...Hc,setup(e){const t=Rr("collapse-transition"),i=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},n={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame((()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:0!==e.scrollHeight?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"}))},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){i(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){i(e)},leaveCancelled(e){i(e)}};return(e,i)=>(d(),N(X,I({name:o(t).b()},re(n)),{default:j((()=>[T(e.$slots,"default")])),_:3},16,["name"]))}});var $c=ma(qc,[["__file","collapse-transition.vue"]]);$c.install=e=>{e.component($c.name,$c)};const Uc=$c,Zc=Jo({title:{type:String,default:""},name:{type:[String,Number],default:()=>mr()},disabled:Boolean}),Jc=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],Qc=["id","aria-hidden","aria-labelledby"],eh=u({name:"ElCollapseItem"});var th=ma(u({...eh,props:Zc,setup(e,{expose:t}){const i=e,{focusing:n,id:r,isActive:s,handleFocus:a,handleHeaderClick:l,handleEnterClick:h}=(e=>{const t=x(Kc),i=c(!1),n=c(!1),o=c(mr()),r=y((()=>null==t?void 0:t.activeNames.value.includes(e.name)));return{focusing:i,id:o,isActive:r,handleFocus:()=>{setTimeout((()=>{n.value?n.value=!1:i.value=!0}),50)},handleHeaderClick:()=>{e.disabled||(null==t||t.handleItemClick(e.name),i.value=!1,n.value=!0)},handleEnterClick:()=>{null==t||t.handleItemClick(e.name)}}})(i),{arrowKls:u,headKls:f,rootKls:m,itemWrapperKls:_,itemContentKls:v,scopedContentId:b,scopedHeadId:w}=((e,{focusing:t,isActive:i,id:n})=>{const r=Rr("collapse"),s=y((()=>[r.b("item"),r.is("active",o(i)),r.is("disabled",e.disabled)])),a=y((()=>[r.be("item","header"),r.is("active",o(i)),{focusing:o(t)&&!e.disabled}]));return{arrowKls:y((()=>[r.be("item","arrow"),r.is("active",o(i))])),headKls:a,rootKls:s,itemWrapperKls:y((()=>r.be("item","wrap"))),itemContentKls:y((()=>r.be("item","content"))),scopedContentId:y((()=>r.b(`content-${o(n)}`))),scopedHeadId:y((()=>r.b(`head-${o(n)}`)))}})(i,{focusing:n,isActive:s,id:r});return t({isActive:s}),(e,t)=>(d(),p("div",{class:z(o(m))},[g("button",{id:o(w),class:z(o(f)),"aria-expanded":o(s),"aria-controls":o(b),"aria-describedby":o(b),tabindex:e.disabled?-1:0,type:"button",onClick:t[0]||(t[0]=(...e)=>o(l)&&o(l)(...e)),onKeydown:t[1]||(t[1]=se(V(((...e)=>o(h)&&o(h)(...e)),["stop","prevent"]),["space","enter"])),onFocus:t[2]||(t[2]=(...e)=>o(a)&&o(a)(...e)),onBlur:t[3]||(t[3]=e=>n.value=!1)},[T(e.$slots,"title",{},(()=>[ne(W(e.title),1)])),G(o(xa),{class:z(o(u))},{default:j((()=>[G(o(Wo))])),_:1},8,["class"])],42,Jc),G(o(Uc),null,{default:j((()=>[O(g("div",{id:o(b),role:"region",class:z(o(_)),"aria-hidden":!o(s),"aria-labelledby":o(w)},[g("div",{class:z(o(v))},[T(e.$slots,"default")],2)],10,Qc),[[F,o(s)]])])),_:3})],2))}}),[["__file","collapse-item.vue"]]);const ih=tr(Yc,{CollapseItem:th}),nh=ir(th),oh=u({name:"ElContainer"});var rh=ma(u({...oh,props:{direction:{type:String}},setup(e){const t=e,i=L(),n=Rr("container"),r=y((()=>"vertical"===t.direction||"horizontal"!==t.direction&&(!(!i||!i.default)&&i.default().some((e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t})))));return(e,t)=>(d(),p("section",{class:z([o(n).b(),o(n).is("vertical",o(r))])},[T(e.$slots,"default")],2))}}),[["__file","container.vue"]]);const sh=u({name:"ElAside"}),ah=u({...sh,props:{width:{type:String,default:null}},setup(e){const t=e,i=Rr("aside"),n=y((()=>t.width?i.cssVarBlock({width:t.width}):{}));return(e,t)=>(d(),p("aside",{class:z(o(i).b()),style:K(o(n))},[T(e.$slots,"default")],6))}});var lh=ma(ah,[["__file","aside.vue"]]);const ch=u({name:"ElFooter"}),hh=u({...ch,props:{height:{type:String,default:null}},setup(e){const t=e,i=Rr("footer"),n=y((()=>t.height?i.cssVarBlock({height:t.height}):{}));return(e,t)=>(d(),p("footer",{class:z(o(i).b()),style:K(o(n))},[T(e.$slots,"default")],6))}});var uh=ma(hh,[["__file","footer.vue"]]);const dh=u({name:"ElHeader"}),ph=u({...dh,props:{height:{type:String,default:null}},setup(e){const t=e,i=Rr("header"),n=y((()=>t.height?i.cssVarBlock({height:t.height}):{}));return(e,t)=>(d(),p("header",{class:z(o(i).b()),style:K(o(n))},[T(e.$slots,"default")],6))}});var gh=ma(ph,[["__file","header.vue"]]);const fh=u({name:"ElMain"});var mh=ma(u({...fh,setup(e){const t=Rr("main");return(e,i)=>(d(),p("main",{class:z(o(t).b())},[T(e.$slots,"default")],2))}}),[["__file","main.vue"]]);const _h=tr(rh,{Aside:lh,Footer:uh,Header:gh,Main:mh}),vh=ir(lh);ir(uh);const yh=ir(gh),xh=ir(mh),bh=Symbol("ElSelectGroup"),wh=Symbol("ElSelect"),Ch=u({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=Rr("select"),i=oa(),n=y((()=>[t.be("dropdown","item"),t.is("disabled",o(u)),{selected:o(h),hover:o(m)}])),s=Y({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:c,itemSelected:h,isDisabled:u,select:d,hoverItem:p}=function(e,t){const i=x(wh),n=x(bh,{disabled:!1}),s=y((()=>f(e.value))),a=y((()=>i.props.multiple?g(i.props.modelValue,e.value):m(e.value,i.props.modelValue))),c=y((()=>{if(i.props.multiple){const e=i.props.modelValue||[];return!a.value&&e.length>=i.props.multipleLimit&&i.props.multipleLimit>0}return!1})),h=y((()=>e.label||(s.value?"":e.value))),u=y((()=>e.value||e.label||"")),d=y((()=>e.disabled||t.groupDisabled||c.value)),p=r(),g=(e=[],t)=>{if(s.value){const n=i.props.valueKey;return e&&e.some((e=>te(on(e,n))===on(t,n)))}return e&&e.includes(t)},m=(e,t)=>{if(s.value){const{valueKey:n}=i.props;return on(e,n)===on(t,n)}return e===t};l((()=>h.value),(()=>{e.created||i.props.remote||i.setSelected()})),l((()=>e.value),((t,n)=>{const{remote:o,valueKey:r}=i.props;if(Object.is(t,n)||(i.onOptionDestroy(n,p.proxy),i.onOptionCreate(p.proxy)),!e.created&&!o){if(r&&f(t)&&f(n)&&t[r]===n[r])return;i.setSelected()}})),l((()=>n.disabled),(()=>{t.groupDisabled=n.disabled}),{immediate:!0});const{queryChange:_}=te(i);return l(_,(n=>{const{query:r}=o(n),s=new RegExp(((e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"))(r),"i");t.visible=s.test(h.value)||e.created,t.visible||i.filteredOptionsCount--}),{immediate:!0}),{select:i,currentLabel:h,currentValue:u,itemSelected:a,isDisabled:d,hoverItem:()=>{e.disabled||n.disabled||(i.hoverIndex=i.optionsArray.indexOf(p.proxy))}}}(e,s),{visible:g,hover:m}=oe(s),_=r().proxy;return d.onOptionCreate(_),S((()=>{const e=_.value,{selected:t}=d,i=(d.props.multiple?t:[t]).some((e=>e.value===_.value));a((()=>{d.cachedOptions.get(e)!==_||i||d.cachedOptions.delete(e)})),d.onOptionDestroy(e,_)})),{ns:t,id:i,containerKls:n,currentLabel:c,itemSelected:h,isDisabled:u,select:d,hoverItem:p,visible:g,hover:m,selectOptionClick:function(){!0!==e.disabled&&!0!==s.groupDisabled&&d.handleOptionSelect(_)},states:s}}}),Sh=["id","aria-disabled","aria-selected"];var Eh=ma(Ch,[["render",function(e,t,i,n,o,r){return O((d(),p("li",{id:e.id,class:z(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=V(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[T(e.$slots,"default",{},(()=>[g("span",null,W(e.currentLabel),1)]))],42,Sh)),[[F,e.visible]])}],["__file","option.vue"]]);const kh=u({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=x(wh),t=Rr("select"),i=y((()=>e.props.popperClass)),n=y((()=>e.props.multiple)),o=y((()=>e.props.fitInputWidth)),r=c("");function a(){var t;r.value=`${null==(t=e.selectWrapper)?void 0:t.offsetWidth}px`}return s((()=>{a(),Ne(e.selectWrapper,a)})),{ns:t,minWidth:r,popperClass:i,isMultiple:n,isFitInputWidth:o}}});var Th=ma(kh,[["render",function(e,t,i,n,o,r){return d(),p("div",{class:z([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:K({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(d(),p("div",{key:0,class:z(e.ns.be("dropdown","header"))},[T(e.$slots,"header")],2)):A("v-if",!0),T(e.$slots,"default"),e.$slots.footer?(d(),p("div",{key:1,class:z(e.ns.be("dropdown","footer"))},[T(e.$slots,"footer")],2)):A("v-if",!0)],6)}],["__file","select-dropdown.vue"]]);const Ih=(e,t,i)=>{const{t:n}=Sr(),r=Rr("select");yr({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},y((()=>!1===e.suffixTransition)));const s=c(null),u=c(null),d=c(null),p=c(null),g=c(null),m=c(null),_=c(null),v=c(null),x=c(),b=C({query:""}),S=C(""),E=c([]);let k=0;const{form:T,formItem:I}=Ea(),R=y((()=>!e.filterable||e.multiple||!t.visible)),M=y((()=>e.disabled||(null==T?void 0:T.disabled))),P=y((()=>{const i=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!M.value&&t.inputHovering&&i})),L=y((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),O=y((()=>r.is("reverse",L.value&&t.visible&&e.suffixTransition))),F=y((()=>(null==T?void 0:T.statusIcon)&&(null==I?void 0:I.validateState)&&er[null==I?void 0:I.validateState])),A=y((()=>e.remote?300:0)),D=y((()=>e.loading?e.loadingText||n("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||n("el.select.noMatch"):0===t.options.size?e.noDataText||n("el.select.noData"):null))),z=y((()=>{const e=Array.from(t.options.values()),i=[];return E.value.forEach((t=>{const n=e.findIndex((e=>e.currentLabel===t));n>-1&&i.push(e[n])})),i.length>=e.length?i:e})),N=y((()=>Array.from(t.cachedOptions.values()))),j=y((()=>{const i=z.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!i})),B=Ca(),G=y((()=>["small"].includes(B.value)?"small":"default")),V=y({get:()=>t.visible&&!1!==D.value,set(e){t.visible=e}});l([()=>M.value,()=>B.value,()=>null==T?void 0:T.size],(()=>{a((()=>{W()}))})),l((()=>e.placeholder),(i=>{t.cachedPlaceHolder=t.currentPlaceholder=i,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")})),l((()=>e.modelValue),((i,n)=>{e.multiple&&(W(),i&&i.length>0||u.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",K(t.query))),H(),e.filterable&&!e.multiple&&(t.inputLength=20),!Ro(i,n)&&e.validateEvent&&(null==I||I.validate("change").catch((e=>{})))}),{flush:"post",deep:!0}),l((()=>t.visible),(n=>{var o,r,s,l,c;n?(null==(r=null==(o=p.value)?void 0:o.updatePopper)||r.call(o),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,null==(l=null==(s=d.value)?void 0:s.focus)||l.call(s),e.multiple?null==(c=u.value)||c.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),K(t.query),e.multiple||e.remote||(b.value.query="",ae(b),ae(S)))):(e.filterable&&(w(e.filterMethod)&&e.filterMethod(""),w(e.remoteMethod)&&e.remoteMethod("")),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,$(),a((()=>{u.value&&""===u.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),i.emit("visible-change",n)})),l((()=>t.options.entries()),(()=>{var i,n,o;if(!xe)return;null==(n=null==(i=p.value)?void 0:i.updatePopper)||n.call(i),e.multiple&&W();const r=(null==(o=_.value)?void 0:o.querySelectorAll("input"))||[];(e.filterable||e.defaultFirstOption||Ao(e.modelValue))&&Array.from(r).includes(document.activeElement)||H(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Y()}),{flush:"post"}),l((()=>t.hoverIndex),(e=>{zo(e)&&e>-1?x.value=z.value[e]||{}:x.value={},z.value.forEach((e=>{e.hover=x.value===e}))}));const W=()=>{a((()=>{var e,i;if(!s.value)return;const n=s.value.$el.querySelector("input");k=k||(n.clientHeight>0?n.clientHeight+2:0);const o=m.value,a=getComputedStyle(n).getPropertyValue(r.cssVarName("input-height")),l=Number.parseFloat(a)||(c=B.value||(null==T?void 0:T.size),pr[c||"default"]);var c;const h=B.value||l===k||k<=0?l:k;!(null===n.offsetParent)&&(n.style.height=(0===t.selected.length?h:Math.max(o?o.clientHeight+(o.clientHeight>h?6:0):0,h))-2+"px"),t.visible&&!1!==D.value&&(null==(i=null==(e=p.value)?void 0:e.updatePopper)||i.call(e))}))},K=async i=>{t.previousQuery===i||t.isOnComposition||(null!==t.previousQuery||!w(e.filterMethod)&&!w(e.remoteMethod)?(t.previousQuery=i,a((()=>{var e,i;t.visible&&(null==(i=null==(e=p.value)?void 0:e.updatePopper)||i.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&a((()=>{if(!M.value){const i=15*u.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,i):i,X()}W()})),e.remote&&w(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(i)):w(e.filterMethod)?(e.filterMethod(i),ae(S)):(t.filteredOptionsCount=t.optionsCount,b.value.query=i,ae(b),ae(S)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await a(),Y())):t.previousQuery=i)},X=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=u.value.value?"":t.cachedPlaceHolder)},Y=()=>{const e=z.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),i=e.find((e=>e.created)),n=e[0];t.hoverIndex=re(z.value,i||n)},H=()=>{var i;if(!e.multiple){const n=q(e.modelValue);return(null==(i=n.props)?void 0:i.created)?(t.createdLabel=n.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=n.currentLabel,t.selected=n,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const n=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{n.push(q(e))})),t.selected=n,a((()=>{W()}))},q=i=>{let n;const o="object"===le(i).toLowerCase(),r="null"===le(i).toLowerCase(),s="undefined"===le(i).toLowerCase();for(let l=t.cachedOptions.size-1;l>=0;l--){const t=N.value[l];if(o?on(t.value,e.valueKey)===on(i,e.valueKey):t.value===i){n={value:i,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(n)return n;const a={value:i,currentLabel:o?i.label:r||s?"":i};return e.multiple&&(a.hitState=!1),a},$=()=>{setTimeout((()=>{const i=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>z.value.findIndex((t=>on(t,i)===on(e,i)))))):t.hoverIndex=-1:t.hoverIndex=z.value.findIndex((e=>ge(e)===ge(t.selected)))}),300)},U=()=>{var e;t.inputWidth=null==(e=s.value)?void 0:e.$el.offsetWidth},Z=Eo((()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,K(t.query))}),A.value),J=Eo((e=>{K(e.target.value)}),A.value),Q=t=>{Ro(e.modelValue,t)||i.emit(hr,t)},ee=e=>function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return void 0!==i&&(o=Ct(i),o=i<0?ko(n+o,0):To(o,n-1)),function(e,t,i,n){for(var o=e.length,r=i+(n?1:-1);n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}(e,bo(t),o,!0)}(e,(e=>!t.disabledOptions.has(e))),ie=(n,o)=>{const r=t.selected.indexOf(o);if(r>-1&&!M.value){const t=e.modelValue.slice();t.splice(r,1),i.emit(cr,t),Q(t),i.emit("remove-tag",o.value)}n.stopPropagation(),ue()},ne=n=>{n.stopPropagation();const o=e.multiple?[]:"";if(!h(o))for(const e of t.selected)e.isDisabled&&o.push(e.value);i.emit(cr,o),Q(o),t.hoverIndex=-1,t.visible=!1,i.emit("clear"),ue()},oe=n=>{var o;if(e.multiple){const r=(e.modelValue||[]).slice(),s=re(r,n.value);s>-1?r.splice(s,1):(e.multipleLimit<=0||r.length<e.multipleLimit)&&r.push(n.value),i.emit(cr,r),Q(r),n.created&&(t.query="",K(""),t.inputLength=20),e.filterable&&(null==(o=u.value)||o.focus())}else i.emit(cr,n.value),Q(n.value),t.visible=!1;se(),t.visible||a((()=>{ce(n)}))},re=(t=[],i)=>{if(!f(i))return t.indexOf(i);const n=e.valueKey;let o=-1;return t.some(((e,t)=>te(on(e,n))===on(i,n)&&(o=t,!0))),o},se=()=>{const e=u.value||s.value;e&&(null==e||e.focus())},ce=e=>{var t,i,n,o,s;const a=Array.isArray(e)?e[0]:e;let l=null;if(null==a?void 0:a.value){const e=z.value.filter((e=>e.value===a.value));e.length>0&&(l=e[0].$el)}if(p.value&&l){const e=null==(o=null==(n=null==(i=null==(t=p.value)?void 0:t.popperRef)?void 0:i.contentRef)?void 0:n.querySelector)?void 0:o.call(n,`.${r.be("dropdown","wrap")}`);e&&function(e,t){if(!xe)return;if(!t)return void(e.scrollTop=0);const i=[];let n=t.offsetParent;for(;null!==n&&e!==n&&e.contains(n);)i.push(n),n=n.offsetParent;const o=t.offsetTop+i.reduce(((e,t)=>e+t.offsetTop),0),r=o+t.offsetHeight,s=e.scrollTop,a=s+e.clientHeight;o<s?e.scrollTop=o:r>a&&(e.scrollTop=r-e.clientHeight)}(e,l)}null==(s=v.value)||s.handleScroll()},he=e=>{if(!Array.isArray(t.selected))return;const i=ee(t.selected.map((e=>e.value))),n=t.selected[i];return n?!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState):void 0},ue=()=>{var e,i;t.visible?null==(e=u.value||s.value)||e.focus():null==(i=s.value)||i.focus()},de=()=>{t.visible=!1},pe=e=>{e&&!t.mouseEnter||M.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:p.value&&p.value.isFocusInsideContent()||(t.visible=!t.visible),ue())},ge=t=>f(t.value)?on(t.value,e.valueKey):t.value,fe=y((()=>z.value.filter((e=>e.visible)).every((e=>e.disabled)))),me=y((()=>e.multiple?t.selected.slice(0,e.maxCollapseTags):[])),_e=y((()=>e.multiple?t.selected.slice(e.maxCollapseTags):[])),ve=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!fe.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const i=z.value[t.hoverIndex];!0!==i.disabled&&!0!==i.states.groupDisabled&&i.visible||ve(e),a((()=>ce(x.value)))}}else t.visible=!0},ye=y((()=>({maxWidth:o(t.inputWidth)-32-(F.value?22:0)+"px",width:"100%"})));return{optionList:E,optionsArray:z,hoverOption:x,selectSize:B,handleResize:()=>{var t,i;U(),null==(i=null==(t=p.value)?void 0:t.updatePopper)||i.call(t),e.multiple&&W()},debouncedOnInputChange:Z,debouncedQueryChange:J,deletePrevTag:n=>{if(n.code!==ar){if(n.target.value.length<=0&&!he()){const t=e.modelValue.slice(),n=ee(t);if(n<0)return;t.splice(n,1),i.emit(cr,t),Q(t)}1===n.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}},deleteTag:ie,deleteSelected:ne,handleOptionSelect:oe,scrollToOption:ce,readonly:R,resetInputHeight:W,showClose:P,iconComponent:L,iconReverse:O,showNewOption:j,collapseTagSize:G,setSelected:H,managePlaceholder:X,selectDisabled:M,emptyText:D,toggleLastOptionHitState:he,resetInputState:e=>{e.code!==lr&&he(!1),t.inputLength=15*u.value.value.length+20,W()},handleComposition:e=>{const i=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,a((()=>K(i)));else{const e=i[i.length-1]||"";t.isOnComposition=!fr(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e),e.disabled&&t.disabledOptions.set(e.value,e)},onOptionDestroy:(e,i)=>{t.options.get(e)===i&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},handleMenuEnter:()=>{a((()=>ce(t.selected)))},handleFocus:n=>{t.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),t.focused=!0,i.emit("focus",n))},focus:ue,blur:()=>{var e,i,n;t.visible=!1,null==(e=s.value)||e.blur(),null==(n=null==(i=d.value)?void 0:i.blur)||n.call(i)},handleBlur:e=>{var n,o,r;(null==(n=p.value)?void 0:n.isFocusInsideContent(e))||(null==(o=g.value)?void 0:o.isFocusInsideContent(e))||(null==(r=_.value)?void 0:r.contains(e.relatedTarget))||(t.visible&&de(),t.focused=!1,i.emit("blur",e))},handleClearClick:e=>{ne(e)},handleClose:de,handleKeydownEscape:e=>{t.visible&&(e.preventDefault(),e.stopPropagation(),t.visible=!1)},toggleMenu:pe,selectOption:()=>{t.visible?z.value[t.hoverIndex]&&oe(z.value[t.hoverIndex]):pe()},getValueKey:ge,navigateOptions:ve,handleDeleteTooltipTag:(e,t)=>{var i,n;ie(e,t),null==(n=null==(i=g.value)?void 0:i.updatePopper)||n.call(i)},dropMenuVisible:V,queryChange:b,groupQueryChange:S,showTagList:me,collapseTagList:_e,selectTagsStyle:ye,reference:s,input:u,iOSInput:d,tooltipRef:p,tagTooltipRef:g,tags:m,selectWrapper:_,scrollbar:v,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Rh=u({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:i}){let n=[];return()=>{var e,o;const r=null==(e=t.default)?void 0:e.call(t),s=[];return r.length&&function e(t){Array.isArray(t)&&t.forEach((t=>{var i,n,o,r;const a=null==(i=(null==t?void 0:t.type)||{})?void 0:i.name;"ElOptionGroup"===a?e(h(t.children)||Array.isArray(t.children)||!w(null==(n=t.children)?void 0:n.default)?t.children:null==(o=t.children)?void 0:o.default()):"ElOption"===a?s.push(null==(r=t.props)?void 0:r.label):Array.isArray(t.children)&&e(t.children)}))}(null==(o=r[0])?void 0:o.children),function(e,t){if(e.length!==t.length)return!1;for(const[i]of e.entries())if(e[i]!=t[i])return!1;return!0}(s,n)||(n=s,i("update-options",s)),r}}});const Mh="ElSelect",Ph=u({name:Mh,componentName:Mh,components:{ElInput:Na,ElSelectMenu:Th,ElOption:Eh,ElOptions:Rh,ElTag:Bc,ElScrollbar:Ua,ElTooltip:uc,ElIcon:xa},directives:{ClickOutside:mc},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:gr},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Hl.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Qo,default:Xo},fitInputWidth:Boolean,suffixIcon:{type:Qo,default:Vo},tagType:{...zc.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Hr,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[cr,hr,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const i=Rr("select"),n=Rr("input"),{t:r}=Sr(),l=oa(),c=function(e){const{t:t}=Sr();return Y({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}(e),{optionList:h,optionsArray:u,hoverOption:d,selectSize:p,readonly:g,handleResize:f,collapseTagSize:m,debouncedOnInputChange:_,debouncedQueryChange:v,deletePrevTag:x,deleteTag:b,deleteSelected:w,handleOptionSelect:C,scrollToOption:S,setSelected:E,resetInputHeight:T,managePlaceholder:I,showClose:R,selectDisabled:M,iconComponent:P,iconReverse:L,showNewOption:O,emptyText:F,toggleLastOptionHitState:A,resetInputState:D,handleComposition:z,onOptionCreate:N,onOptionDestroy:j,handleMenuEnter:B,handleFocus:G,focus:V,blur:W,handleBlur:K,handleClearClick:X,handleClose:H,handleKeydownEscape:q,toggleMenu:$,selectOption:U,getValueKey:Z,navigateOptions:J,handleDeleteTooltipTag:Q,dropMenuVisible:ee,reference:te,input:ie,iOSInput:ne,tooltipRef:re,tagTooltipRef:se,tags:ae,selectWrapper:le,scrollbar:ce,queryChange:he,groupQueryChange:ue,handleMouseEnter:de,handleMouseLeave:pe,showTagList:ge,collapseTagList:fe,selectTagsStyle:me}=Ih(e,c,t),{inputWidth:_e,selected:ve,inputLength:ye,filteredOptionsCount:xe,visible:be,selectedLabel:we,hoverIndex:Se,query:Ee,inputHovering:ke,currentPlaceholder:Te,menuVisibleOnFocus:Ie,isOnComposition:Re,options:Me,cachedOptions:Pe,optionsCount:Le,prefixWidth:Oe}=oe(c),Fe=y((()=>{const t=[i.b()],n=o(p);return n&&t.push(i.m(n)),e.disabled&&t.push(i.m("disabled")),t})),Ae=y((()=>[i.e("tags"),i.is("disabled",o(M))])),De=y((()=>[i.b("tags-wrapper"),{"has-prefix":o(Oe)&&o(ve).length}])),ze=y((()=>[i.e("input"),i.is(o(p)),i.is("disabled",o(M))])),je=y((()=>[i.e("input"),i.is(o(p)),i.em("input","iOS")])),Be=y((()=>[i.is("empty",!e.allowCreate&&Boolean(o(Ee))&&0===o(xe))])),Ge=y((()=>({maxWidth:(o(_e)>123&&o(ve).length>e.maxCollapseTags?o(_e)-123:o(_e)-75)+"px"}))),Ve=y((()=>({marginLeft:`${o(Oe)}px`,flexGrow:1,width:o(ye)/(o(_e)-32)+"%",maxWidth:o(_e)-42+"px"})));k(wh,Y({props:e,options:Me,optionsArray:u,cachedOptions:Pe,optionsCount:Le,filteredOptionsCount:xe,hoverIndex:Se,handleOptionSelect:C,onOptionCreate:N,onOptionDestroy:j,selectWrapper:le,selected:ve,setSelected:E,queryChange:he,groupQueryChange:ue})),s((()=>{c.cachedPlaceHolder=Te.value=e.placeholder||(()=>r("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Te.value=""),Ne(le,f),e.remote&&e.multiple&&T(),a((()=>{const e=te.value&&te.value.$el;if(e&&(_e.value=e.getBoundingClientRect().width,t.slots.prefix)){const t=e.querySelector(`.${n.e("prefix")}`);Oe.value=Math.max(t.getBoundingClientRect().width+11,30)}})),E()})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(cr,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(cr,"");const We=y((()=>{var e,t;return null==(t=null==(e=re.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{isIOS:Ce,onOptionsRendered:e=>{h.value=e},prefixWidth:Oe,selectSize:p,readonly:g,handleResize:f,collapseTagSize:m,debouncedOnInputChange:_,debouncedQueryChange:v,deletePrevTag:x,deleteTag:b,handleDeleteTooltipTag:Q,deleteSelected:w,handleOptionSelect:C,scrollToOption:S,inputWidth:_e,selected:ve,inputLength:ye,filteredOptionsCount:xe,visible:be,selectedLabel:we,hoverIndex:Se,query:Ee,inputHovering:ke,currentPlaceholder:Te,menuVisibleOnFocus:Ie,isOnComposition:Re,options:Me,resetInputHeight:T,managePlaceholder:I,showClose:R,selectDisabled:M,iconComponent:P,iconReverse:L,showNewOption:O,emptyText:F,toggleLastOptionHitState:A,resetInputState:D,handleComposition:z,handleMenuEnter:B,handleFocus:G,focus:V,blur:W,handleBlur:K,handleClearClick:X,handleClose:H,handleKeydownEscape:q,toggleMenu:$,selectOption:U,getValueKey:Z,navigateOptions:J,dropMenuVisible:ee,reference:te,input:ie,iOSInput:ne,tooltipRef:re,popperPaneRef:We,tags:ae,selectWrapper:le,scrollbar:ce,wrapperKls:Fe,tagsKls:Ae,tagWrapperKls:De,inputKls:ze,iOSInputKls:je,scrollbarKls:Be,selectTagsStyle:me,nsSelect:i,tagTextStyle:Ge,inputStyle:Ve,handleMouseEnter:de,handleMouseLeave:pe,showTagList:ge,collapseTagList:fe,tagTooltipRef:se,contentId:l,hoverOption:d}}}),Lh=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Oh=["disabled"],Fh={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};var Ah=ma(Ph,[["render",function(e,t,i,n,o,r){const s=ce("el-tag"),a=ce("el-tooltip"),l=ce("el-icon"),c=ce("el-input"),h=ce("el-option"),u=ce("el-options"),f=ce("el-scrollbar"),m=ce("el-select-menu"),_=he("click-outside");return O((d(),p("div",{ref:"selectWrapper",class:z(e.wrapperKls),onMouseenter:t[22]||(t[22]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[23]||(t[23]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onClick:t[24]||(t[24]=V(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[G(a,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:j((()=>{var i,n;return[g("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=t=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=t=>e.inputHovering=!1)},[e.multiple?(d(),p("div",{key:0,ref:"tags",tabindex:"-1",class:z(e.tagsKls),style:K(e.selectTagsStyle),onClick:t[15]||(t[15]=(...t)=>e.focus&&e.focus(...t))},[e.collapseTags&&e.selected.length?(d(),N(X,{key:0,onAfterLeave:e.resetInputHeight},{default:j((()=>[g("span",{class:z(e.tagWrapperKls)},[(d(!0),p(D,null,ue(e.showTagList,(t=>(d(),N(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:i=>e.deleteTag(i,t)},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text")),style:K(e.tagTextStyle)},W(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(d(),N(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:j((()=>[e.collapseTagsTooltip?(d(),N(a,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text"))},"+ "+W(e.selected.length-e.maxCollapseTags),3)])),content:j((()=>[g("div",{class:z(e.nsSelect.e("collapse-tags"))},[(d(!0),p(D,null,ue(e.collapseTagList,(t=>(d(),p("div",{key:e.getValueKey(t),class:z(e.nsSelect.e("collapse-tag"))},[G(s,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:i=>e.handleDeleteTooltipTag(i,t)},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text")),style:K({maxWidth:e.inputWidth-75+"px"})},W(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(d(),p("span",{key:1,class:z(e.nsSelect.e("tags-text"))},"+ "+W(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):A("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):A("v-if",!0),e.collapseTags?A("v-if",!0):(d(),N(X,{key:1,onAfterLeave:e.resetInputHeight},{default:j((()=>[g("span",{class:z(e.tagWrapperKls),style:K(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(d(!0),p(D,null,ue(e.selected,(t=>(d(),N(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:i=>e.deleteTag(i,t)},{default:j((()=>[g("span",{class:z(e.nsSelect.e("tags-text")),style:K({maxWidth:e.inputWidth-75+"px"})},W(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],6)])),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?O((d(),p("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.query=t),type:"text",class:z(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:K(e.inputStyle),role:"combobox","aria-activedescendant":(null==(i=e.hoverOption)?void 0:i.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[3]||(t[3]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[4]||(t[4]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[5]||(t[5]=se(V((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[6]||(t[6]=se(V((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[7]||(t[7]=se(((...t)=>e.handleKeydownEscape&&e.handleKeydownEscape(...t)),["esc"])),t[8]||(t[8]=se(V(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[9]||(t[9]=se(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[10]||(t[10]=se((t=>e.visible=!1),["tab"]))],onCompositionstart:t[11]||(t[11]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[14]||(t[14]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,Lh)),[[de,e.query]]):A("v-if",!0)],6)):A("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(d(),p("input",{key:1,ref:"iOSInput",class:z(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Oh)):A("v-if",!0),G(c,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=t=>e.selectedLabel=t),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:z([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":(null==(n=e.hoverOption)?void 0:n.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=se(V((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[18]||(t[18]=se(V((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),se(V(e.selectOption,["stop","prevent"]),["enter"]),se(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=se((t=>e.visible=!1),["tab"]))]},pe({suffix:j((()=>[e.iconComponent&&!e.showClose?(d(),N(l,{key:0,class:z([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:j((()=>[(d(),N(B(e.iconComponent)))])),_:1},8,["class"])):A("v-if",!0),e.showClose&&e.clearIcon?(d(),N(l,{key:1,class:z([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:j((()=>[(d(),N(B(e.clearIcon)))])),_:1},8,["class","onClick"])):A("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:j((()=>[g("div",Fh,[T(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]})),content:j((()=>[G(m,null,pe({default:j((()=>[O(G(f,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:z(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:j((()=>[e.showNewOption?(d(),N(h,{key:0,value:e.query,created:!0},null,8,["value"])):A("v-if",!0),G(u,{onUpdateOptions:e.onOptionsRendered},{default:j((()=>[T(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[F,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(d(),p(D,{key:0},[e.$slots.empty?T(e.$slots,"empty",{key:0}):(d(),p("p",{key:1,class:z(e.nsSelect.be("dropdown","empty"))},W(e.emptyText),3))],64)):A("v-if",!0)])),_:2},[e.$slots.header?{name:"header",fn:j((()=>[T(e.$slots,"header")]))}:void 0,e.$slots.footer?{name:"footer",fn:j((()=>[T(e.$slots,"footer")]))}:void 0]),1024)])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[_,e.handleClose,e.popperPaneRef]])}],["__file","select.vue"]]);const Dh=u({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Rr("select"),i=c(!0),n=r(),o=c([]);k(bh,Y({...oe(e)}));const a=x(wh);s((()=>{o.value=h(n.subTree)}));const h=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var i;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(i=e.children)?void 0:i.length)&&t.push(...h(e))})),t},{groupQueryChange:u}=te(a);return l(u,(()=>{i.value=o.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:i,ns:t}}});var zh=ma(Dh,[["render",function(e,t,i,n,o,r){return O((d(),p("ul",{class:z(e.ns.be("group","wrap"))},[g("li",{class:z(e.ns.be("group","title"))},W(e.label),3),g("li",null,[g("ul",{class:z(e.ns.b("group"))},[T(e.$slots,"default")],2)])],2)),[[F,e.visible]])}],["__file","option-group.vue"]]);const Nh=tr(Ah,{Option:Eh,OptionGroup:zh}),jh=ir(Eh);ir(zh);const Bh=Jo({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:gr},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Qo},activeActionIcon:{type:Qo},activeIcon:{type:Qo},inactiveIcon:{type:Qo},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Function},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),Gh={[cr]:e=>Do(e)||h(e)||zo(e),[hr]:e=>Do(e)||h(e)||zo(e),[ur]:e=>Do(e)||h(e)||zo(e)},Vh=["onClick"],Wh=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],Kh=["aria-hidden"],Xh=["aria-hidden"],Yh=["aria-hidden"],Hh="ElSwitch",qh=u({name:Hh}),$h=u({...qh,props:Bh,emits:Gh,setup(e,{expose:t,emit:i}){const n=e,h=r(),{formItem:u}=Ea(),f=Ca(),m=Rr("switch");[['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]].forEach((e=>{yr({from:e[0],replacement:e[1],scope:Hh,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},y((()=>{var t;return!!(null==(t=h.vnode.props)?void 0:t[e[2]])})))}));const{inputId:_}=ka(n,{formItemContext:u}),v=Sa(y((()=>n.loading))),x=c(!1!==n.modelValue),b=c(),w=c(),C=y((()=>[m.b(),m.m(f.value),m.is("disabled",v.value),m.is("checked",R.value)])),S=y((()=>[m.e("label"),m.em("label","left"),m.is("active",!R.value)])),E=y((()=>[m.e("label"),m.em("label","right"),m.is("active",R.value)])),k=y((()=>({width:Go(n.width)})));l((()=>n.modelValue),(()=>{x.value=!0})),l((()=>n.value),(()=>{x.value=!1}));const I=y((()=>x.value?n.modelValue:n.value)),R=y((()=>I.value===n.activeValue));[n.activeValue,n.inactiveValue].includes(I.value)||(i(cr,n.inactiveValue),i(hr,n.inactiveValue),i(ur,n.inactiveValue)),l(R,(e=>{var t;b.value.checked=e,n.validateEvent&&(null==(t=null==u?void 0:u.validate)||t.call(u,"change").catch((e=>{})))}));const M=()=>{const e=R.value?n.inactiveValue:n.activeValue;i(cr,e),i(hr,e),i(ur,e),a((()=>{b.value.checked=R.value}))},P=()=>{if(v.value)return;const{beforeChange:e}=n;if(!e)return void M();const t=e();[ge(t),Do(t)].includes(!0)||Bo(Hh,"beforeChange must return type `Promise<boolean>` or `boolean`"),ge(t)?t.then((e=>{e&&M()})).catch((e=>{})):t&&M()},L=y((()=>m.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})));return s((()=>{b.value.checked=R.value})),t({focus:()=>{var e,t;null==(t=null==(e=b.value)?void 0:e.focus)||t.call(e)},checked:R}),(e,t)=>(d(),p("div",{class:z(o(C)),style:K(o(L)),onClick:V(P,["prevent"])},[g("input",{id:o(_),ref_key:"input",ref:b,class:z(o(m).e("input")),type:"checkbox",role:"switch","aria-checked":o(R),"aria-disabled":o(v),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:o(v),tabindex:e.tabindex,onChange:M,onKeydown:se(P,["enter"])},null,42,Wh),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?A("v-if",!0):(d(),p("span",{key:0,class:z(o(S))},[e.inactiveIcon?(d(),N(o(xa),{key:0},{default:j((()=>[(d(),N(B(e.inactiveIcon)))])),_:1})):A("v-if",!0),!e.inactiveIcon&&e.inactiveText?(d(),p("span",{key:1,"aria-hidden":o(R)},W(e.inactiveText),9,Kh)):A("v-if",!0)],2)),g("span",{ref_key:"core",ref:w,class:z(o(m).e("core")),style:K(o(k))},[e.inlinePrompt?(d(),p("div",{key:0,class:z(o(m).e("inner"))},[e.activeIcon||e.inactiveIcon?(d(),N(o(xa),{key:0,class:z(o(m).is("icon"))},{default:j((()=>[(d(),N(B(o(R)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(d(),p("span",{key:1,class:z(o(m).is("text")),"aria-hidden":!o(R)},W(o(R)?e.activeText:e.inactiveText),11,Xh)):A("v-if",!0)],2)):A("v-if",!0),g("div",{class:z(o(m).e("action"))},[e.loading?(d(),N(o(xa),{key:0,class:z(o(m).is("loading"))},{default:j((()=>[G(o(qo))])),_:1},8,["class"])):o(R)?T(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(d(),N(o(xa),{key:0},{default:j((()=>[(d(),N(B(e.activeActionIcon)))])),_:1})):A("v-if",!0)])):o(R)?A("v-if",!0):T(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(d(),N(o(xa),{key:0},{default:j((()=>[(d(),N(B(e.inactiveActionIcon)))])),_:1})):A("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?A("v-if",!0):(d(),p("span",{key:1,class:z(o(E))},[e.activeIcon?(d(),N(o(xa),{key:0},{default:j((()=>[(d(),N(B(e.activeIcon)))])),_:1})):A("v-if",!0),!e.activeIcon&&e.activeText?(d(),p("span",{key:1,"aria-hidden":!o(R)},W(e.activeText),9,Yh)):A("v-if",!0)],2))],14,Vh))}}),Uh=tr(ma($h,[["__file","switch.vue"]])),Zh=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Jh="propertychange",Qh=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function eu(e,t){return e>t?1:e<t?-1:0}function tu(e,t,i){if(e[0]<=t)return 0;const n=e.length;if(t<=e[n-1])return n-1;if("function"==typeof i){for(let o=1;o<n;++o){const n=e[o];if(n===t)return o;if(n<t)return i(t,e[o-1],n)>0?o-1:o}return n-1}if(i>0){for(let i=1;i<n;++i)if(e[i]<t)return i-1;return n-1}if(i<0){for(let i=1;i<n;++i)if(e[i]<=t)return i;return n-1}for(let o=1;o<n;++o){if(e[o]==t)return o;if(e[o]<t)return e[o-1]-t<t-e[o]?o-1:o}return n-1}function iu(e,t,i){for(;t<i;){const n=e[t];e[t]=e[i],e[i]=n,++t,--i}}function nu(e,t){const i=Array.isArray(t)?t:[t],n=i.length;for(let o=0;o<n;o++)e[e.length]=i[o]}function ou(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0}function ru(){return!0}function su(){return!1}function au(){}function lu(e){let t,i,n,o=!1;return function(){const r=Array.prototype.slice.call(arguments);return o&&this===n&&ou(r,i)||(o=!0,n=this,i=r,t=e.apply(this,arguments)),t}}function cu(e){for(const t in e)delete e[t]}function hu(e){let t;for(t in e)return!1;return!t}const uu=class extends Qh{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),n=i[e]||(i[e]=[]);n.includes(t)||n.push(t)}dispatchEvent(e){const t="string"==typeof e,i=t?e:e.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const o=t?new Zh(e):e;o.target||(o.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;i in r||(r[i]=0,s[i]=0),++r[i];for(let l=0,c=n.length;l<c;++l)if(a="handleEvent"in n[l]?n[l].handleEvent(o):n[l].call(this,o),!1===a||o.propagationStopped){a=!1;break}if(0==--r[i]){let e=s[i];for(delete s[i];e--;)this.removeEventListener(i,au);delete r[i]}return a}disposeInternal(){this.listeners_&&cu(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const n=i.indexOf(t);-1!==n&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[n]=au,++this.pendingRemovals_[e]):(i.splice(n,1),0===i.length&&delete this.listeners_[e]))}},du="change",pu="error",gu="contextmenu",fu="click",mu="dblclick",_u="keydown",vu="keypress",yu="load",xu="touchmove",bu="wheel";function wu(e,t,i,n,o){if(n&&n!==e&&(i=i.bind(n)),o){const n=i;i=function(){e.removeEventListener(t,i),n.apply(this,arguments)}}const r={target:e,type:t,listener:i};return e.addEventListener(t,i),r}function Cu(e,t,i,n){return wu(e,t,i,n,!0)}function Su(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),cu(e))}class Eu extends uu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(du)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=wu(this,e[o],t);return n}return wu(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const n=e.length;i=new Array(n);for(let o=0;o<n;++o)i[o]=Cu(this,e[o],t)}else i=Cu(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)!function(e){if(Array.isArray(e))for(let t=0,i=e.length;t<i;++t)Su(e[t]);else Su(e)}(i);else if(Array.isArray(e))for(let n=0,o=e.length;n<o;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}Eu.prototype.on,Eu.prototype.once,Eu.prototype.un;const ku=Eu;function Tu(){throw new Error("Unimplemented abstract method.")}let Iu=0;function Ru(e){return e.ol_uid||(e.ol_uid=String(++Iu))}class Mu extends Zh{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}const Pu=class extends ku{constructor(e){super(),this.on,this.once,this.un,Ru(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Mu(i,e,t)),i=Jh,this.hasListener(i)&&this.dispatchEvent(new Mu(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const n=this.values_||(this.values_={});if(i)n[e]=t;else{const i=n[e];n[e]=t,i!==t&&this.notify(e,i)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],hu(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},Lu="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Ou=Lu.includes("firefox");Lu.includes("safari")&&!Lu.includes("chrom")&&(Lu.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Lu));const Fu=Lu.includes("webkit")&&!Lu.includes("edge"),Au=Lu.includes("macintosh"),Du="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,zu="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Nu="undefined"!=typeof Image&&Image.prototype.decode,ju=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(t){}return e}();function Bu(e,t){if(!e)throw new Error(t)}function Gu(e,t){const i=t[0],n=t[1];return t[0]=e[0]*i+e[2]*n+e[4],t[1]=e[1]*i+e[3]*n+e[5],t}function Vu(e,t,i,n,o,r,s,a){const l=Math.sin(r),c=Math.cos(r);return e[0]=n*c,e[1]=o*l,e[2]=-n*l,e[3]=o*c,e[4]=s*n*c-a*n*l+t,e[5]=s*o*l+a*o*c+i,e}function Wu(e,t){const i=(n=t)[0]*n[3]-n[1]*n[2];var n;Bu(0!==i,"Transformation matrix cannot be inverted");const o=t[0],r=t[1],s=t[2],a=t[3],l=t[4],c=t[5];return e[0]=a/i,e[1]=-r/i,e[2]=-s/i,e[3]=o/i,e[4]=(s*c-a*l)/i,e[5]=-(o*c-r*l)/i,e}let Ku;function Xu(e){const t="matrix("+e.join(", ")+")";if(zu)return t;const i=Ku||(Ku=document.createElement("div"));return i.style.transform=t,i.style.transform}new Array(6);const Yu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Hu(e){const t=[1/0,1/0,-1/0,-1/0];for(let i=0,n=e.length;i<n;++i)ad(t,e[i]);return t}function qu(e,t,i){return i?(i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]+t,i[3]=e[3]+t,i):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function $u(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Uu(e,t,i){let n,o;return n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,o=i<e[1]?e[1]-i:e[3]<i?i-e[3]:0,n*n+o*o}function Zu(e,t){return Qu(e,t[0],t[1])}function Ju(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function Qu(e,t,i){return e[0]<=t&&t<=e[2]&&e[1]<=i&&i<=e[3]}function ed(e,t){const i=e[0],n=e[1],o=e[2],r=e[3],s=t[0],a=t[1];let l=Yu.UNKNOWN;return s<i?l|=Yu.LEFT:s>o&&(l|=Yu.RIGHT),a<n?l|=Yu.BELOW:a>r&&(l|=Yu.ABOVE),l===Yu.UNKNOWN&&(l=Yu.INTERSECTING),l}function td(e,t,i,n,o){return o?(o[0]=e,o[1]=t,o[2]=i,o[3]=n,o):[e,t,i,n]}function id(e){return td(1/0,1/0,-1/0,-1/0,e)}function nd(e,t){const i=e[0],n=e[1];return td(i,n,i,n,t)}function od(e,t,i,n,o){return ld(id(o),e,t,i,n)}function rd(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function sd(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function ad(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function ld(e,t,i,n,o){for(;i<n;i+=o)cd(e,t[i],t[i+1]);return e}function cd(e,t,i){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],i),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],i)}function hd(e,t){let i;return i=t(dd(e)),i||(i=t(pd(e)),i||(i=t(bd(e)),i||(i=t(xd(e)),i||!1)))}function ud(e){let t=0;return Sd(e)||(t=wd(e)*vd(e)),t}function dd(e){return[e[0],e[1]]}function pd(e){return[e[2],e[1]]}function gd(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function fd(e,t){let i;if("bottom-left"===t)i=dd(e);else if("bottom-right"===t)i=pd(e);else if("top-left"===t)i=xd(e);else{if("top-right"!==t)throw new Error("Invalid corner");i=bd(e)}return i}function md(e,t,i,n,o){const[r,s,a,l,c,h,u,d]=_d(e,t,i,n);return td(Math.min(r,a,c,u),Math.min(s,l,h,d),Math.max(r,a,c,u),Math.max(s,l,h,d),o)}function _d(e,t,i,n){const o=t*n[0]/2,r=t*n[1]/2,s=Math.cos(i),a=Math.sin(i),l=o*s,c=o*a,h=r*s,u=r*a,d=e[0],p=e[1];return[d-l+u,p-c-h,d-l-u,p-c+h,d+l-u,p+c+h,d+l+u,p+c-h,d-l+u,p-c-h]}function vd(e){return e[3]-e[1]}function yd(e,t,i){const n=i||[1/0,1/0,-1/0,-1/0];return Cd(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):id(n),n}function xd(e){return[e[0],e[3]]}function bd(e){return[e[2],e[3]]}function wd(e){return e[2]-e[0]}function Cd(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Sd(e){return e[2]<e[0]||e[3]<e[1]}function Ed(e,t){const i=t.getExtent(),n=gd(e);if(t.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){const t=wd(i),o=Math.floor((n[0]-i[0])/t)*t;e[0]-=o,e[2]-=o}return e}const kd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Td=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||kd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Id=6378137,Rd=Math.PI*Id,Md=[-Rd,-Rd,Rd,Rd],Pd=[-180,-85,180,85],Ld=Id*Math.log(Math.tan(Math.PI/2));class Od extends Td{constructor(e){super({code:e,units:"m",extent:Md,global:!0,worldExtent:Pd,getPointResolution:function(e,t){return e/Math.cosh(t[1]/Id)}})}}const Fd=[new Od("EPSG:3857"),new Od("EPSG:102100"),new Od("EPSG:102113"),new Od("EPSG:900913"),new Od("http://www.opengis.net/def/crs/EPSG/0/3857"),new Od("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ad(e,t,i){const n=e.length;i=i>1?i:2,void 0===t&&(t=i>2?e.slice():new Array(n));for(let o=0;o<n;o+=i){t[o]=Rd*e[o]/180;let i=Id*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));i>Ld?i=Ld:i<-Ld&&(i=-Ld),t[o+1]=i}return t}function Dd(e,t,i){const n=e.length;i=i>1?i:2,void 0===t&&(t=i>2?e.slice():new Array(n));for(let o=0;o<n;o+=i)t[o]=180*e[o]/Rd,t[o+1]=360*Math.atan(Math.exp(e[o+1]/Id))/Math.PI-90;return t}const zd=[-180,-90,180,90],Nd=6378137*Math.PI/180;class jd extends Td{constructor(e,t){super({code:e,units:"degrees",extent:zd,axisOrientation:t,global:!0,metersPerUnit:Nd,worldExtent:zd})}}const Bd=[new jd("CRS:84"),new jd("EPSG:4326","neu"),new jd("urn:ogc:def:crs:OGC:1.3:CRS84"),new jd("urn:ogc:def:crs:OGC:2:84"),new jd("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new jd("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new jd("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Gd={},Vd={};function Wd(e,t,i){const n=e.getCode(),o=t.getCode();n in Vd||(Vd[n]={}),Vd[n][o]=i}function Kd(e,t,i){return Math.min(Math.max(e,t),i)}function Xd(e,t,i,n,o,r){const s=o-i,a=r-n;if(0!==s||0!==a){const l=((e-i)*s+(t-n)*a)/(s*s+a*a);l>1?(i=o,n=r):l>0&&(i+=s*l,n+=a*l)}return Yd(e,t,i,n)}function Yd(e,t,i,n){const o=i-e,r=n-t;return o*o+r*r}function Hd(e){return e*Math.PI/180}function qd(e,t){const i=e%t;return i*t<0?i+t:i}function $d(e,t,i){return e+i*(t-e)}function Ud(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}function Zd(e,t){return Math.floor(Ud(e,t))}function Jd(e,t){return Math.ceil(Ud(e,t))}function Qd(e,t,i){const n=void 0!==i?e.toFixed(i):""+e;let o=n.indexOf(".");return o=-1===o?n.length:o,o>t?n:new Array(1+t-o).join("0")+n}function ep(e){return function(t){return function(e,t){return function(e,t,i){return e?t.replace("{x}",e[0].toFixed(i)).replace("{y}",e[1].toFixed(i)):""}(e,"{x}, {y}",t)}(t,e)}}function tp(e,t,i){const n=qd(t+180,360)-180,o=Math.abs(3600*n),r=i||0;let s=Math.floor(o/3600),a=Math.floor((o-3600*s)/60),l=Ud(o-3600*s-60*a,r);l>=60&&(l=0,a+=1),a>=60&&(a=0,s+=1);let c=s+"°";return 0===a&&0===l||(c+=" "+Qd(a,2)+"′"),0!==l&&(c+=" "+Qd(l,2,r)+"″"),0!==n&&(c+=" "+e.charAt(n<0?1:0)),c}function ip(e,t){let i=!0;for(let n=e.length-1;n>=0;--n)if(e[n]!=t[n]){i=!1;break}return i}function np(e,t){const i=Math.cos(t),n=Math.sin(t),o=e[0]*i-e[1]*n,r=e[1]*i+e[0]*n;return e[0]=o,e[1]=r,e}function op(e,t){const i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function rp(e,t){return Math.sqrt(op(e,t))}function sp(e,t){if(t.canWrapX()){const i=wd(t.getExtent()),n=function(e,t,i){const n=t.getExtent();let o=0;return t.canWrapX()&&(e[0]<n[0]||e[0]>n[2])&&(i=i||wd(n),o=Math.floor((e[0]-n[0])/i)),o}(e,t,i);n&&(e[0]-=n*i)}return e}const ap=6371008.8;function lp(e,t,i){i=i||ap;const n=Hd(e[1]),o=Hd(t[1]),r=(o-n)/2,s=Hd(t[0]-e[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const cp={info:1,warn:2,error:3,none:4};let hp=cp.info;function up(...e){hp>cp.warn||console.warn(...e)}let dp=!0;function pp(e){dp=!(void 0===e||e)}function gp(e,t){if(void 0!==t)for(let i=0,n=e.length;i<n;++i)t[i]=e[i];else t=e.slice();return t}function fp(e,t){if(void 0!==t&&e!==t){for(let i=0,n=e.length;i<n;++i)t[i]=e[i];e=t}return e}function mp(e){!function(e,t){Gd[e]=t}(e.getCode(),e),Wd(e,e,gp)}function _p(e){return"string"==typeof e?Gd[t=e]||Gd[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function vp(e,t,i,n){let o;const r=(e=_p(e)).getPointResolutionFunc();if(r){if(o=r(t,i),n&&n!==e.getUnits()){const t=e.getMetersPerUnit();t&&(o=o*t/kd[n])}}else{const r=e.getUnits();if("degrees"==r&&!n||"degrees"==n)o=t;else{const s=Cp(e,_p("EPSG:4326"));if(s===fp&&"degrees"!==r)o=t*e.getMetersPerUnit();else{let e=[i[0]-t/2,i[1],i[0]+t/2,i[1],i[0],i[1]-t/2,i[0],i[1]+t/2];e=s(e,e,2),o=(lp(e.slice(0,2),e.slice(2,4))+lp(e.slice(4,6),e.slice(6,8)))/2}const a=n?kd[n]:e.getMetersPerUnit();void 0!==a&&(o/=a)}}return o}function yp(e){!function(e){e.forEach(mp)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&Wd(t,e,gp)}))}))}function xp(e,t){return e?"string"==typeof e?_p(e):e:_p(t)}function bp(e,t){const i=Ep(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),n=i[0];return(n<-180||n>180)&&(i[0]=qd(n+180,360)-180),i}function wp(e,t){if(e===t)return!0;const i=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Cp(e,t)===gp)&&i}function Cp(e,t){let i=function(e,t){let i;return e in Vd&&t in Vd[e]&&(i=Vd[e][t]),i}(e.getCode(),t.getCode());return i||(i=fp),i}function Sp(e,t){return Cp(_p(e),_p(t))}function Ep(e,t,i){return Sp(t,i)(e,void 0,e.length)}function kp(e,t){return e}function Tp(e,t){return dp&&!ip(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(dp=!1,up("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Ip(e,t){return e}function Rp(e,t){return e}var Mp,Pp,Lp;function Op(e,t,i,n,o,r){r=r||[];let s=0;for(let a=t;a<i;a+=n){const t=e[a],i=e[a+1];r[s++]=o[0]*t+o[2]*i+o[4],r[s++]=o[1]*t+o[3]*i+o[5]}return r&&r.length!=s&&(r.length=s),r}function Fp(e,t,i,n,o,r,s){s=s||[];const a=Math.cos(o),l=Math.sin(o),c=r[0],h=r[1];let u=0;for(let d=t;d<i;d+=n){const t=e[d]-c,i=e[d+1]-h;s[u++]=c+t*a-i*l,s[u++]=h+t*l+i*a;for(let o=d+2;o<d+n;++o)s[u++]=e[o]}return s&&s.length!=u&&(s.length=u),s}yp(Fd),yp(Bd),Mp=Fd,Pp=Ad,Lp=Dd,Bd.forEach((function(e){Mp.forEach((function(t){Wd(e,t,Pp),Wd(t,e,Lp)}))}));const Ap=[1,0,0,1,0,0],Dp=class extends Pu{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=lu(((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(t)}))}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Tu()}closestPointXY(e,t,i,n){return Tu()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Tu()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&id(e),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}rotate(e,t){Tu()}scale(e,t,i){Tu()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Tu()}getType(){return Tu()}applyTransform(e){Tu()}intersectsExtent(e){return Tu()}translate(e,t){Tu()}transform(e,t){const i=_p(e),n="tile-pixels"==i.getUnits()?function(e,n,o){const r=i.getExtent(),s=i.getWorldExtent(),a=vd(s)/vd(r);return Vu(Ap,s[0],s[3],a,-a,0,0,0),Op(e,0,e.length,o,Ap,n),Sp(i,t)(e,n,o)}:Sp(i,t);return this.applyTransform(n),this}};function zp(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}const Np=class extends Dp{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return od(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Tu()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=zp(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Tu()}setLayout(e,t,i){let n;if(e)n=zp(e);else{for(let e=0;e<i;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}n=t.length,e=function(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}(n)}this.layout=e,this.stride=n}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();Fp(i,0,i.length,n,e,t,i),this.changed()}}scale(e,t,i){void 0===t&&(t=e),i||(i=gd(this.getExtent()));const n=this.getFlatCoordinates();if(n){const o=this.getStride();!function(e,t,i,n,o,r,s,a){a=a||[];const l=s[0],c=s[1];let h=0;for(let u=t;u<i;u+=n){const t=e[u]-l,i=e[u+1]-c;a[h++]=l+o*t,a[h++]=c+r*i;for(let o=u+2;o<u+n;++o)a[h++]=e[o]}a&&a.length!=h&&(a.length=h)}(n,0,n.length,o,e,t,i,n),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();!function(e,t,i,n,o,r,s){s=s||[];let a=0;for(let l=t;l<i;l+=n){s[a++]=e[l]+o,s[a++]=e[l+1]+r;for(let t=l+2;t<l+n;++t)s[a++]=e[t]}s&&s.length!=a&&(s.length=a)}(i,0,i.length,n,e,t,i),this.changed()}}};function jp(e,t,i,n){for(let o=0,r=i.length;o<r;++o)e[t++]=i[o];return t}function Bp(e,t,i,n){for(let o=0,r=i.length;o<r;++o){const r=i[o];for(let i=0;i<n;++i)e[t++]=r[i]}return t}function Gp(e,t,i,n,o){o=o||[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=Bp(e,t,i[s],n);o[r++]=a,t=a}return o.length=r,o}class Vp extends Np{constructor(e,t,i){super(),void 0!==i&&void 0===t?this.setFlatCoordinates(i,e):(t=t||0,this.setCenterAndRadius(e,t,i))}clone(){const e=new Vp(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const o=this.flatCoordinates,r=e-o[0],s=t-o[1],a=r*r+s*s;if(a<n){if(0===a)for(let e=0;e<this.stride;++e)i[e]=o[e];else{const e=this.getRadius()/Math.sqrt(a);i[0]=o[0]+e*r,i[1]=o[1]+e*s;for(let t=2;t<this.stride;++t)i[t]=o[t]}return i.length=this.stride,a}return n}containsXY(e,t){const i=this.flatCoordinates,n=e-i[0],o=t-i[1];return n*n+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,i=t[this.stride]-t[0];return td(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){if(Cd(e,this.getExtent())){const t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||e[1]<=t[1]&&e[3]>=t[1]||hd(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+i;for(let o=1;o<t;++o)n[t+o]=e[o];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let o=jp(n,0,e,this.stride);n[o++]=n[0]+t;for(let r=1,s=this.stride;r<s;++r)n[o++]=n[r];n.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(Fp(i,0,i.length,n,e,t,i)),this.changed()}}Vp.prototype.transform;const Wp=Vp;class Kp extends Dp{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Su),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(wu(this.geometries_[e],du,this.changed,this))}clone(){const e=new Kp(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<Uu(this.getExtent(),e,t))return n;const o=this.geometries_;for(let r=0,s=o.length;r<s;++r)n=o[r].closestPointXY(e,t,i,n);return n}containsXY(e,t){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)if(i[n].containsXY(e,t))return!0;return!1}computeExtent(e){id(e);const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)sd(e,t[i].getExtent());return e}getGeometries(){return Xp(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let n=!1;for(let o=0,r=i.length;o<r;++o){const r=i[o],s=r.getSimplifiedGeometry(e);t.push(s),s!==r&&(n=!0)}if(n){const e=new Kp(null);return e.setGeometriesArray(t),e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].rotate(e,t);this.changed()}scale(e,t,i){i||(i=gd(this.getExtent()));const n=this.geometries_;for(let o=0,r=n.length;o<r;++o)n[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(Xp(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Xp(e){const t=[];for(let i=0,n=e.length;i<n;++i)t.push(e[i].clone());return t}const Yp=Kp;function Hp(e,t,i,n,o,r,s){const a=e[t],l=e[t+1],c=e[i]-a,h=e[i+1]-l;let u;if(0===c&&0===h)u=t;else{const d=((o-a)*c+(r-l)*h)/(c*c+h*h);if(d>1)u=i;else{if(d>0){for(let o=0;o<n;++o)s[o]=$d(e[t+o],e[i+o],d);return void(s.length=n)}u=t}}for(let d=0;d<n;++d)s[d]=e[u+d];s.length=n}function qp(e,t,i,n,o){let r=e[t],s=e[t+1];for(t+=n;t<i;t+=n){const i=e[t],n=e[t+1],a=Yd(r,s,i,n);a>o&&(o=a),r=i,s=n}return o}function $p(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];o=qp(e,t,s,n,o),t=s}return o}function Up(e,t,i,n,o,r,s,a,l,c,h){if(t==i)return c;let u,d;if(0===o){if(d=Yd(s,a,e[t],e[t+1]),d<c){for(u=0;u<n;++u)l[u]=e[t+u];return l.length=n,d}return c}h=h||[NaN,NaN];let p=t+n;for(;p<i;)if(Hp(e,p-n,p,n,s,a,h),d=Yd(s,a,h[0],h[1]),d<c){for(c=d,u=0;u<n;++u)l[u]=h[u];l.length=n,p+=n}else p+=n*Math.max((Math.sqrt(d)-Math.sqrt(c))/o|0,1);if(r&&(Hp(e,i-n,t,n,s,a,h),d=Yd(s,a,h[0],h[1]),d<c)){for(c=d,u=0;u<n;++u)l[u]=h[u];l.length=n}return c}function Zp(e,t,i,n,o,r,s,a,l,c,h){h=h||[NaN,NaN];for(let u=0,d=i.length;u<d;++u){const d=i[u];c=Up(e,t,d,n,o,r,s,a,l,c,h),t=d}return c}function Jp(e,t,i,n,o,r,s){const a=(i-t)/n;if(a<3){for(;t<i;t+=n)r[s++]=e[t],r[s++]=e[t+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,i-n];let h=0;for(;c.length>0;){const i=c.pop(),r=c.pop();let s=0;const a=e[r],u=e[r+1],d=e[i],p=e[i+1];for(let t=r+n;t<i;t+=n){const i=Xd(e[t],e[t+1],a,u,d,p);i>s&&(h=t,s=i)}s>o&&(l[(h-t)/n]=1,r+n<h&&c.push(r,h),h+n<i&&c.push(h,i))}for(let u=0;u<a;++u)l[u]&&(r[s++]=e[t+u*n],r[s++]=e[t+u*n+1]);return s}function Qp(e,t,i,n,o,r,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l];s=Jp(e,t,c,n,o,r,s),a.push(s),t=c}return s}function eg(e,t){return t*Math.round(e/t)}function tg(e,t,i,n,o,r,s){if(t==i)return s;let a,l,c=eg(e[t],o),h=eg(e[t+1],o);t+=n,r[s++]=c,r[s++]=h;do{if(a=eg(e[t],o),l=eg(e[t+1],o),(t+=n)==i)return r[s++]=a,r[s++]=l,s}while(a==c&&l==h);for(;t<i;){const i=eg(e[t],o),u=eg(e[t+1],o);if(t+=n,i==a&&u==l)continue;const d=a-c,p=l-h,g=i-c,f=u-h;d*f==p*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(p<0&&f<p||p==f||p>0&&f>p)?(a=i,l=u):(r[s++]=a,r[s++]=l,c=a,h=l,a=i,l=u)}return r[s++]=a,r[s++]=l,s}function ig(e,t,i,n,o,r,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l];s=tg(e,t,c,n,o,r,s),a.push(s),t=c}return s}function ng(e,t,i,n,o){o=void 0!==o?o:[];let r=0;for(let s=t;s<i;s+=n)o[r++]=e.slice(s,s+n);return o.length=r,o}function og(e,t,i,n,o){o=void 0!==o?o:[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=i[s];o[r++]=ng(e,t,a,n,o[r]),t=a}return o.length=r,o}function rg(e,t,i,n,o){o=void 0!==o?o:[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=i[s];o[r++]=1===a.length&&a[0]===t?[]:og(e,t,a,n,o[r]),t=a[a.length-1]}return o.length=r,o}function sg(e,t,i,n){let o=0,r=e[i-n],s=e[i-n+1];for(;t<i;t+=n){const i=e[t],n=e[t+1];o+=s*i-r*n,r=i,s=n}return o/2}function ag(e,t,i,n){let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r];o+=sg(e,t,s,n),t=s}return o}class lg extends Np{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new lg(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,n){return n<Uu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Up(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,n))}getArea(){return sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ng(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Jp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new lg(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bp(this.flatCoordinates,0,e,this.stride),this.changed()}}const cg=lg;function hg(e,t,i,n,o){let r;for(t+=n;t<i;t+=n)if(r=o(e.slice(t-n,t),e.slice(t,t+n)),r)return r;return!1}function ug(e,t,i,n,o,r,s){let a,l;const c=(i-t)/n;if(1===c)a=t;else if(2===c)a=t,l=o;else if(0!==c){let r=e[t],s=e[t+1],c=0;const h=[0];for(let o=t+n;o<i;o+=n){const t=e[o],i=e[o+1];c+=Math.sqrt((t-r)*(t-r)+(i-s)*(i-s)),h.push(c),r=t,s=i}const u=o*c,d=function(e,t,i){let n,o;i=i||eu;let r=0,s=e.length,a=!1;for(;r<s;)n=r+(s-r>>1),o=+i(e[n],t),o<0?r=n+1:(s=n,a=!o);return a?r:~r}(h,u);d<0?(l=(u-h[-d-2])/(h[-d-1]-h[-d-2]),a=t+(-d-2)*n):a=t+d*n}s=s>1?s:2,r=r||new Array(s);for(let h=0;h<s;++h)r[h]=void 0===a?NaN:void 0===l?e[a+h]:$d(e[a+h],e[a+n+h],l);return r}function dg(e,t,i,n,o,r){if(i==t)return null;let s;if(o<e[t+n-1])return r?(s=e.slice(t,t+n),s[n-1]=o,s):null;if(e[i-1]<o)return r?(s=e.slice(i-n,i),s[n-1]=o,s):null;if(o==e[t+n-1])return e.slice(t,t+n);let a=t/n,l=i/n;for(;a<l;){const t=a+l>>1;o<e[(t+1)*n-1]?l=t:a=t+1}const c=e[a*n-1];if(o==c)return e.slice((a-1)*n,(a-1)*n+n);const h=(o-c)/(e[(a+1)*n-1]-c);s=[];for(let u=0;u<n-1;++u)s.push($d(e[(a-1)*n+u],e[a*n+u],h));return s.push(o),s}function pg(e,t,i,n,o){return!hd(o,(function(o){return!gg(e,t,i,n,o[0],o[1])}))}function gg(e,t,i,n,o,r){let s=0,a=e[i-n],l=e[i-n+1];for(;t<i;t+=n){const i=e[t],n=e[t+1];l<=r?n>r&&(i-a)*(r-l)-(o-a)*(n-l)>0&&s++:n<=r&&(i-a)*(r-l)-(o-a)*(n-l)<0&&s--,a=i,l=n}return 0!==s}function fg(e,t,i,n,o,r){if(0===i.length)return!1;if(!gg(e,t,i[0],n,o,r))return!1;for(let s=1,a=i.length;s<a;++s)if(gg(e,i[s-1],i[s],n,o,r))return!1;return!0}function mg(e,t,i,n,o){const r=ld([1/0,1/0,-1/0,-1/0],e,t,i,n);return!!Cd(o,r)&&(!!Ju(o,r)||r[0]>=o[0]&&r[2]<=o[2]||r[1]>=o[1]&&r[3]<=o[3]||hg(e,t,i,n,(function(e,t){return function(e,t,i){let n=!1;const o=ed(e,t),r=ed(e,i);if(o===Yu.INTERSECTING||r===Yu.INTERSECTING)n=!0;else{const s=e[0],a=e[1],l=e[2],c=e[3],h=t[0],u=t[1],d=i[0],p=i[1],g=(p-u)/(d-h);let f,m;r&Yu.ABOVE&&!(o&Yu.ABOVE)&&(f=d-(p-c)/g,n=f>=s&&f<=l),n||!(r&Yu.RIGHT)||o&Yu.RIGHT||(m=p-(d-l)*g,n=m>=a&&m<=c),n||!(r&Yu.BELOW)||o&Yu.BELOW||(f=d-(p-a)/g,n=f>=s&&f<=l),n||!(r&Yu.LEFT)||o&Yu.LEFT||(m=p-(d-s)*g,n=m>=a&&m<=c)}return n}(o,e,t)})))}function _g(e,t,i,n,o){return!!(mg(e,t,i,n,o)||gg(e,t,i,n,o[0],o[1])||gg(e,t,i,n,o[0],o[3])||gg(e,t,i,n,o[2],o[1])||gg(e,t,i,n,o[2],o[3]))}function vg(e,t,i,n,o){if(!_g(e,t,i[0],n,o))return!1;if(1===i.length)return!0;for(let r=1,s=i.length;r<s;++r)if(pg(e,i[r-1],i[r],n,o)&&!mg(e,i[r-1],i[r],n,o))return!1;return!0}function yg(e,t,i,n){let o=e[t],r=e[t+1],s=0;for(let a=t+n;a<i;a+=n){const t=e[a],i=e[a+1];s+=Math.sqrt((t-o)*(t-o)+(i-r)*(i-r)),o=t,r=i}return s}class xg extends Np{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){nu(this.flatCoordinates,e),this.changed()}clone(){const e=new xg(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<Uu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Up(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,n))}forEachSegment(e){return hg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,dg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return ng(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return ug(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Jp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new xg(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return mg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bp(this.flatCoordinates,0,e,this.stride),this.changed()}}const bg=xg;class wg extends Np{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const t=e,i=[],n=[];for(let e=0,r=t.length;e<r;++e)nu(i,t[e].getFlatCoordinates()),n.push(i.length);const o=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(o,i),this.ends_=n}}appendLineString(e){nu(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new wg(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<Uu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($p(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zp(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,n))}getCoordinateAtM(e,t,i){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,i=void 0!==i&&i,function(e,t,i,n,o,r,s){if(s)return dg(e,t,i[i.length-1],n,o,r);let a;if(o<e[n-1])return r?(a=e.slice(0,n),a[n-1]=o,a):null;if(e[e.length-1]<o)return r?(a=e.slice(e.length-n),a[n-1]=o,a):null;for(let l=0,c=i.length;l<c;++l){const r=i[l];if(t!=r){if(o<e[t+n-1])return null;if(o<=e[r-1])return dg(e,t,r,n,o,!1);t=r}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return og(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new bg(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,n=[];let o=0;for(let r=0,s=t.length;r<s;++r){const s=t[r],a=new bg(e.slice(o,s),i);n.push(a),o=s}return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const n=this.ends_,o=this.stride;for(let r=0,s=n.length;r<s;++r){const s=n[r];nu(e,ug(t,i,s,o,.5)),i=s}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Qp(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new wg(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return function(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r){if(mg(e,t,i[r],n,o))return!0;t=i[r]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Gp(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const Cg=wg;class Sg extends Np{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Sg(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const o=this.flatCoordinates,r=Yd(e,t,o[0],o[1]);if(r<n){const e=this.stride;for(let t=0;t<e;++t)i[t]=o[t];return i.length=e,r}return n}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return nd(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Qu(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jp(this.flatCoordinates,0,e,this.stride),this.changed()}}const Eg=Sg;class kg extends Np{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){nu(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new kg(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<Uu(this.getExtent(),e,t))return n;const o=this.flatCoordinates,r=this.stride;for(let s=0,a=o.length;s<a;s+=r){const a=Yd(e,t,o[s],o[s+1]);if(a<n){n=a;for(let e=0;e<r;++e)i[e]=o[s+e];i.length=r}}return n}getCoordinates(){return ng(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Eg(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,n=[];for(let o=0,r=e.length;o<r;o+=i){const r=new Eg(e.slice(o,o+i),t);n.push(r)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let n=0,o=t.length;n<o;n+=i)if(Qu(e,t[n],t[n+1]))return!0;return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bp(this.flatCoordinates,0,e,this.stride),this.changed()}}const Tg=kg;function Ig(e,t,i,n,o,r,s){let a,l,c,h,u,d,p;const g=o[r+1],f=[];for(let v=0,y=i.length;v<y;++v){const o=i[v];for(h=e[o-n],d=e[o-n+1],a=t;a<o;a+=n)u=e[a],p=e[a+1],(g<=d&&p<=g||d<=g&&g<=p)&&(c=(g-d)/(p-d)*(u-h)+h,f.push(c)),h=u,d=p}let m=NaN,_=-1/0;for(f.sort(eu),h=f[0],a=1,l=f.length;a<l;++a){u=f[a];const o=Math.abs(u-h);o>_&&(c=(h+u)/2,fg(e,t,i,n,c,g)&&(m=c,_=o)),h=u}return isNaN(m)&&(m=o[r]),s?(s.push(m,g,_),s):[m,g,_]}function Rg(e,t,i,n,o){let r=[];for(let s=0,a=i.length;s<a;++s){const a=i[s];r=Ig(e,t,a,n,o,2*s,r),t=a[a.length-1]}return r}function Mg(e,t,i,n){for(;t<i-n;){for(let o=0;o<n;++o){const r=e[t+o];e[t+o]=e[i-n+o],e[i-n+o]=r}t+=n,i-=n}}function Pg(e,t,i,n){let o=0,r=e[i-n],s=e[i-n+1];for(;t<i;t+=n){const i=e[t],n=e[t+1];o+=(i-r)*(n+s),r=i,s=n}return 0===o?void 0:o>0}function Lg(e,t,i,n,o){o=void 0!==o&&o;for(let r=0,s=i.length;r<s;++r){const s=i[r],a=Pg(e,t,s,n);if(0===r){if(o&&a||!o&&!a)return!1}else if(o&&!a||!o&&a)return!1;t=s}return!0}function Og(e,t,i,n,o){o=void 0!==o&&o;for(let r=0,s=i.length;r<s;++r){const s=i[r],a=Pg(e,t,s,n);(0===r?o&&a||!o&&!a:o&&!a||!o&&a)&&Mg(e,t,s,n),t=s}return t}function Fg(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r)t=Og(e,t,i[r],n,o);return t}class Ag extends Np{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?nu(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Ag(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<Uu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($p(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zp(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return fg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return ag(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Og(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,og(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=gd(this.getExtent());this.flatInteriorPoint_=Ig(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Eg(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new cg(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,n=[];let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r],a=new cg(t.slice(o,s),e);n.push(a),o=s}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Lg(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Og(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=ig(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new Ag(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return vg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Gp(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}function Dg(e){if(Sd(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],i=e[1],n=e[2],o=e[3],r=[t,i,t,o,n,o,n,i,t,i];return new Ag(r,"XY",[r.length])}function zg(e,t,i,n){const o=[];let r=[1/0,1/0,-1/0,-1/0];for(let s=0,a=i.length;s<a;++s){const a=i[s];r=od(e,t,a[0],n),o.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=a[a.length-1]}return o}class Ng extends Np{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const n=e,o=[],r=[];for(let e=0,t=n.length;e<t;++e){const t=n[e],i=o.length,s=t.getEnds();for(let e=0,n=s.length;e<n;++e)s[e]+=i;nu(o,t.getFlatCoordinates()),r.push(s)}t=0===n.length?this.getLayout():n[0].getLayout(),e=o,i=r}void 0!==t&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const i=this.flatCoordinates.length;nu(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,n=t.length;e<n;++e)t[e]+=i}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const i=new Ng(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,n){return n<Uu(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];o=$p(e,t,s,n,o),t=s[s.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,i,n,o,r,s,a,l,c,h){h=h||[NaN,NaN];for(let u=0,d=i.length;u<d;++u){const d=i[u];c=Zp(e,t,d,n,o,r,s,a,l,c,h),t=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return function(e,t,i,n,o,r){if(0===i.length)return!1;for(let s=0,a=i.length;s<a;++s){const a=i[s];if(fg(e,t,a,n,o,r))return!0;t=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function(e,t,i,n){let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r];o+=ag(e,t,s,n),t=s[s.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Fg(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,rg(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=zg(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Rg(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Tg(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];if(!Lg(e,t,s,n,o))return!1;s.length&&(t=s[s.length-1])}return!0}(e,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Fg(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=function(e,t,i,n,o,r,s,a){for(let l=0,c=i.length;l<c;++l){const c=i[l],h=[];s=ig(e,t,c,n,o,r,s,h),a.push(h),t=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new Ng(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const i=this.endss_[e-1];t=i[i.length-1]}const i=this.endss_[e].slice(),n=i[i.length-1];if(0!==t)for(let o=0,r=i.length;o<r;++o)i[o]-=t;return new Ag(this.flatCoordinates.slice(t,n),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,n=[];let o=0;for(let r=0,s=i.length;r<s;++r){const s=i[r].slice(),a=s[s.length-1];if(0!==o)for(let e=0,t=s.length;e<t;++e)s[e]-=o;const l=new Ag(t.slice(o,a),e,s);n.push(l),o=a}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return function(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r];if(vg(e,t,s,n,o))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=function(e,t,i,n,o){o=o||[];let r=0;for(let s=0,a=i.length;s<a;++s){const a=Gp(e,t,i[s],n,o[r]);0===a.length&&(a[0]=t),o[r++]=a,t=a[a.length-1]}return o.length=r,o}(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{const e=i[i.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}const jg=Ng,Bg="active";function Gg(e){return Math.pow(e,3)}function Vg(e){return 1-Gg(1-e)}function Wg(e){return 3*e*e-2*e*e*e}function Kg(e){return e}function Xg(e,t,i,n){const o=e.getZoom();if(void 0===o)return;const r=e.getConstrainedZoom(o+t),s=e.getResolutionForZoom(r);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:i,duration:void 0!==n?n:250,easing:Vg})}const Yg=class extends Pu{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Bg)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Bg,e)}setMap(e){this.map_=e}},Hg={SINGLECLICK:"singleclick",CLICK:fu,DBLCLICK:mu,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},qg=class extends Yg{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==Hg.DBLCLICK){const i=e.originalEvent,n=e.map,o=e.coordinate,r=i.shiftKey?-this.delta_:this.delta_;Xg(n.getView(),r,o,this.duration_),i.preventDefault(),t=!0}return!t}};function $g(e){const t=e.length;let i=0,n=0;for(let o=0;o<t;o++)i+=e[o].clientX,n+=e[o].clientY;return{clientX:i/t,clientY:n/t}}const Ug=class extends Yg{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Hg.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Hg.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==Hg.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Hg.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}},Zg=class extends Qh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(e[0],t[0])+i,n.top=Math.min(e[1],t[1])+i,n.width=Math.abs(t[0]-e[0])+i,n.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,i=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Ag([i])}getGeometry(){return this.geometry_}};function Jg(e){const t=arguments;return function(e){let i=!0;for(let n=0,o=t.length;n<o&&(i=i&&t[n](e),i);++n);return i}}const Qg=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ef=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),i=e.map.getOwnerDocument().activeElement;return t.contains(i)}(e)},tf=ru,nf=function(e){const t=e.originalEvent;return 0==t.button&&!(Fu&&Au&&t.ctrlKey)},of=su,rf=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},sf=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},af=function(e){const t=e.originalEvent,i=t.target.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i&&!t.target.isContentEditable},lf=function(e){const t=e.originalEvent;return Bu(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},cf=function(e){const t=e.originalEvent;return Bu(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button},hf="boxstart",uf="boxdrag",df="boxend",pf="boxcancel";class gf extends Zh{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}const ff=class extends Ug{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new Zg(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:nf,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const n=i[0]-t[0],o=i[1]-t[1];return n*n+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new gf(uf,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new gf(t?df:pf,e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new gf(hf,e.coordinate,e)),!0)}onBoxEnd(e){}},mf=class extends Ug{constructor(e){super({stopDown:su}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Jg(rf,cf);this.condition_=e.onFocusOnly?Jg(ef,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,n=t.getEventPixel($g(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const t=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=e.map.getView();!function(e,t){e[0]*=t,e[1]*=t}(t,i.getResolution()),np(t,i.getRotation()),i.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),o=i.getCenterInternal(),r=t.getPixelFromCoordinateInternal(o),s=t.getCoordinateFromPixelInternal([r[0]-e*Math.cos(n),r[1]-e*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(s),duration:500,easing:Vg})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};function _f(e){if(void 0!==e)return 0}function vf(e){if(void 0!==e)return e}const yf=class extends Ug{constructor(e){e=e||{},super({stopDown:su}),this.condition_=e.condition?e.condition:Qg,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!lf(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===_f)return;const n=t.getSize(),o=e.pixel,r=Math.atan2(n[1]/2-o[1],o[0]-n[0]/2);if(void 0!==this.lastAngle_){const e=r-this.lastAngle_;i.adjustRotationInternal(-e)}this.lastAngle_=r}handleUpEvent(e){return!lf(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!lf(e)&&(!(!nf(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}},xf=class extends ff{constructor(e){super({condition:(e=e||{}).condition?e.condition:sf,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const t=this.getMap().getView();let i=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(i),n=t.getResolutionForExtentInternal(e),o=t.getResolution()/n;i=i.clone(),i.scale(o*o)}t.fitInternal(i,{duration:this.duration_,easing:Vg})}};class bf extends Pu{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new bf(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Su(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=wu(e,du,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;return Array.isArray(e)?t=e:(Bu("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const wf=bf,Cf=class extends Zh{constructor(e,t,i){super(e),this.map=t,this.frameState=void 0!==i?i:null}},Sf=class extends Cf{constructor(e,t,i,n,o,r){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Ef="opacity",kf="visible",Tf="extent",If="zIndex",Rf="maxResolution",Mf="minResolution",Pf="maxZoom",Lf="minZoom",Of="source",Ff="map",Af=class extends Pu{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[Ef]=void 0!==e.opacity?e.opacity:1,Bu("number"==typeof t[Ef],"Layer opacity must be a number"),t[kf]=void 0===e.visible||e.visible,t[If]=e.zIndex,t[Rf]=void 0!==e.maxResolution?e.maxResolution:1/0,t[Mf]=void 0!==e.minResolution?e.minResolution:0,t[Lf]=void 0!==e.minZoom?e.minZoom:-1/0,t[Pf]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return t.opacity=Kd(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==i||t.managed?i:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Tu()}getLayerStatesArray(e){return Tu()}getExtent(){return this.get(Tf)}getMaxResolution(){return this.get(Rf)}getMinResolution(){return this.get(Mf)}getMinZoom(){return this.get(Lf)}getMaxZoom(){return this.get(Pf)}getOpacity(){return this.get(Ef)}getSourceState(){return Tu()}getVisible(){return this.get(kf)}getZIndex(){return this.get(If)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Tf,e)}setMaxResolution(e){this.set(Rf,e)}setMinResolution(e){this.set(Mf,e)}setMaxZoom(e){this.set(Pf,e)}setMinZoom(e){this.set(Lf,e)}setOpacity(e){Bu("number"==typeof e,"Layer opacity must be a number"),this.set(Ef,e)}setVisible(e){this.set(kf,e)}setZIndex(e){this.set(If,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Df="prerender",zf="postrender",Nf="precompose",jf="postcompose",Bf="rendercomplete",Gf=0,Vf=1,Wf={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Kf=42,Xf=256;function Yf(e,t,i){return function(n,o,r,s,a){if(!n)return;if(!o&&!t)return n;const l=t?0:r[0]*o,c=t?0:r[1]*o,h=a?a[0]:0,u=a?a[1]:0;let d=e[0]+l/2+h,p=e[2]-l/2+h,g=e[1]+c/2+u,f=e[3]-c/2+u;d>p&&(d=(p+d)/2,p=d),g>f&&(g=(f+g)/2,f=g);let m=Kd(n[0],d,p),_=Kd(n[1],g,f);if(s&&i&&o){const e=30*o;m+=-e*Math.log(1+Math.max(0,d-n[0])/e)+e*Math.log(1+Math.max(0,n[0]-p)/e),_+=-e*Math.log(1+Math.max(0,g-n[1])/e)+e*Math.log(1+Math.max(0,n[1]-f)/e)}return[m,_]}}function Hf(e){return e}function qf(e,t,i,n){const o=wd(t)/i[0],r=vd(t)/i[1];return n?Math.min(e,Math.max(o,r)):Math.min(e,Math.min(o,r))}function $f(e,t,i){let n=Math.min(e,t);return n*=Math.log(1+50*Math.max(0,e/t-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/e-1))/50+1),Kd(n,i/2,2*t)}function Uf(e,t,i,n,o){return i=void 0===i||i,function(r,s,a,l){if(void 0!==r){const s=n?qf(e,n,a,o):e;return i&&l?$f(r,s,t):Kd(r,t,s)}}}function Zf(e,t){setTimeout((function(){e(t)}),0)}function Jf(e){return!(e.sourceCenter&&e.targetCenter&&!ip(e.sourceCenter,e.targetCenter))&&e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation}function Qf(e,t,i,n,o){const r=Math.cos(-o);let s=Math.sin(-o),a=e[0]*r-e[1]*s,l=e[1]*r+e[0]*s;return a+=(t[0]/2-i[0])*n,l+=(i[1]-t[1]/2)*n,s=-s,[a*r-l*s,l*r+a*s]}const em=class extends Pu{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=xp(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&pp(),e.center&&(e.center=Tp(e.center,this.projection_)),e.extent&&(e.extent=Rp(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const s in Wf)delete t[s];this.setProperties(t,!0);const i=function(e){let t,i,n;const o=28,r=2;let s=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:o;const l=void 0!==e.zoomFactor?e.zoomFactor:r,c=void 0!==e.multiWorld&&e.multiWorld,h=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,u=void 0!==e.showFullExtent&&e.showFullExtent,d=xp(e.projection,"EPSG:3857"),p=d.getExtent();let g=e.constrainOnlyCenter,f=e.extent;if(c||f||!d.isGlobal()||(g=!1,f=p),void 0!==e.resolutions){const o=e.resolutions;i=o[s],n=void 0!==o[a]?o[a]:o[o.length-1],t=e.constrainResolution?function(e,t,i,n){return t=void 0===t||t,function(o,r,s,a){if(void 0!==o){const l=e[0],c=e[e.length-1],h=i?qf(l,i,s,n):l;if(a)return t?$f(o,h,c):Kd(o,c,h);const u=Math.min(h,o),d=Math.floor(tu(e,u,r));return e[d]>h&&d<e.length-1?e[d+1]:e[d]}}}(o,h,!g&&f,u):Uf(i,n,h,!g&&f,u)}else{const c=(p?Math.max(wd(p),vd(p)):360*kd.degrees/d.getMetersPerUnit())/Xf/Math.pow(r,0),m=c/Math.pow(r,o-0);i=e.maxResolution,void 0!==i?s=0:i=c/Math.pow(l,s),n=e.minResolution,void 0===n&&(n=void 0!==e.maxZoom?void 0!==e.maxResolution?i/Math.pow(l,a):c/Math.pow(l,a):m),a=s+Math.floor(Math.log(i/n)/Math.log(l)),n=i/Math.pow(l,a-s),t=e.constrainResolution?function(e,t,i,n,o,r){return n=void 0===n||n,i=void 0!==i?i:0,function(s,a,l,c){if(void 0!==s){const h=o?qf(t,o,l,r):t;if(c)return n?$f(s,h,i):Kd(s,i,h);const u=1e-9,d=Math.ceil(Math.log(t/h)/Math.log(e)-u),p=-a*(.5-u)+.5,g=Math.min(h,s),f=Math.floor(Math.log(t/g)/Math.log(e)+p),m=Math.max(d,f);return Kd(t/Math.pow(e,m),i,h)}}}(l,i,n,h,!g&&f,u):Uf(i,n,h,!g&&f,u)}return{constraint:t,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const n=function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return Yf(e.extent,e.constrainOnlyCenter,t)}const t=xp(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Yf(e,!1,!1)}return Hf}(e),o=i.constraint,r=function(e){const t=void 0===e.enableRotation||e.enableRotation;if(t){const t=e.constrainRotation;return void 0===t||!0===t?function(e){const t=void 0===e?Hd(5):e;return function(e,i){return i||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===t?vf:"number"==typeof t?function(e){const t=2*Math.PI/e;return function(e,i){return i?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(t):vf}return _f}(e);this.constraints_={center:n,resolution:o,rotation:r},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const n=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),r=o/2*(n[3]-t[3]+t[1]-n[1]),s=o/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([i[0]+r,i[1]-s])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let e=arguments[i];e.center&&(e=Object.assign({},e),e.center=Tp(e.center,this.getProjection())),e.anchor&&(e=Object.assign({},e),e.anchor=Tp(e.anchor,this.getProjection())),t[i]=e}this.animateInternal.apply(this,t)}animateInternal(e){let t,i=arguments.length;i>1&&"function"==typeof arguments[i-1]&&(t=arguments[i-1],--i);let n=0;for(;n<i&&!this.isDef();++n){const e=arguments[n];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(n===i)return void(t&&Zf(t,!0));let o=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;n<i;++n){const e=arguments[n],i={start:o,complete:!1,anchor:e.anchor,duration:void 0!==e.duration?e.duration:1e3,easing:e.easing||Wg,callback:t};if(e.center&&(i.sourceCenter=r,i.targetCenter=e.center.slice(),r=i.targetCenter),void 0!==e.zoom?(i.sourceResolution=s,i.targetResolution=this.getResolutionForZoom(e.zoom),s=i.targetResolution):e.resolution&&(i.sourceResolution=s,i.targetResolution=e.resolution,s=i.targetResolution),void 0!==e.rotation){i.sourceRotation=a;const t=qd(e.rotation-a+Math.PI,2*Math.PI)-Math.PI;i.targetRotation=a+t,a=i.targetRotation}Jf(i)?i.complete=!0:o+=i.duration,l.push(i)}this.animations_.push(l),this.setHint(Gf,1),this.updateAnimations_()}getAnimating(){return this.hints_[Gf]>0}getInteracting(){return this.hints_[Vf]>0}cancelAnimations(){let e;this.setHint(Gf,-this.hints_[Gf]);for(let t=0,i=this.animations_.length;t<i;++t){const i=this.animations_[t];if(i[0].callback&&Zf(i[0].callback,!1),!e)for(let t=0,n=i.length;t<n;++t){const n=i[t];if(!n.complete){e=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let o=!0;for(let i=0,r=n.length;i<r;++i){const r=n[i];if(r.complete)continue;const s=e-r.start;let a=r.duration>0?s/r.duration:1;a>=1?(r.complete=!0,a=1):o=!1;const l=r.easing(a);if(r.sourceCenter){const e=r.sourceCenter[0],t=r.sourceCenter[1],i=r.targetCenter[0],n=r.targetCenter[1];this.nextCenter_=r.targetCenter;const o=e+l*(i-e),s=t+l*(n-t);this.targetCenter_=[o,s]}if(r.sourceResolution&&r.targetResolution){const e=1===l?r.targetResolution:r.sourceResolution+l*(r.targetResolution-r.sourceResolution);if(r.anchor){const t=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(e,0,t,!0);this.targetCenter_=this.calculateCenterZoom(i,r.anchor)}this.nextResolution_=r.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==r.sourceRotation&&void 0!==r.targetRotation){const e=1===l?qd(r.targetRotation+Math.PI,2*Math.PI)-Math.PI:r.sourceRotation+l*(r.targetRotation-r.sourceRotation);if(r.anchor){const t=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(t,r.anchor)}this.nextRotation_=r.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),t=!0,!r.complete)break}if(o){this.animations_[i]=null,this.setHint(Gf,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const e=n[0].callback;e&&Zf(e,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const n=this.getCenterInternal();var o,r;return void 0!==n&&(i=[n[0]-t[0],n[1]-t[1]],np(i,e-this.getRotation()),r=t,(o=i)[0]+=+r[0],o[1]+=+r[1]),i}calculateCenterZoom(e,t){let i;const n=this.getCenterInternal(),o=this.getResolution();return void 0!==n&&void 0!==o&&(i=[t[0]-e*(t[0]-n[0])/o,t[1]-e*(t[1]-n[1])/o]),i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],n=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(n*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e?kp(e,this.getProjection()):e}getCenterInternal(){return this.get(Wf.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return Ip(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Bu(t,"The view center is not defined");const i=this.getResolution();Bu(void 0!==i,"The view resolution is not defined");const n=this.getRotation();return Bu(void 0!==n,"The view rotation is not defined"),md(t,i,n,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Wf.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Rp(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=wd(e)/t[0],n=vd(e)/t[1];return Math.max(i,n)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(t/i)/Math.log(e);return function(i){return t/Math.pow(e,i*n)}}getRotation(){return this.get(Wf.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/t;return function(e){return Math.log(i/e)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const o=this.padding_;if(o){const e=this.getViewportSizeMinusPadding_();n=Qf(n,this.getViewportSize_(),[e[0]/2+o[3],e[1]/2+o[0]],t,i)}return{center:n.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t,i,n=this.minZoom_||0;if(this.resolutions_){const o=tu(this.resolutions_,e,1);n=o,t=this.resolutions_[o],i=o==this.resolutions_.length-1?2:t/this.resolutions_[o+1]}else t=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(t/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Kd(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Kd(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Bu(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))Bu(!Sd(e),"Cannot fit empty extent provided as `geometry`"),i=Dg(Rp(e,this.getProjection()));else if("Circle"===e.getType()){const t=Rp(e.getExtent(),this.getProjection());i=Dg(t),i.rotate(this.getRotation(),gd(t))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),n=Math.sin(-t),o=e.getFlatCoordinates(),r=e.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let h=0,u=o.length;h<u;h+=r){const e=o[h]*i-o[h+1]*n,t=o[h]*n+o[h+1]*i;s=Math.min(s,e),a=Math.min(a,t),l=Math.max(l,e),c=Math.max(c,t)}return[s,a,l,c]}fitInternal(e,t){let i=(t=t||{}).size;i||(i=this.getViewportSizeMinusPadding_());const n=void 0!==t.padding?t.padding:[0,0,0,0],o=void 0!==t.nearest&&t.nearest;let r;r=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(s,[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]);a=isNaN(a)?r:Math.max(a,r),a=this.getConstrainedResolution(a,o?0:1);const l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),u=gd(s);u[0]+=(n[1]-n[3])/2*a,u[1]+=(n[0]-n[2])/2*a;const d=u[0]*h-u[1]*c,p=u[1]*h+u[0]*c,g=this.getConstrainedCenter([d,p],a),f=t.callback?t.callback:au;void 0!==t.duration?this.animateInternal({resolution:a,center:g,duration:t.duration,easing:t.easing},f):(this.targetResolution_=a,this.targetCenter_=g,this.applyTargetState_(!1,!0),Zf(f,!0))}centerOn(e,t,i){this.centerOnInternal(Tp(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Qf(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,n){let o;const r=this.padding_;if(r&&e){const s=this.getViewportSizeMinusPadding_(-i),a=Qf(e,n,[s[0]/2+r[3],s[1]/2+r[0]],t,i);o=[e[0]-a[0],e[1]-a[1]]}return o}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=kp(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Tp(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,n,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Tp(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e?Tp(e,this.getProjection()):e)}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,o,i),s=this.constraints_.center(this.targetCenter_,r,o,i,this.calculateCenterShift(this.targetCenter_,r,n,o));this.get(Wf.ROTATION)!==n&&this.set(Wf.ROTATION,n),this.get(Wf.RESOLUTION)!==r&&(this.set(Wf.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),s&&this.get(Wf.CENTER)&&ip(this.get(Wf.CENTER),s)||this.set(Wf.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=void 0!==e?e:200;const n=t||0,o=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,n,r),a=this.constraints_.center(this.targetCenter_,s,r,!1,this.calculateCenterShift(this.targetCenter_,s,o,r));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=a,void this.applyTargetState_();i=i||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&ip(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:a,resolution:s,duration:e,easing:Vg,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Vf,1)}endInteraction(e,t,i){i=i&&Tp(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Vf,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function tm(e,t){if(!e.visible)return!1;const i=t.resolution;if(i<e.minResolution||i>=e.maxResolution)return!1;const n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}const im=class extends Af{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Of,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(Of)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Su(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=wu(e,du,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const i=this.getMapInternal();let n;!e&&i&&(e=i.getView()),t=e instanceof em?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray()),n=t.layerStatesArray?t.layerStatesArray.find((e=>e.layer===this)):this.getLayerState();const o=this.getExtent();return tm(n,t.viewState)&&(!o||Cd(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];let n=t(e instanceof em?e.getViewStateAndExtent():e);return Array.isArray(n)||(n=[n]),n}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Ff,e)}getMapInternal(){return this.get(Ff)}setMap(e){this.mapPrecomposeKey_&&(Su(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Su(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=wu(e,Nf,(function(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Bu(!t.some((function(e){return e.layer===i.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}),this),this.mapRenderKey_=wu(this,du,e.render,e),this.changed())}setSource(e){this.set(Of,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function nm(e,t,i,n,o){om(e,t,i||0,n||e.length-1,o||sm)}function om(e,t,i,n,o){for(;n>i;){if(n-i>600){var r=n-i+1,s=t-i+1,a=Math.log(r),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(r-l)/r)*(s-r/2<0?-1:1);om(e,t,Math.max(i,Math.floor(t-s*l/r+c)),Math.min(n,Math.floor(t+(r-s)*l/r+c)),o)}var h=e[t],u=i,d=n;for(rm(e,i,t),o(e[n],h)>0&&rm(e,i,n);u<d;){for(rm(e,u,d),u++,d--;o(e[u],h)<0;)u++;for(;o(e[d],h)>0;)d--}0===o(e[i],h)?rm(e,i,d):rm(e,++d,n),d<=t&&(i=d+1),t<=d&&(n=d-1)}}function rm(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function sm(e,t){return e<t?-1:e>t?1:0}let am=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!vm(e,t))return i;const n=this.toBBox,o=[];for(;t;){for(let r=0;r<t.children.length;r++){const s=t.children[r],a=t.leaf?n(s):s;vm(e,a)&&(t.leaf?i.push(s):_m(e,a)?this._all(s,i):o.push(s))}t=o.pop()}return i}collides(e){let t=this.data;if(!vm(e,t))return!1;const i=[];for(;t;){for(let n=0;n<t.children.length;n++){const o=t.children[n],r=t.leaf?this.toBBox(o):o;if(vm(e,r)){if(t.leaf||_m(e,r))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ym([]),this}remove(e,t){if(!e)return this;let i=this.data;const n=this.toBBox(e),o=[],r=[];let s,a,l;for(;i||o.length;){if(i||(i=o.pop(),a=o[o.length-1],s=r.pop(),l=!0),i.leaf){const n=lm(e,i.children,t);if(-1!==n)return i.children.splice(n,1),o.push(i),this._condense(o),this}l||i.leaf||!_m(i,n)?a?(s++,i=a.children[s],l=!1):i=null:(o.push(i),r.push(s),s=0,a=i,i=i.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,n){const o=i-t+1;let r,s=this._maxEntries;if(o<=s)return r=ym(e.slice(t,i+1)),cm(r,this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),r=ym([]),r.leaf=!1,r.height=n;const a=Math.ceil(o/s),l=a*Math.ceil(Math.sqrt(s));xm(e,t,i,l,this.compareMinX);for(let c=t;c<=i;c+=l){const t=Math.min(c+l-1,i);xm(e,c,t,a,this.compareMinY);for(let i=c;i<=t;i+=a){const o=Math.min(i+a-1,t);r.children.push(this._build(e,i,o,n-1))}}return cm(r,this.toBBox),r}_chooseSubtree(e,t,i,n){for(;n.push(t),!t.leaf&&n.length-1!==i;){let i,n=1/0,s=1/0;for(let a=0;a<t.children.length;a++){const l=t.children[a],c=gm(l),h=(o=e,r=l,(Math.max(r.maxX,o.maxX)-Math.min(r.minX,o.minX))*(Math.max(r.maxY,o.maxY)-Math.min(r.minY,o.minY))-c);h<s?(s=h,n=c<n?c:n,i=l):h===s&&c<n&&(n=c,i=l)}t=i||t.children[0]}var o,r;return t}_insert(e,t,i){const n=i?e:this.toBBox(e),o=[],r=this._chooseSubtree(n,this.data,t,o);for(r.children.push(e),um(r,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)}_split(e,t){const i=e[t],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);const r=this._chooseSplitIndex(i,o,n),s=ym(i.children.splice(r,i.children.length-r));s.height=i.height,s.leaf=i.leaf,cm(i,this.toBBox),cm(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)}_splitRoot(e,t){this.data=ym([e,t]),this.data.height=e.height+1,this.data.leaf=!1,cm(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let n,o=1/0,r=1/0;for(let s=t;s<=i-t;s++){const t=hm(e,0,s,this.toBBox),a=hm(e,s,i,this.toBBox),l=mm(t,a),c=gm(t)+gm(a);l<o?(o=l,n=s,r=c<r?c:r):l===o&&c<r&&(r=c,n=s)}return n||i-t}_chooseSplitAxis(e,t,i){const n=e.leaf?this.compareMinX:dm,o=e.leaf?this.compareMinY:pm;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,o)&&e.children.sort(n)}_allDistMargin(e,t,i,n){e.children.sort(n);const o=this.toBBox,r=hm(e,0,t,o),s=hm(e,i-t,i,o);let a=fm(r)+fm(s);for(let l=t;l<i-t;l++){const t=e.children[l];um(r,e.leaf?o(t):t),a+=fm(r)}for(let l=i-t-1;l>=t;l--){const t=e.children[l];um(s,e.leaf?o(t):t),a+=fm(s)}return a}_adjustParentBBoxes(e,t,i){for(let n=i;n>=0;n--)um(t[n],e)}_condense(e){for(let t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children,t.splice(t.indexOf(e[i]),1)):this.clear():cm(e[i],this.toBBox)}};function lm(e,t,i){if(!i)return t.indexOf(e);for(let n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function cm(e,t){hm(e,0,e.children.length,t,e)}function hm(e,t,i,n,o){o||(o=ym(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let r=t;r<i;r++){const t=e.children[r];um(o,e.leaf?n(t):t)}return o}function um(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function dm(e,t){return e.minX-t.minX}function pm(e,t){return e.minY-t.minY}function gm(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function fm(e){return e.maxX-e.minX+(e.maxY-e.minY)}function mm(e,t){const i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),o=Math.min(e.maxX,t.maxX),r=Math.min(e.maxY,t.maxY);return Math.max(0,o-i)*Math.max(0,r-n)}function _m(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function vm(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function ym(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function xm(e,t,i,n,o){const r=[t,i];for(;r.length;){if((i=r.pop())-(t=r.pop())<=n)continue;const s=t+Math.ceil((i-t)/n/2)*n;nm(e,s,t,i,o),r.push(t,s,s,i)}}const bm=0,wm=1,Cm=2,Sm=3;function Em(e){return e[0]>0&&e[1]>0}function km(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}class Tm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=km(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Tm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Tu()}getImage(e){return Tu()}getHitDetectionImage(){return Tu()}getPixelRatio(e){return 1}getImageState(){return Tu()}getImageSize(){return Tu()}getOrigin(){return Tu()}getSize(){return Tu()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=km(e)}listenImageChange(e){Tu()}load(){Tu()}unlistenImageChange(e){Tu()}}const Im=Tm,Rm={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Mm={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Mm.max=Mm.whitepoint[2].D65,Mm.rgb=function(e,t){t=t||Mm.whitepoint[2].E;var i,n,o,r=e[0]/t[0],s=e[1]/t[1],a=e[2]/t[2];return n=-.96924363628087*r+1.87596750150772*s+.041555057407175*a,o=.055630079696993*r+-.20397695888897*s+1.056971514242878*a,i=(i=3.240969941904521*r+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,[255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1)),255*(o=Math.min(Math.max(0,o),1))]},Rm.xyz=function(e,t){var i=e[0]/255,n=e[1]/255,o=e[2]/255,r=.21263900587151*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.71516867876775*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.072192315360733*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92),s=.019330818715591*i+.11919477979462*n+.95053215224966*o;return[(.41239079926595*i+.35758433938387*n+.18048078840183*o)*(t=t||Mm.whitepoint[2].E)[0],r*t[1],s*t[2]]};const Pm={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,i){var n,o,r,s,a,l,c,h,u;return r=e[0],s=e[1],a=e[2],0===r?[0,0,0]:(t=t||"D65",i=i||2,n=s/(13*r)+4*(c=Mm.whitepoint[i][t][0])/(c+15*(h=Mm.whitepoint[i][t][1])+3*(u=Mm.whitepoint[i][t][2]))||0,o=a/(13*r)+9*h/(c+15*h+3*u)||0,[9*(l=r>8?h*Math.pow((r+16)/116,3):h*r*.0011070564598794539)*n/(4*o)||0,l,l*(12-3*n-20*o)/(4*o)||0])}};Mm.luv=function(e,t,i){var n,o,r,s,a,l,c,h,u,d,p;t=t||"D65",i=i||2,d=4*(c=Mm.whitepoint[i][t][0])/(c+15*(h=Mm.whitepoint[i][t][1])+3*(u=Mm.whitepoint[i][t][2])),p=9*h/(c+15*h+3*u),n=4*(s=e[0])/(s+15*(a=e[1])+3*(l=e[2]))||0,o=9*a/(s+15*a+3*l)||0;var g=a/h;return[r=g<=.008856451679035631?903.2962962962961*g:116*Math.pow(g,1/3)-16,13*r*(n-d),13*r*(o-p)]};var Lm={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t,i=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[i,n*Math.cos(t),n*Math.sin(t)]},xyz:function(e){return Pm.xyz(Lm.luv(e))}};Pm.lchuv=function(e){var t=e[0],i=e[1],n=e[2],o=Math.sqrt(i*i+n*n),r=360*Math.atan2(n,i)/2/Math.PI;return r<0&&(r+=360),[t,o,r]},Mm.lchuv=function(e){return Pm.lchuv(Mm.luv(e))};const Om=dc({aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var Fm={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const Am={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,i,n,o,r,s=e[0]/360,a=e[1]/100,l=e[2]/100,c=0;if(0===a)return[r=255*l,r,r];for(t=2*l-(i=l<.5?l*(1+a):l+a-l*a),o=[0,0,0];c<3;)(n=s+1/3*-(c-1))<0?n++:n>1&&n--,r=6*n<1?t+6*(i-t)*n:2*n<1?i:3*n<2?t+(i-t)*(2/3-n)*6:t,o[c++]=255*r;return o}};function Dm(e){var t;Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var i=function(e){var t,i,n=[],o=1;if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if(e=String(e).toLowerCase(),Om[e])n=Om[e].slice(),i="rgb";else if("transparent"===e)o=0,i="rgb",n=[0,0,0];else if("#"===e[0]){var r=e.slice(1),s=r.length;o=1,s<=4?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===s&&(o=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===s&&(o=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var a=t[1],l="cmyk"===(i=a.replace(/a$/,""))?4:"gray"===i?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===i&&(i=n.shift()),o=(n=n.map((function(e,t){if("%"===e[e.length-1])return e=parseFloat(e)/100,3===t?e:"rgb"===i?255*e:"h"===i[0]?100*e:"l"!==i[0]||t?"lab"===i?125*e:"lch"===i?t<2?150*e:360*e:"o"!==i[0]||t?"oklab"===i?.4*e:"oklch"===i?t<2?.4*e:360*e:e:e:100*e;if("h"===i[t]||2===t&&"h"===i[i.length-1]){if(void 0!==Fm[e])return Fm[e];if(e.endsWith("deg"))return parseFloat(e);if(e.endsWith("turn"))return 360*parseFloat(e);if(e.endsWith("grad"))return 360*parseFloat(e)/400;if(e.endsWith("rad"))return 180*parseFloat(e)/Math.PI}return"none"===e?0:parseFloat(e)}))).length>l?n.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(n=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),i=e.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:i,values:n,alpha:o}}(e);if(!i.space)return[];const n="h"===i.space[0]?Am.min:Rm.min,o="h"===i.space[0]?Am.max:Rm.max;return(t=Array(3))[0]=Math.min(Math.max(i.values[0],n[0]),o[0]),t[1]=Math.min(Math.max(i.values[1],n[1]),o[1]),t[2]=Math.min(Math.max(i.values[2],n[2]),o[2]),"h"===i.space[0]&&(t=Am.rgb(t)),t.push(Math.min(Math.max(i.alpha,0),1)),t}function zm(e){return"string"==typeof e?e:Ym(e)}Rm.hsl=function(e){var t,i,n=e[0]/255,o=e[1]/255,r=e[2]/255,s=Math.min(n,o,r),a=Math.max(n,o,r),l=a-s;return a===s?t=0:n===a?t=(o-r)/l:o===a?t=2+(r-n)/l:r===a&&(t=4+(n-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),i=(s+a)/2,[t,100*(a===s?0:i<=.5?l/(a+s):l/(2-a-s)),100*i]};const Nm=1024,jm={};let Bm=0;function Gm(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function Vm(e){const t=Mm.lchuv(Rm.xyz(e));return t[3]=e[3],t}function Wm(e){if(jm.hasOwnProperty(e))return jm[e];if(Bm>=Nm){let e=0;for(const t in jm)0==(3&e++)&&(delete jm[t],--Bm)}const t=Dm(e);if(4!==t.length)throw new Error('Failed to parse "'+e+'" as color');for(const i of t)if(isNaN(i))throw new Error('Failed to parse "'+e+'" as color');return Xm(t),jm[e]=t,++Bm,t}function Km(e){return Array.isArray(e)?e:Wm(e)}function Xm(e){return e[0]=Kd(e[0]+.5|0,0,255),e[1]=Kd(e[1]+.5|0,0,255),e[2]=Kd(e[2]+.5|0,0,255),e[3]=Kd(e[3],0,1),e}function Ym(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let i=e[1];i!=(0|i)&&(i=i+.5|0);let n=e[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+i+","+n+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}function Hm(e){return Array.isArray(e)?Ym(e):e}function qm(e,t,i,n){let o;return o=i&&i.length?i.shift():zu?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",n)}function $m(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Um(e){let t=e.offsetWidth;const i=getComputedStyle(e);return t+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),t}function Zm(e){let t=e.offsetHeight;const i=getComputedStyle(e);return t+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),t}function Jm(e,t){const i=t.parentNode;i&&i.replaceChild(e,t)}function Qm(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function e_(e){for(;e.lastChild;)e.removeChild(e.lastChild)}const t_="ol-hidden",i_="ol-unselectable",n_="ol-control",o_="ol-collapsed",r_=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),s_=["style","variant","weight","size","lineHeight","family"],a_=function(e){const t=e.match(r_);if(!t)return null;const i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,o=s_.length;n<o;++n){const e=t[n+1];void 0!==e&&(i[s_[n]]=e)}return i.families=i.family.split(/,\s?/),i},l_="10px sans-serif",c_="#000",h_="round",u_=[],d_="round",p_="#000",g_="center",f_="middle",m_=[0,0,0,0],__=new Pu;let v_,y_=null;const x_={},b_=function(){const e="32px ",t=["monospace","serif"],i=t.length,n="wmytzilWMYTZIL@#/&?$%10";let o,r;function s(o,s,a){let l=!0;for(let c=0;c<i;++c){const i=t[c];if(r=S_(o+" "+s+" "+e+i,n),a!=i){const t=S_(o+" "+s+" "+e+a+","+i,n);l=l&&t!=r}}return!!l}function a(){let e=!0;const t=__.getKeys();for(let i=0,n=t.length;i<n;++i){const n=t[i];__.get(n)<100&&(s.apply(this,n.split("\n"))?(cu(x_),y_=null,v_=void 0,__.set(n,100)):(__.set(n,__.get(n)+1,!0),e=!1))}e&&(clearInterval(o),o=void 0)}return function(e){const t=a_(e);if(!t)return;const i=t.families;for(let n=0,r=i.length;n<r;++n){const e=i[n],r=t.style+"\n"+t.weight+"\n"+e;void 0===__.get(r)&&(__.set(r,100,!0),s(t.style,t.weight,e)||(__.set(r,0,!0),void 0===o&&(o=setInterval(a,32))))}}}(),w_=function(){let e;return function(t){let i=x_[t];if(null==i){if(zu){const e=a_(t),n=C_(t,"Žg");i=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),i=e.offsetHeight,document.body.removeChild(e);x_[t]=i}return i}}();function C_(e,t){return y_||(y_=qm(1,1)),e!=v_&&(y_.font=e,v_=y_.font),y_.measureText(t)}function S_(e,t){return C_(e,t).width}function E_(e,t,i){if(t in i)return i[t];const n=t.split("\n").reduce(((t,i)=>Math.max(t,S_(e,i))),0);return i[t]=n,n}function k_(e,t,i,n,o,r,s,a,l,c,h){e.save(),1!==i&&(e.globalAlpha*=i),t&&e.transform.apply(e,t),n.contextInstructions?(e.translate(l,c),e.scale(h[0],h[1]),function(e,t){const i=e.contextInstructions;for(let n=0,o=i.length;n<o;n+=2)Array.isArray(i[n+1])?t[i[n]].apply(t,i[n+1]):t[i[n]]=i[n+1]}(n,e)):h[0]<0||h[1]<0?(e.translate(l,c),e.scale(h[0],h[1]),e.drawImage(n,o,r,s,a,0,0,s,a)):e.drawImage(n,o,r,s,a,l,c,s*h[0],a*h[1]),e.restore()}class T_ extends Im{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.render()}clone(){const e=this.getScale(),t=new T_({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){const i=this.renderOptions_,n=qm(i.size*e,i.size*e);this.draw_(i,n,e),t=n.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return Cm}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let n=this.radius_,o=void 0===this.radius2_?n:this.radius2_;if(n<o){const e=n;n=o,o=e}const r=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/r,a=o*Math.sin(s),l=n-Math.sqrt(o*o-a*a),c=Math.sqrt(a*a+l*l),h=c/a;if("miter"===e&&h<=i)return h*t;const u=t/2/h,d=t/2*(l/c),p=Math.sqrt((n+u)*(n+u)+d*d)-n;if(void 0===this.radius2_||"bevel"===e)return 2*p;const g=n*Math.sin(s),f=o-Math.sqrt(n*n-g*g),m=Math.sqrt(g*g+f*f)/g;if(m<=i){const e=m*t/2-o-n;return 2*Math.max(p,e)}return 2*p}createRenderOptions(){let e,t=h_,i=d_,n=0,o=null,r=0,s=0;this.stroke_&&(e=Hm(this.stroke_.getColor()??p_),s=this.stroke_.getWidth()??1,o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??d_,t=this.stroke_.getLineCap()??h_,n=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(i,s,n),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:o,lineDashOffset:r,lineJoin:i,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=c_),t.fillStyle=Hm(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),n=0;"string"==typeof i&&(i=Km(i)),null===i?n=1:Array.isArray(i)&&(n=4===i.length?i[3]:1),0===n&&(t=qm(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(t*=2);const o=this.angle_-Math.PI/2,r=2*Math.PI/t;for(let s=0;s<t;s++){const t=o+s*r,a=s%2==0?i:n;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=c_,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const I_=T_;class R_ extends I_{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new R_({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const M_=R_;class P_{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null}clone(){const e=this.getColor();return new P_({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const L_=P_;class O_{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new O_({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const F_=O_;class A_{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=N_,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new A_({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=N_,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let D_=null;function z_(e,t){if(!D_){const e=new L_({color:"rgba(255,255,255,0.4)"}),t=new F_({color:"#3399CC",width:1.25});D_=[new A_({image:new M_({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return D_}function N_(e){return e.getGeometry()}const j_=A_;function B_(e,t){return t&&(e.src=t),e.src&&Nu?new Promise(((t,i)=>e.decode().then((()=>t(e))).catch((n=>e.complete&&e.width?t(e):i(n))))):function(e,t){return new Promise(((i,n)=>{function o(){s(),i(e)}function r(){s(),n(new Error("Image load error"))}function s(){e.removeEventListener("load",o),e.removeEventListener("error",r)}e.addEventListener("load",o),e.addEventListener("error",r),t&&(e.src=t)}))}(e)}function G_(e,t,i){return t+":"+e+":"+(i?zm(i):"null")}const V_=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const n=G_(e,t,i);return n in this.cache_?this.cache_[n]:null}set(e,t,i,n){const o=G_(e,t,i);this.cache_[o]=n,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};let W_=null;class K_ extends uu{constructor(e,t,i,n,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=void 0===n?bm:n,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Cm){W_||(W_=qm(1,1,void 0,{willReadFrequently:!0})),W_.drawImage(this.image_,0,0);try{W_.getImageData(0,0,1,1),this.tainted_=!1}catch(e){W_=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(du)}handleImageError_(){this.imageState_=Sm,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Cm,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=qm(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===bm){this.image_||this.initializeImage_(),this.imageState_=wm;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(e){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&B_(this.image_,this.src_).then((e=>{this.image_=e,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Cm)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const n=i.getContext("2d");n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=zm(this.color_),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=i}}function X_(e,t,i,n){return void 0!==i&&void 0!==n?[i/e,n/t]:void 0!==i?i/e:void 0!==n?n/t:1}class Y_ extends Im{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,i=void 0!==e.rotation?e.rotation:0,n=void 0!==e.scale?e.scale:1,o=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:i,scale:n,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const r=void 0!==e.img?e.img:null;let s,a=e.src;if(Bu(!(void 0!==a&&r),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!r||(a=r.src||Ru(r)),Bu(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Bu(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=bm:void 0!==r&&(s=r instanceof HTMLImageElement?r.complete?r.src?Cm:bm:wm:Cm),this.color_=void 0!==e.color?Km(e.color):null,this.iconImage_=function(e,t,i,n,o){let r=void 0===t?void 0:V_.get(t,i,o);return r||(r=new K_(e,e instanceof HTMLImageElement?e.src||void 0:t,i,n,o),V_.set(t,i,o,r)),r}(r,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){let t,i;if(e.size)[t,i]=e.size;else{const n=this.getImage(1);if(n.width&&n.height)t=n.width,i=n.height;else if(n instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const i=this.iconImage_.getSize();this.setScale(X_(i[0],i[1],e.width,e.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(X_(t,i,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Y_({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=i[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Cm?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Cm?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(du,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(du,e)}}const H_=Y_;class q_{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=km(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new L_({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const e=this.getScale();return new q_({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=km(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const $_=q_;let U_=0;const Z_=0,J_=1<<U_++,Q_=1<<U_++,ev=1<<U_++,tv=1<<U_++,iv=1<<U_++,nv=Math.pow(2,5)-1,ov={[J_]:"boolean",[Q_]:"number",[ev]:"string",[tv]:"color",[iv]:"number[]"},rv=Object.keys(ov).map(Number).sort(eu);function sv(e){const t=[];for(const n of rv)(e&(i=n))===i&&t.push(ov[n]);var i;return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function av(e,t){return!!(e&t)}function lv(e,t){return e===t}class cv{constructor(e,t){this.type=e,this.value=t}}class hv{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function uv(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function dv(e,t,i){switch(typeof e){case"boolean":return new cv(J_,e);case"number":return new cv(Q_,e);case"string":{let t=ev;return function(e){try{return Wm(e),!0}catch(t){return!1}}(e)&&(t|=tv),lv(t&i,Z_)||(t&=i),new cv(t,e)}}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(0===e.length)throw new Error("Empty expression");if("string"==typeof e[0])return function(e,t,i){const n=e[0],o=gv[n];if(!o)throw new Error(`Unknown operator: ${n}`);return o(e,t,i)}(e,t,i);for(const o of e)if("number"!=typeof o)throw new Error("Expected an array of numbers");let n=iv;return 3!==e.length&&4!==e.length||(n|=tv),i&&(n&=i),new cv(n,e)}const pv={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},gv={[pv.Get]:xv((([e,t])=>void 0!==t?function(e){switch(e){case"string":return ev;case"color":return tv;case"number":return Q_;case"boolean":return J_;case"number[]":return iv;default:throw new Error(`Unrecognized type hint: ${e}`)}}(t.value):nv),mv(1,2),(function(e,t){const i=dv(e[1],t);if(!(i instanceof cv))throw new Error("Expected a literal argument for get operation");if("string"!=typeof i.value)throw new Error("Expected a string argument for get operation");return t.properties.add(i.value),3===e.length?[i,dv(e[2],t)]:[i]})),[pv.Var]:xv((([e])=>e.type),mv(1,1),(function(e,t,i,n){const o=e[1];if("string"!=typeof o)throw new Error("Expected a string argument for var operation");if(t.variables.add(o),!("variables"in t.style)||void 0===t.style.variables[o])return[new cv(nv,o)];const r=dv(t.style.variables[o],t);if(r.value=o,n&&!av(n,r.type))throw new Error(`The variable ${o} has type ${sv(r.type)} but the following type was expected: ${sv(n)}`);return[r]})),[pv.Id]:xv(Q_|ev,fv,(function(e,t){t.featureId=!0})),[pv.Concat]:xv(ev,mv(2,1/0),_v(nv)),[pv.GeometryType]:xv(ev,fv),[pv.Resolution]:xv(Q_,fv),[pv.Zoom]:xv(Q_,fv),[pv.Time]:xv(Q_,fv),[pv.Any]:xv(J_,mv(2,1/0),_v(J_)),[pv.All]:xv(J_,mv(2,1/0),_v(J_)),[pv.Not]:xv(J_,mv(1,1),_v(J_)),[pv.Equal]:xv(J_,mv(2,2),_v(nv),vv),[pv.NotEqual]:xv(J_,mv(2,2),_v(nv),vv),[pv.GreaterThan]:xv(J_,mv(2,2),_v(nv),vv),[pv.GreaterThanOrEqualTo]:xv(J_,mv(2,2),_v(nv),vv),[pv.LessThan]:xv(J_,mv(2,2),_v(nv),vv),[pv.LessThanOrEqualTo]:xv(J_,mv(2,2),_v(nv),vv),[pv.Multiply]:xv((e=>{let t=Q_|tv;for(let i=0;i<e.length;i++)t&=e[i].type;return t}),mv(2,1/0),_v(Q_|tv),vv),[pv.Divide]:xv(Q_,mv(2,2),_v(Q_)),[pv.Add]:xv(Q_,mv(2,1/0),_v(Q_)),[pv.Subtract]:xv(Q_,mv(2,2),_v(Q_)),[pv.Clamp]:xv(Q_,mv(3,3),_v(Q_)),[pv.Mod]:xv(Q_,mv(2,2),_v(Q_)),[pv.Pow]:xv(Q_,mv(2,2),_v(Q_)),[pv.Abs]:xv(Q_,mv(1,1),_v(Q_)),[pv.Floor]:xv(Q_,mv(1,1),_v(Q_)),[pv.Ceil]:xv(Q_,mv(1,1),_v(Q_)),[pv.Round]:xv(Q_,mv(1,1),_v(Q_)),[pv.Sin]:xv(Q_,mv(1,1),_v(Q_)),[pv.Cos]:xv(Q_,mv(1,1),_v(Q_)),[pv.Atan]:xv(Q_,mv(1,2),_v(Q_)),[pv.Sqrt]:xv(Q_,mv(1,1),_v(Q_)),[pv.Match]:xv((e=>{let t=nv;for(let i=2;i<e.length;i+=2)t&=e[i].type;return t&=e[e.length-1].type,t}),mv(4,1/0),yv,(function(e,t,i,n){const o=e.length-1;let r=dv(e[1],t).type;const s=dv(e[e.length-1],t);let a=void 0!==n?n&s.type:s.type;const l=new Array(o-2);for(let h=0;h<o-2;h+=2){const i=dv(e[h+2],t),n=dv(e[h+3],t);r&=i.type,a&=n.type,l[h]=i,l[h+1]=n}const c=ev|Q_|J_;if(!av(c,r))throw new Error(`Expected an input of type ${sv(c)} for the interpolate operation, got ${sv(r)} instead`);if(lv(a,Z_))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let h=0;h<o-2;h+=2){const i=dv(e[h+2],t,r),n=dv(e[h+3],t,a);l[h]=i,l[h+1]=n}return[dv(e[1],t,r),...l,dv(e[e.length-1],t,a)]})),[pv.Between]:xv(J_,mv(3,3),_v(Q_)),[pv.Interpolate]:xv((e=>{let t=tv|Q_;for(let i=3;i<e.length;i+=2)t&=e[i].type;return t}),mv(6,1/0),yv,(function(e,t,i,n){const o=e[1];let r;switch(o[0]){case"linear":r=1;break;case"exponential":if(r=o[1],"number"!=typeof r)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(r)} instead`);break;default:r=null}if(!r)throw new Error(`Invalid interpolation type: ${JSON.stringify(o)}`);r=dv(r,t);let s=dv(e[2],t);if(!av(Q_,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${sv(s.type)} instead`);s=dv(e[2],t,Q_);const a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){let i=dv(e[l+3],t);if(!av(Q_,i.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${sv(i.type)} at position ${l+2} instead`);let n=dv(e[l+4],t);if(!av(Q_|tv,n.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${sv(n.type)} at position ${l+3} instead`);i=dv(e[l+3],t,Q_),n=dv(e[l+4],t,Q_|tv),a[l]=i,a[l+1]=n}return[r,s,...a]})),[pv.Case]:xv((e=>{let t=nv;for(let i=1;i<e.length;i+=2)t&=e[i].type;return t&=e[e.length-1].type,t}),mv(3,1/0),(function(e,t){const i=e[0],n=e.length-1;if(n%2==0)throw new Error(`An odd amount of arguments was expected for operation ${i}, got ${JSON.stringify(n)} instead`)}),(function(e,t,i,n){const o=dv(e[e.length-1],t);let r=void 0!==n?n&o.type:o.type;const s=new Array(e.length-1);for(let a=0;a<s.length-1;a+=2){const i=dv(e[a+1],t),n=dv(e[a+2],t);if(!av(J_,i.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${sv(i.type)} at position ${a} instead`);r&=n.type,s[a]=i,s[a+1]=n}if(lv(r,Z_))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let a=0;a<s.length-1;a+=2)s[a+1]=dv(e[a+2],t,r);return s[s.length-1]=dv(e[e.length-1],t,r),s})),[pv.In]:xv(J_,mv(2,2),(function(e,t){let i=e[2];if(!Array.isArray(i))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof i[0]){if("literal"!==i[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(i[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');i=i[1]}let n=ev|Q_;const o=new Array(i.length);for(let r=0;r<o.length;r++){const e=dv(i[r],t);n&=e.type,o[r]=e}if(lv(n,Z_))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[dv(e[1],t,n),...o]})),[pv.Number]:xv(Q_,mv(1,1/0),_v(nv)),[pv.String]:xv(ev,mv(1,1/0),_v(nv)),[pv.Array]:xv((e=>3===e.length||4===e.length?iv|tv:iv),mv(1,1/0),_v(Q_)),[pv.Color]:xv(tv,mv(3,4),_v(Q_)),[pv.Band]:xv(Q_,mv(1,3),_v(Q_)),[pv.Palette]:xv(tv,mv(2,2),(function(e,t){const i=dv(e[1],t,Q_);if(i.type!==Q_)throw new Error(`The first argument of palette must be an number, got ${sv(i.type)} instead`);const n=e[2];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");const o=new Array(n.length);for(let r=0;r<o.length;r++){const e=dv(n[r],t,tv);if(!(e instanceof cv))throw new Error(`The palette color at index ${r} must be a literal value`);if(!av(e.type,tv))throw new Error(`The palette color at index ${r} should be of type color, got ${sv(e.type)} instead`);o[r]=e}return[i,...o]}))};function fv(e,t){const i=e[0];if(1!==e.length)throw new Error(`Expected no arguments for ${i} operation`);return[]}function mv(e,t){return function(i,n){const o=i[0],r=i.length-1;if(e===t){if(r!==e)throw new Error(`Expected ${e} argument${1===e?"":"s"} for ${o}, got ${r}`)}else if(r<e||r>t)throw new Error(`Expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${o}, got ${r}`)}}function _v(e){return function(t,i){const n=t[0],o=t.length-1,r=new Array(o);for(let s=0;s<o;++s){const o=dv(t[s+1],i);if(!av(e,o.type)){const t=sv(e),i=sv(o.type);throw new Error(`Unexpected type for argument ${s} of ${n} operation, got ${t} but expected ${i}`)}o.type&=e,r[s]=o}return r}}function vv(e,t,i){const n=e[0],o=e.length-1;let r=nv;for(let a=0;a<i.length;++a)r&=i[a].type;if(r===Z_)throw new Error(`No common type could be found for arguments of ${n} operation`);const s=new Array(o);for(let a=0;a<o;++a)s[a]=dv(e[a+1],t,r);return s}function yv(e,t){const i=e[0],n=e.length-1;if(n%2==1)throw new Error(`An even amount of arguments was expected for operation ${i}, got ${JSON.stringify(n)} instead`)}function xv(e,...t){return function(i,n,o){const r=i[0];let s=[];for(let e=0;e<t.length;e++)s=t[e](i,n,s,o)||s;let a="function"==typeof e?e(s):e;if(void 0!==o){if(!av(a,o))throw new Error(`The following expression was expected to return ${sv(o)}, but returns ${sv(a)} instead: ${JSON.stringify(i)}`);a&=o}if(a===Z_)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(i)}`);return new hv(a,r,...s)}}function bv(e,t,i){const n=dv(e,i);if(!av(t,n.type)){const e=sv(t),i=sv(n.type);throw new Error(`Expected expression to be of type ${e}, got ${i}`)}return wv(n)}function wv(e,t){if(e instanceof cv){if(e.type===tv&&"string"==typeof e.value){const t=Wm(e.value);return function(){return t}}return function(){return e.value}}const i=e.operator;switch(i){case pv.Number:case pv.String:return function(e,t){const i=e.operator,n=e.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=wv(e.args[r]);switch(i){case pv.Number:case pv.String:return e=>{for(let t=0;t<n;++t){const n=o[t](e);if(typeof n===i)return n}throw new Error(`Expected one of the values to be a ${i}`)};default:throw new Error(`Unsupported assertion operator ${i}`)}}(e);case pv.Get:case pv.Var:return function(e,t){const i=e.args[0],n=i.value;switch(e.operator){case pv.Get:return e=>e.properties[n];case pv.Var:return e=>e.variables[n];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case pv.Id:return e=>e.featureId;case pv.Concat:{const t=e.args.map((e=>wv(e)));return e=>"".concat(...t.map((t=>t(e).toString())))}case pv.Resolution:return e=>e.resolution;case pv.Any:case pv.All:case pv.Not:return function(e,t){const i=e.operator,n=e.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=wv(e.args[r]);switch(i){case pv.Any:return e=>{for(let t=0;t<n;++t)if(o[t](e))return!0;return!1};case pv.All:return e=>{for(let t=0;t<n;++t)if(!o[t](e))return!1;return!0};case pv.Not:return e=>!o[0](e);default:throw new Error(`Unsupported logical operator ${i}`)}}(e);case pv.Equal:case pv.NotEqual:case pv.LessThan:case pv.LessThanOrEqualTo:case pv.GreaterThan:case pv.GreaterThanOrEqualTo:return function(e,t){const i=e.operator,n=wv(e.args[0]),o=wv(e.args[1]);switch(i){case pv.Equal:return e=>n(e)===o(e);case pv.NotEqual:return e=>n(e)!==o(e);case pv.LessThan:return e=>n(e)<o(e);case pv.LessThanOrEqualTo:return e=>n(e)<=o(e);case pv.GreaterThan:return e=>n(e)>o(e);case pv.GreaterThanOrEqualTo:return e=>n(e)>=o(e);default:throw new Error(`Unsupported comparison operator ${i}`)}}(e);case pv.Multiply:case pv.Divide:case pv.Add:case pv.Subtract:case pv.Clamp:case pv.Mod:case pv.Pow:case pv.Abs:case pv.Floor:case pv.Ceil:case pv.Round:case pv.Sin:case pv.Cos:case pv.Atan:case pv.Sqrt:return function(e,t){const i=e.operator,n=e.args.length,o=new Array(n);for(let r=0;r<n;++r)o[r]=wv(e.args[r]);switch(i){case pv.Multiply:return e=>{let t=1;for(let i=0;i<n;++i)t*=o[i](e);return t};case pv.Divide:return e=>o[0](e)/o[1](e);case pv.Add:return e=>{let t=0;for(let i=0;i<n;++i)t+=o[i](e);return t};case pv.Subtract:return e=>o[0](e)-o[1](e);case pv.Clamp:return e=>{const t=o[0](e),i=o[1](e);if(t<i)return i;const n=o[2](e);return t>n?n:t};case pv.Mod:return e=>o[0](e)%o[1](e);case pv.Pow:return e=>Math.pow(o[0](e),o[1](e));case pv.Abs:return e=>Math.abs(o[0](e));case pv.Floor:return e=>Math.floor(o[0](e));case pv.Ceil:return e=>Math.ceil(o[0](e));case pv.Round:return e=>Math.round(o[0](e));case pv.Sin:return e=>Math.sin(o[0](e));case pv.Cos:return e=>Math.cos(o[0](e));case pv.Atan:return 2===n?e=>Math.atan2(o[0](e),o[1](e)):e=>Math.atan(o[0](e));case pv.Sqrt:return e=>Math.sqrt(o[0](e));default:throw new Error(`Unsupported numeric operator ${i}`)}}(e);case pv.Match:return function(e,t){const i=e.args.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=wv(e.args[o]);return e=>{const t=n[0](e);for(let o=1;o<i;o+=2)if(t===n[o](e))return n[o+1](e);return n[i-1](e)}}(e);case pv.Interpolate:return function(e,t){const i=e.args.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=wv(e.args[o]);return e=>{const t=n[0](e),o=n[1](e);let r,s;for(let a=2;a<i;a+=2){const i=n[a](e);let l=n[a+1](e);const c=Array.isArray(l);if(c&&(l=Gm(l)),i>=o)return 2===a?l:c?Sv(t,o,r,s,i,l):Cv(t,o,r,s,i,l);r=i,s=l}return s}}(e);default:throw new Error(`Unsupported operator ${i}`)}}function Cv(e,t,i,n,o,r){const s=o-i;if(0===s)return n;const a=t-i;return n+(1===e?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1))*(r-n)}function Sv(e,t,i,n,o,r){if(0==o-i)return n;const s=Vm(n),a=Vm(r);let l=a[2]-s[2];return l>180?l-=360:l<-180&&(l+=360),Xm(function(e){const t=Mm.rgb(Lm.xyz(e));return t[3]=e[3],t}([Cv(e,t,i,s[0],o,a[0]),Cv(e,t,i,s[1],o,a[1]),s[2]+Cv(e,t,i,0,o,l),Cv(e,t,i,n[3],o,r[3])]))}function Ev(e){return!0}function kv(e){const t=uv(),i=function(e,t){const i=e.length,n=new Array(i);for(let o=0;o<i;++o){const i=e[o],r="filter"in i?bv(i.filter,J_,t):Ev;let s;if(Array.isArray(i.style)){const e=i.style.length;s=new Array(e);for(let n=0;n<e;++n)s[n]=Iv(i.style[n],t)}else s=[Iv(i.style,t)];n[o]={filter:r,styles:s}}return function(t){const o=[];let r=!1;for(let s=0;s<i;++s)if((0,n[s].filter)(t)&&(!e[s].else||!r)){r=!0;for(const e of n[s].styles){const i=e(t);i&&o.push(i)}}return o}}(e,t),n={variables:{},properties:{},resolution:NaN,featureId:null};return function(e,o){if(n.properties=e.getPropertiesInternal(),n.resolution=o,t.featureId){const t=e.getId();n.featureId=void 0!==t?t:null}return i(n)}}function Tv(e){const t=uv(),i=e.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=Iv(e[s],t);const o={variables:{},properties:{},resolution:NaN,featureId:null},r=new Array(i);return function(e,s){if(o.properties=e.getPropertiesInternal(),o.resolution=s,t.featureId){const t=e.getId();o.featureId=void 0!==t?t:null}let a=0;for(let t=0;t<i;++t){const e=n[t](o);e&&(r[a]=e,a+=1)}return r.length=a,r}}function Iv(e,t){const i=Rv(e,"",t),n=Mv(e,"",t),o=function(e,t){const i="text-",n=Lv(e,i+"value",t);if(!n)return null;const o=Rv(e,i,t),r=Rv(e,i+"background-",t),s=Mv(e,i,t),a=Mv(e,i+"background-",t),l=Lv(e,i+"font",t),c=Pv(e,i+"max-angle",t),h=Pv(e,i+"offset-x",t),u=Pv(e,i+"offset-y",t),d=Ov(e,i+"overflow",t),p=Lv(e,i+"placement",t),g=Pv(e,i+"repeat",t),f=zv(e,i+"scale",t),m=Ov(e,i+"rotate-with-view",t),_=Pv(e,i+"rotation",t),v=Lv(e,i+"align",t),y=Lv(e,i+"justify",t),x=Lv(e,i+"baseline",t),b=Av(e,i+"padding",t),w=new $_({});return function(e){if(w.setText(n(e)),o&&w.setFill(o(e)),r&&w.setBackgroundFill(r(e)),s&&w.setStroke(s(e)),a&&w.setBackgroundStroke(a(e)),l&&w.setFont(l(e)),c&&w.setMaxAngle(c(e)),h&&w.setOffsetX(h(e)),u&&w.setOffsetY(u(e)),d&&w.setOverflow(d(e)),p){const t=p(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");w.setPlacement(t)}if(g&&w.setRepeat(g(e)),f&&w.setScale(f(e)),m&&w.setRotateWithView(m(e)),_&&w.setRotation(_(e)),v){const t=v(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");w.setTextAlign(t)}if(y){const t=y(e);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");w.setJustify(t)}if(x){const t=x(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");w.setTextBaseline(t)}return b&&w.setPadding(b(e)),w}}(e,t),r=function(e,t){return"icon-src"in e?function(e,t){const i="icon-",n=i+"src",o=Wv(e[n],n),r=Dv(e,i+"anchor",t),s=zv(e,i+"scale",t),a=Pv(e,i+"opacity",t),l=Dv(e,i+"displacement",t),c=Pv(e,i+"rotation",t),h=Ov(e,i+"rotate-with-view",t),u=jv(e,i+"anchor-origin"),d=Bv(e,i+"anchor-x-units"),p=Bv(e,i+"anchor-y-units"),g=function(e,t){const i=e[t];if(void 0!==i)return Xv(i,t)}(e,i+"color"),f=function(e,t){const i=e[t];if(void 0!==i){if("string"!=typeof i)throw new Error(`Expected a string for ${t}`);return i}}(e,i+"cross-origin"),m=function(e,t){const i=e[t];if(void 0!==i)return Vv(i,t)}(e,i+"offset"),_=jv(e,i+"offset-origin"),v=Nv(e,i+"width"),y=Nv(e,i+"height"),x=function(e,t){const i=e[t];if(void 0!==i){if("number"==typeof i)return km(i);if(!Array.isArray(i))throw new Error(`Expected a number or size array for ${t}`);if(2!==i.length||"number"!=typeof i[0]||"number"!=typeof i[1])throw new Error(`Expected a number or size array for ${t}`);return i}}(e,i+"size"),b=Gv(e,i+"declutter"),w=new H_({src:o,anchorOrigin:u,anchorXUnits:d,anchorYUnits:p,color:g,crossOrigin:f,offset:m,offsetOrigin:_,height:y,width:v,size:x,declutterMode:b});return function(e){return a&&w.setOpacity(a(e)),l&&w.setDisplacement(l(e)),c&&w.setRotation(c(e)),h&&w.setRotateWithView(h(e)),s&&w.setScale(s(e)),r&&w.setAnchor(r(e)),w}}(e,t):"shape-points"in e?function(e,t){const i="shape-",n=i+"points",o=Kv(e[n],n),r=Rv(e,i,t),s=Mv(e,i,t),a=zv(e,i+"scale",t),l=Dv(e,i+"displacement",t),c=Pv(e,i+"rotation",t),h=Ov(e,i+"rotate-with-view",t),u=Nv(e,i+"radius"),d=Nv(e,i+"radius1"),p=Nv(e,i+"radius2"),g=Nv(e,i+"angle"),f=Gv(e,i+"declutter-mode"),m=new I_({points:o,radius:u,radius1:d,radius2:p,angle:g,declutterMode:f});return function(e){return r&&m.setFill(r(e)),s&&m.setStroke(s(e)),l&&m.setDisplacement(l(e)),c&&m.setRotation(c(e)),h&&m.setRotateWithView(h(e)),a&&m.setScale(a(e)),m}}(e,t):"circle-radius"in e?function(e,t){const i="circle-",n=Rv(e,i,t),o=Mv(e,i,t),r=Pv(e,i+"radius",t),s=zv(e,i+"scale",t),a=Dv(e,i+"displacement",t),l=Pv(e,i+"rotation",t),c=Ov(e,i+"rotate-with-view",t),h=Gv(e,i+"declutter-mode"),u=new M_({radius:5,declutterMode:h});return function(e){return r&&u.setRadius(r(e)),n&&u.setFill(n(e)),o&&u.setStroke(o(e)),a&&u.setDisplacement(a(e)),l&&u.setRotation(l(e)),c&&u.setRotateWithView(c(e)),s&&u.setScale(s(e)),u}}(e,t):null}(e,t),s=Pv(e,"z-index",t);if(!(i||n||o||r||hu(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new j_;return function(e){let t=!0;if(i){const n=i(e);n&&(t=!1),a.setFill(n)}if(n){const i=n(e);i&&(t=!1),a.setStroke(i)}if(o){const i=o(e);i&&(t=!1),a.setText(i)}if(r){const i=r(e);i&&(t=!1),a.setImage(i)}return s&&a.setZIndex(s(e)),t?null:a}}function Rv(e,t,i){const n=Fv(e,t+"fill-color",i);if(!n)return null;const o=new L_;return function(e){const t=n(e);return"none"===t?null:(o.setColor(t),o)}}function Mv(e,t,i){const n=Pv(e,t+"stroke-width",i),o=Fv(e,t+"stroke-color",i);if(!n&&!o)return null;const r=Lv(e,t+"stroke-line-cap",i),s=Lv(e,t+"stroke-line-join",i),a=Av(e,t+"stroke-line-dash",i),l=Pv(e,t+"stroke-line-dash-offset",i),c=Pv(e,t+"stroke-miter-limit",i),h=new F_;return function(e){if(o){const t=o(e);if("none"===t)return null;h.setColor(t)}if(n&&h.setWidth(n(e)),r){const t=r(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");h.setLineCap(t)}if(s){const t=s(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(t)}return a&&h.setLineDash(a(e)),l&&h.setLineDashOffset(l(e)),c&&h.setMiterLimit(c(e)),h}}function Pv(e,t,i){if(!(t in e))return;const n=bv(e[t],Q_,i);return function(e){return Kv(n(e),t)}}function Lv(e,t,i){if(!(t in e))return null;const n=bv(e[t],ev,i);return function(e){return Wv(n(e),t)}}function Ov(e,t,i){if(!(t in e))return null;const n=bv(e[t],J_,i);return function(e){const i=n(e);if("boolean"!=typeof i)throw new Error(`Expected a boolean for ${t}`);return i}}function Fv(e,t,i){if(!(t in e))return null;const n=bv(e[t],tv|ev,i);return function(e){return Xv(n(e),t)}}function Av(e,t,i){if(!(t in e))return null;const n=bv(e[t],iv,i);return function(e){return Vv(n(e),t)}}function Dv(e,t,i){if(!(t in e))return null;const n=bv(e[t],iv,i);return function(e){const i=Vv(n(e),t);if(2!==i.length)throw new Error(`Expected two numbers for ${t}`);return i}}function zv(e,t,i){if(!(t in e))return null;const n=bv(e[t],iv|Q_,i);return function(e){return function(e,t){if("number"==typeof e)return e;const i=Vv(e,t);if(2!==i.length)throw new Error(`Expected an array of two numbers for ${t}`);return i}(n(e),t)}}function Nv(e,t){const i=e[t];if(void 0!==i){if("number"!=typeof i)throw new Error(`Expected a number for ${t}`);return i}}function jv(e,t){const i=e[t];if(void 0!==i){if("bottom-left"!==i&&"bottom-right"!==i&&"top-left"!==i&&"top-right"!==i)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return i}}function Bv(e,t){const i=e[t];if(void 0!==i){if("pixels"!==i&&"fraction"!==i)throw new Error(`Expected pixels or fraction for ${t}`);return i}}function Gv(e,t){const i=e[t];if(void 0!==i){if("string"!=typeof i)throw new Error(`Expected a string for ${t}`);if("declutter"!==i&&"obstacle"!==i&&"none"!==i)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return i}}function Vv(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const i=e.length;for(let n=0;n<i;++n)if("number"!=typeof e[n])throw new Error(`Expected an array of numbers for ${t}`);return e}function Wv(e,t){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}function Kv(e,t){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}function Xv(e,t){if("string"==typeof e)return e;const i=Vv(e,t),n=i.length;if(n<3||n>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return i}const Yv="renderOrder",Hv=class extends im{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Yv)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new am(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(Yv,e)}setStyle(e){this.style_=function(e){if(void 0===e)return z_;if(!e)return null;if("function"==typeof e)return e;if(e instanceof j_)return e;if(!Array.isArray(e))return Tv([e]);if(0===e.length)return[];const t=e.length,i=e[0];if(i instanceof j_){const i=new Array(t);for(let n=0;n<t;++n){const t=e[n];if(!(t instanceof j_))throw new Error("Expected a list of style instances");i[n]=t}return i}if("style"in i){const i=new Array(t);for(let n=0;n<t;++n){const t=e[n];if(!("style"in t))throw new Error("Expected a list of rules with a style property");i[n]=t}return kv(i)}const n=e;return Tv(n)}(e),this.styleFunction_=null===e?void 0:function(e){let t;if("function"==typeof e)t=e;else{let i;Array.isArray(e)?i=e:(Bu("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),i=[e]),t=function(){return i}}return t}(this.style_),this.changed()}},qv={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},$v=[qv.FILL],Uv=[qv.STROKE],Zv=[qv.BEGIN_PATH],Jv=[qv.CLOSE_PATH],Qv=qv,ey=class{drawCustom(e,t,i,n){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},ty=class extends ey{constructor(e,t,i,n){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,o=this.coordinates;let r=o.length;for(let s=0,a=e.length;s<a;s+=t)n[0]=e[s],n[1]=e[s+1],Zu(i,n)&&(o[r++]=n[0],o[r++]=n[1]);return r}appendFlatLineCoordinates(e,t,i,n,o,r){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();r&&(t+=n);let c=e[t],h=e[t+1];const u=this.tmpCoordinate_;let d,p,g,f=!0;for(d=t+n;d<i;d+=n)u[0]=e[d],u[1]=e[d+1],g=ed(l,u),g!==p?(f&&(s[a++]=c,s[a++]=h,f=!1),s[a++]=u[0],s[a++]=u[1]):g===Yu.INTERSECTING?(s[a++]=u[0],s[a++]=u[1],f=!1):f=!0,c=u[0],h=u[1],p=g;return(o&&f||d===t+n)&&(s[a++]=c,s[a++]=h),a}drawCustomCoordinates_(e,t,i,n,o){for(let r=0,s=i.length;r<s;++r){const s=i[r],a=this.appendFlatLineCoordinates(e,t,s,n,!1,!1);o.push(a),t=s}return t}drawCustom(e,t,i,n){this.beginGeometry(e,t);const o=e.getType(),r=e.getStride(),s=this.coordinates.length;let a,l,c,h,u;switch(o){case"MultiPolygon":a=e.getOrientedFlatCoordinates(),h=[];const t=e.getEndss();u=0;for(let e=0,i=t.length;e<i;++e){const i=[];u=this.drawCustomCoordinates_(a,u,t[e],r,i),h.push(i)}this.instructions.push([Qv.CUSTOM,s,h,e,i,rg]),this.hitDetectionInstructions.push([Qv.CUSTOM,s,h,e,n||i,rg]);break;case"Polygon":case"MultiLineString":c=[],a="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(a,0,e.getEnds(),r,c),this.instructions.push([Qv.CUSTOM,s,c,e,i,og]),this.hitDetectionInstructions.push([Qv.CUSTOM,s,c,e,n||i,og]);break;case"LineString":case"Circle":a=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(a,0,a.length,r,!1,!1),this.instructions.push([Qv.CUSTOM,s,l,e,i,ng]),this.hitDetectionInstructions.push([Qv.CUSTOM,s,l,e,n||i,ng]);break;case"MultiPoint":a=e.getFlatCoordinates(),l=this.appendFlatPointCoordinates(a,r),l>s&&(this.instructions.push([Qv.CUSTOM,s,l,e,i,ng]),this.hitDetectionInstructions.push([Qv.CUSTOM,s,l,e,n||i,ng]));break;case"Point":a=e.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),l=this.coordinates.length,this.instructions.push([Qv.CUSTOM,s,l,e,i]),this.hitDetectionInstructions.push([Qv.CUSTOM,s,l,e,n||i])}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[Qv.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Qv.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const i=e.length;let n,o,r=-1;for(t=0;t<i;++t)n=e[t],o=n[0],o==Qv.END_GEOMETRY?r=t:o==Qv.BEGIN_GEOMETRY&&(n[2]=t,iu(this.hitDetectionInstructions,r,t),r=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const t=e.getColor();i.fillStyle=Hm(t||c_)}else i.fillStyle=void 0;if(t){const e=t.getColor();i.strokeStyle=Hm(e||p_);const n=t.getLineCap();i.lineCap=void 0!==n?n:h_;const o=t.getLineDash();i.lineDash=o?o.slice():u_;const r=t.getLineDashOffset();i.lineDashOffset=r||0;const s=t.getLineJoin();i.lineJoin=void 0!==s?s:d_;const a=t.getWidth();i.lineWidth=void 0!==a?a:1;const l=t.getMiterLimit();i.miterLimit=void 0!==l?l:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[Qv.SET_FILL_STYLE,t];return"string"!=typeof t&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Qv.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;"string"==typeof i&&e.currentFillStyle==i||(void 0!==i&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,n=e.lineCap,o=e.lineDash,r=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=n||o!=e.currentLineDash&&!ou(e.currentLineDash,o)||e.currentLineDashOffset!=r||e.currentLineJoin!=s||e.currentLineWidth!=a||e.currentMiterLimit!=l)&&(void 0!==i&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=n,e.currentLineDash=o,e.currentLineDashOffset=r,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Qv.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=$u(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;qu(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},iy=class extends ty{constructor(e,t,i,n){super(e,t,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Qv.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Qv.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Qv.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Qv.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),n=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},ny=class extends ty{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinates_(e,t,i,n){const o=this.coordinates.length,r=this.appendFlatLineCoordinates(e,t,i,n,!1,!1),s=[Qv.MOVE_TO_LINE_TO,o,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i}drawLineString(e,t){const i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0===n||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Qv.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,u_,0],Zv);const r=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(Uv),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0===n||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Qv.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,u_,0],Zv);const r=e.getEnds(),s=e.getFlatCoordinates(),a=e.getStride();let l=0;for(let c=0,h=r.length;c<h;++c)l=this.drawFlatCoordinates_(s,l,r[c],a);this.hitDetectionInstructions.push(Uv),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Uv),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Uv),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Zv)}},oy=class extends ty{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinatess_(e,t,i,n){const o=this.state,r=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,a=i.length;this.instructions.push(Zv),this.hitDetectionInstructions.push(Zv);for(let l=0;l<a;++l){const o=i[l],r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,o,n,!0,!s),c=[Qv.MOVE_TO_LINE_TO,r,a];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(Jv),this.hitDetectionInstructions.push(Jv)),t=o}return r&&(this.instructions.push($v),this.hitDetectionInstructions.push($v)),s&&(this.instructions.push(Uv),this.hitDetectionInstructions.push(Uv)),t}drawCircle(e,t){const i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0===n&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Qv.SET_FILL_STYLE,c_]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Qv.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,u_,0]);const r=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,s,!1,!1);const l=[Qv.CIRCLE,a];this.instructions.push(Zv,l),this.hitDetectionInstructions.push(Zv,l),void 0!==i.fillStyle&&(this.instructions.push($v),this.hitDetectionInstructions.push($v)),void 0!==i.strokeStyle&&(this.instructions.push(Uv),this.hitDetectionInstructions.push(Uv)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0===n&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Qv.SET_FILL_STYLE,c_]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Qv.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,u_,0]);const r=e.getEnds(),s=e.getOrientedFlatCoordinates(),a=e.getStride();this.drawFlatCoordinatess_(s,0,r,a),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0===n&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Qv.SET_FILL_STYLE,c_]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Qv.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,u_,0]);const r=e.getEndss(),s=e.getOrientedFlatCoordinates(),a=e.getStride();let l=0;for(let c=0,h=r.length;c<h;++c)l=this.drawFlatCoordinatess_(s,l,r[c],a);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let i=0,n=t.length;i<n;++i)t[i]=eg(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function ry(e,t,i,n,o){const r=[];let s=i,a=0,l=t.slice(i,2);for(;a<e&&s+o<n;){const[i,n]=l.slice(-2),c=t[s+o],h=t[s+o+1],u=Math.sqrt((c-i)*(c-i)+(h-n)*(h-n));if(a+=u,a>=e){const t=(e-a+u)/u,d=$d(i,c,t),p=$d(n,h,t);l.push(d,p),r.push(l),l=[d,p],a==e&&(s+=o),a=0}else if(a<e)l.push(t[s+o],t[s+o+1]),s+=o;else{const e=u-a,t=$d(i,c,e/u),d=$d(n,h,e/u);l.push(t,d),r.push(l),l=[t,d],a=0,s+=o}}return a>0&&r.push(l),r}function sy(e,t,i,n,o){let r,s,a,l,c,h,u,d,p,g,f=i,m=i,_=0,v=0,y=i;for(s=i;s<n;s+=o){const i=t[s],n=t[s+1];void 0!==c&&(p=i-c,g=n-h,l=Math.sqrt(p*p+g*g),void 0!==u&&(v+=a,r=Math.acos((u*p+d*g)/(a*l)),r>e&&(v>_&&(_=v,f=y,m=s),v=0,y=s-o)),a=l,u=p,d=g),c=i,h=n}return v+=l,v>_?[y,s]:[f,m]}const ay={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ly={Circle:oy,Default:ty,Image:iy,LineString:ny,Polygon:oy,Text:class extends ty{constructor(e,t,i,n){super(e,t,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[c_]={fillStyle:c_},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,n=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!i&&!n)return;const r=this.coordinates;let s=r.length;const a=e.getType();let l=null,c=e.getStride();if("line"!==o.placement||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){let i=o.overflow?null:[];switch(a){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),c=2;break;case"Polygon":l=e.getFlatInteriorPoint(),o.overflow||i.push(l[2]/this.resolution),c=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();l=[];for(let e=0,n=t.length;e<n;e+=3)o.overflow||i.push(t[e+2]/this.resolution),l.push(t[e],t[e+1]);if(0===l.length)return;c=2}const n=this.appendFlatPointCoordinates(l,c);if(n===s)return;if(i&&(n-s)/2!=l.length/c){let e=s/2;i=i.filter(((t,i)=>{const n=r[2*(e+i)]===l[i*c]&&r[2*(e+i)+1]===l[i*c+1];return n||--e,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let h=o.padding;if(h!=m_&&(o.scale[0]<0||o.scale[1]<0)){let e=o.padding[0],t=o.padding[1],i=o.padding[2],n=o.padding[3];o.scale[0]<0&&(t=-t,n=-n),o.scale[1]<0&&(e=-e,i=-i),h=[e,t,i,n]}const u=this.pixelRatio;this.instructions.push([Qv.DRAW_IMAGE,s,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,h==m_?m_:h.map((function(e){return e*u})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const d=1/u,p=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=c_,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Qv.DRAW_IMAGE,s,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[d,d],NaN,void 0,this.declutterImageWithText_,h,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?c_:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),o.backgroundFill&&(this.state.fillStyle=p,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!Cd(this.getBufferedMaxExtent(),e.getExtent()))return;let i;if(l=e.getFlatCoordinates(),"LineString"==a)i=[l.length];else if("MultiLineString"==a)i=e.getEnds();else if("Polygon"==a)i=e.getEnds().slice(0,1);else if("MultiPolygon"==a){const t=e.getEndss();i=[];for(let e=0,n=t.length;e<n;++e)i.push(t[e][0])}this.beginGeometry(e,t);const n=o.repeat,h=n?void 0:o.textAlign;let u=0;for(let e=0,t=i.length;e<t;++e){let t;t=n?ry(n*this.resolution,l,u,i[e],c):[l.slice(u,i[e])];for(let n=0,a=t.length;n<a;++n){const a=t[n];let l=0,d=a.length;if(null==h){const e=sy(o.maxAngle,a,0,a.length,2);l=e[0],d=e[1]}for(let e=l;e<d;e+=c)r.push(a[e],a[e+1]);const p=r.length;u=i[e],this.drawChars_(s,p),s=p}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||g_,justify:t.justify,textBaseline:t.textBaseline||f_,scale:t.scale});const r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,n=this.textState_,o=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=ay[n.textBaseline],c=this.textOffsetY_*a,h=this.text_,u=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Qv.DRAW_CHARS,e,t,l,n.overflow,s,n.maxAngle,a,c,o,u*a,h,r,1]),this.hitDetectionInstructions.push([Qv.DRAW_CHARS,e,t,l,n.overflow,s?c_:s,n.maxAngle,a,c,o,u*a,h,r,1/a])}setTextStyle(e,t){let i,n,o;if(e){const t=e.getFill();t?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=Hm(t.getColor()||c_)):(n=null,this.textFillState_=n);const r=e.getStroke();if(r){o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const e=r.getLineDash(),t=r.getLineDashOffset(),i=r.getWidth(),n=r.getMiterLimit();o.lineCap=r.getLineCap()||h_,o.lineDash=e?e.slice():u_,o.lineDashOffset=void 0===t?0:t,o.lineJoin=r.getLineJoin()||d_,o.lineWidth=void 0===i?1:i,o.miterLimit=void 0===n?10:n,o.strokeStyle=Hm(r.getColor()||p_)}else o=null,this.textStrokeState_=o;i=this.textState_;const s=e.getFont()||l_;b_(s);const a=e.getScaleArray();i.overflow=e.getOverflow(),i.font=s,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||f_,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||m_,i.scale=void 0===a?[1,1]:a;const l=e.getOffsetX(),c=e.getOffsetY(),h=e.getRotateWithView(),u=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0===u?0:u,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Ru(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Ru(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}},cy=class{constructor(e,t,i,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const n in i){const o=i[n].finish();e[t][n]=o}}return e}getBuilder(e,t){const i=void 0!==e?e.toString():"0";let n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);let o=n[t];return void 0===o&&(o=new(0,ly[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=o),o}},hy=class extends ku{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Tu()}getData(e){return null}prepareFrame(e){return Tu()}renderFrame(e,t){return Tu()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(n,o)=>{const r=this.loadedTileCallback.bind(this,i,n);return e.forEachLoadedTile(t,n,o,r)}}forEachFeatureAtCoordinate(e,t,i,n,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;t.getState()!==Cm&&t.getState()!==Sm||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Cm&&t!=Sm&&e.addEventListener(du,this.boundHandleImageChange_),t==bm&&(e.load(),t=e.getState()),t==Cm}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},uy=class extends Zh{constructor(e,t,i,n){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=n}},dy=[];let py=null;const gy=class extends hy{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){let n;py||(py=qm(1,1,void 0,{willReadFrequently:!0})),py.clearRect(0,0,1,1);try{py.drawImage(e,t,i,1,1,0,0,1,1),n=py.getImageData(0,0,1,1).data}catch(o){return py=null,null}return n}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,i){const n=this.getLayer().getClassName();let o,r;if(e&&e.className===n&&(!i||e&&e.style.backgroundColor&&ou(Km(e.style.backgroundColor),Km(i)))){const t=e.firstElementChild;t instanceof HTMLCanvasElement&&(r=t.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=n;let e=o.style;e.position="absolute",e.width="100%",e.height="100%",r=qm();const t=r.canvas;o.appendChild(t),e=t.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=o,this.context=r}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const n=xd(i),o=bd(i),r=pd(i),s=dd(i);Gu(t.coordinateToPixelTransform,n),Gu(t.coordinateToPixelTransform,o),Gu(t.coordinateToPixelTransform,r),Gu(t.coordinateToPixelTransform,s);const a=this.inversePixelTransform;Gu(a,n),Gu(a,o),Gu(a,r),Gu(a,s),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}dispatchRenderEvent_(e,t,i){const n=this.getLayer();if(n.hasListener(e)){const o=new uy(e,this.inversePixelTransform,i,t);n.dispatchEvent(o)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(Df,e,t)}postRender(e,t){this.dispatchRenderEvent_(zf,e,t)}getRenderTransform(e,t,i,n,o,r,s){const a=o/2,l=r/2,c=n/t,h=-c,u=-e[0]+s,d=-e[1];return Vu(this.tempTransform,a,l,c,h,-i,u,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};function fy(e,t,i,n,o,r,s,a,l,c,h,u){let d=e[t],p=e[t+1],g=0,f=0,m=0,_=0;function v(){g=d,f=p,d=e[t+=n],p=e[t+1],_+=m,m=Math.sqrt((d-g)*(d-g)+(p-f)*(p-f))}do{v()}while(t<i-n&&_+m<r);let y=0===m?0:(r-_)/m;const x=$d(g,d,y),b=$d(f,p,y),w=t-n,C=_,S=r+a*l(c,o,h);for(;t<i-n&&_+m<S;)v();y=0===m?0:(S-_)/m;const E=$d(g,d,y),k=$d(f,p,y);let T;if(u){const e=[x,b,E,k];Fp(e,0,4,2,u,e,e),T=e[0]>e[2]}else T=x>E;const I=Math.PI,R=[],M=w+n===t;let P;if(m=0,_=C,d=e[t=w],p=e[t+1],M){v(),P=Math.atan2(p-f,d-g),T&&(P+=P>0?-I:I);const e=(E+x)/2,t=(k+b)/2;return R[0]=[e,t,(S-r)/2,P,o],R}for(let L=0,O=(o=o.replace(/\n/g," ")).length;L<O;){v();let e=Math.atan2(p-f,d-g);if(T&&(e+=e>0?-I:I),void 0!==P){let t=e-P;if(t+=t>I?-2*I:t<-I?2*I:0,Math.abs(t)>s)return null}P=e;const u=L;let x=0;for(;L<O;++L){const e=a*l(c,o[T?O-L-1:L],h);if(t+n<i&&_+m<r+x+e/2)break;x+=e}if(L===u)continue;const b=T?o.substring(O-u,O-L):o.substring(u,L);y=0===m?0:(r+x/2-_)/m;const w=$d(g,d,y),C=$d(f,p,y);R.push([w,C,x/2,e,b]),r+=x}return R}const my=[1/0,1/0,-1/0,-1/0],_y=[],vy=[],yy=[],xy=[];function by(e){return e[3].declutterBox}const wy=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Cy(e,t){return"start"===t?t=wy.test(e)?"right":"left":"end"===t&&(t=wy.test(e)?"left":"right"),ay[t]}function Sy(e,t,i){return i>0&&e.push("\n",""),e.push(t,""),e}const Ey=class{constructor(e,t,i,n){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,n){const o=e+t+i+n;if(this.labels_[o])return this.labels_[o];const r=n?this.strokeStates[n]:null,s=i?this.fillStates[i]:null,a=this.textStates[t],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],h=Array.isArray(e),u=a.justify?ay[a.justify]:Cy(Array.isArray(e)?e[0]:e,a.textAlign||g_),d=n&&r.lineWidth?r.lineWidth:0,p=h?e:e.split("\n").reduce(Sy,[]),{width:g,height:f,widths:m,heights:_,lineWidths:v}=function(e,t){const i=[],n=[],o=[];let r=0,s=0,a=0,l=0;for(let c=0,h=t.length;c<=h;c+=2){const u=t[c];if("\n"===u||c===h){r=Math.max(r,s),o.push(s),s=0,a+=l;continue}const d=t[c+1]||e.font,p=S_(d,u);i.push(p),s+=p;const g=w_(d);n.push(g),l=Math.max(l,g)}return{width:r,height:a,widths:i,heights:n,lineWidths:o}}(a,p),y=g+d,x=[],b=(y+2)*c[0],w=(f+d)*c[1],C={width:b<0?Math.floor(b):Math.ceil(b),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:x};1==c[0]&&1==c[1]||x.push("scale",c),n&&(x.push("strokeStyle",r.strokeStyle),x.push("lineWidth",d),x.push("lineCap",r.lineCap),x.push("lineJoin",r.lineJoin),x.push("miterLimit",r.miterLimit),x.push("setLineDash",[r.lineDash]),x.push("lineDashOffset",r.lineDashOffset)),i&&x.push("fillStyle",s.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const S=.5-u;let E=u*y+S*d;const k=[],T=[];let I,R=0,M=0,P=0,L=0;for(let O=0,F=p.length;O<F;O+=2){const e=p[O];if("\n"===e){M+=R,R=0,E=u*y+S*d,++L;continue}const t=p[O+1]||a.font;t!==I&&(n&&k.push("font",t),i&&T.push("font",t),I=t),R=Math.max(R,_[P]);const o=[e,E+S*m[P]+u*(m[P]-v[L]),.5*(d+R)+M];E+=m[P],n&&k.push("strokeText",o),i&&T.push("fillText",o),++P}return Array.prototype.push.apply(x,k),Array.prototype.push.apply(x,T),this.labels_[o]=C,C}replayTextBackground_(e,t,i,n,o,r,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,o),e.lineTo.apply(e,t),r&&(this.alignFill_=r[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,n,o,r,s,a,l,c,h,u,d,p,g,f){let m=i-(s*=u[0]),_=n-(a*=u[1]);const v=o+l>e?e-l:o,y=r+c>t?t-c:r,x=p[3]+v*u[0]+p[1],b=p[0]+y*u[1]+p[2],w=m-p[3],C=_-p[0];let S;return(g||0!==h)&&(_y[0]=w,xy[0]=w,_y[1]=C,vy[1]=C,vy[0]=w+x,yy[0]=vy[0],yy[1]=C+b,xy[1]=yy[1]),0!==h?(S=Vu([1,0,0,1,0,0],i,n,1,1,h,-i,-n),Gu(S,_y),Gu(S,vy),Gu(S,yy),Gu(S,xy),td(Math.min(_y[0],vy[0],yy[0],xy[0]),Math.min(_y[1],vy[1],yy[1],xy[1]),Math.max(_y[0],vy[0],yy[0],xy[0]),Math.max(_y[1],vy[1],yy[1],xy[1]),my)):td(Math.min(w,w+x),Math.min(C,C+b),Math.max(w,w+x),Math.max(C,C+b),my),d&&(m=Math.round(m),_=Math.round(_)),{drawImageX:m,drawImageY:_,drawImageW:v,drawImageH:y,originX:l,originY:c,declutterBox:{minX:my[0],minY:my[1],maxX:my[2],maxY:my[3],value:f},canvasTransform:S,scale:u}}replayImageOrLabel_(e,t,i,n,o,r,s){const a=!(!r&&!s),l=n.declutterBox,c=e.canvas,h=s?s[2]*n.scale[0]/2:0;return l.minX-h<=c.width/t&&l.maxX+h>=0&&l.minY-h<=c.height/t&&l.maxY+h>=0&&(a&&this.replayTextBackground_(e,_y,vy,yy,xy,r,s),k_(e,n.canvasTransform,o,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(e){if(this.alignFill_){const t=Gu(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,n){const o=this.textStates[t],r=this.createLabel(e,t,n,i),s=this.strokeStates[i],a=this.pixelRatio,l=Cy(Array.isArray(e)?e[0]:e,o.textAlign||g_),c=ay[o.textBaseline||f_],h=s&&s.lineWidth?s.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*o.scale[0])+2*(.5-l)*h,anchorY:c*r.height/a+2*(.5-c)*h}}execute_(e,t,i,n,o,r,s,a){let l;var c,h;this.pixelCoordinates_&&ou(i,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Op(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),c=this.renderedTransform_,h=i,c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5]);let u=0;const d=n.length;let p,g,f,m,_,v,y,x,b,w,C,S,E=0,k=0,T=0,I=null,R=null;const M=this.coordinateCache_,P=this.viewRotation_,L=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,O={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},F=this.instructions!=n||this.overlaps?0:200;let A,D,z,N;for(;u<d;){const i=n[u];switch(i[0]){case Qv.BEGIN_GEOMETRY:A=i[1],N=i[3],A.getGeometry()?void 0===s||Cd(s,N.getExtent())?++u:u=i[2]+1:u=i[2];break;case Qv.BEGIN_PATH:k>F&&(this.fill_(e),k=0),T>F&&(e.stroke(),T=0),k||T||(e.beginPath(),m=NaN,_=NaN),++u;break;case Qv.CIRCLE:E=i[1];const n=l[E],c=l[E+1],h=l[E+2]-n,d=l[E+3]-c,j=Math.sqrt(h*h+d*d);e.moveTo(n+j,c),e.arc(n,c,j,0,2*Math.PI,!0),++u;break;case Qv.CLOSE_PATH:e.closePath(),++u;break;case Qv.CUSTOM:E=i[1],p=i[2];const B=i[3],G=i[4],V=6==i.length?i[5]:void 0;O.geometry=B,O.feature=A,u in M||(M[u]=[]);const W=M[u];V?V(l,E,p,2,W):(W[0]=l[E],W[1]=l[E+1],W.length=2),G(W,O),++u;break;case Qv.DRAW_IMAGE:E=i[1],p=i[2],x=i[3],g=i[4],f=i[5];let K=i[6];const X=i[7],Y=i[8],H=i[9],q=i[10];let $=i[11];const U=i[12];let Z=i[13];const J=i[14],Q=i[15];if(!x&&i.length>=20){b=i[19],w=i[20],C=i[21],S=i[22];const e=this.drawLabelWithPointPlacement_(b,w,C,S);x=e.label,i[3]=x;const t=i[23];g=(e.anchorX-t)*this.pixelRatio,i[4]=g;const n=i[24];f=(e.anchorY-n)*this.pixelRatio,i[5]=f,K=x.height,i[6]=K,Z=x.width,i[13]=Z}let ee,te,ie,ne;i.length>25&&(ee=i[25]),i.length>17?(te=i[16],ie=i[17],ne=i[18]):(te=m_,ie=!1,ne=!1),q&&L?$+=P:q||L||($-=P);let oe=0;for(;E<p;E+=2){if(ee&&ee[oe++]<Z/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(x.width,x.height,l[E],l[E+1],Z,K,g,f,Y,H,$,U,o,te,ie||ne,A),n=[e,t,x,i,X,ie?I:null,ne?R:null];if(a){if("none"===J)continue;if("obstacle"===J){a.insert(i.declutterBox);continue}{let e,t;if(Q){const i=p-E;if(!Q[i]){Q[i]=n;continue}if(e=Q[i],delete Q[i],t=by(e),a.collides(t))continue}if(a.collides(i.declutterBox))continue;e&&(a.insert(t),this.replayImageOrLabel_.apply(this,e)),a.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,n)}++u;break;case Qv.DRAW_CHARS:const re=i[1],se=i[2],ae=i[3],le=i[4];S=i[5];const ce=i[6],he=i[7],ue=i[8];C=i[9];const de=i[10];b=i[11],w=i[12];const pe=[i[13],i[13]],ge=this.textStates[w],fe=ge.font,me=[ge.scale[0]*he,ge.scale[1]*he];let _e;fe in this.widths_?_e=this.widths_[fe]:(_e={},this.widths_[fe]=_e);const ve=yg(l,re,se,2),ye=Math.abs(me[0])*E_(fe,b,_e);if(le||ye<=ve){const i=fy(l,re,se,2,b,(ve-ye)*Cy(b,this.textStates[w].textAlign),ce,Math.abs(me[0]),E_,fe,_e,L?0:this.viewRotation_);e:if(i){const n=[];let o,r,s,l,c;if(C)for(o=0,r=i.length;o<r;++o){c=i[o],s=c[4],l=this.createLabel(s,w,"",C),g=c[2]+(me[0]<0?-de:de),f=ae*l.height+2*(.5-ae)*de*me[1]/me[0]-ue;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,g,f,0,0,c[3],pe,!1,m_,!1,A);if(a&&a.collides(r.declutterBox))break e;n.push([e,t,l,r,1,null,null])}if(S)for(o=0,r=i.length;o<r;++o){c=i[o],s=c[4],l=this.createLabel(s,w,S,""),g=c[2],f=ae*l.height-ue;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,g,f,0,0,c[3],pe,!1,m_,!1,A);if(a&&a.collides(r.declutterBox))break e;n.push([e,t,l,r,1,null,null])}a&&a.load(n.map(by));for(let e=0,t=n.length;e<t;++e)this.replayImageOrLabel_.apply(this,n[e])}}++u;break;case Qv.END_GEOMETRY:if(void 0!==r){A=i[1];const e=r(A,N);if(e)return e}++u;break;case Qv.FILL:F?k++:this.fill_(e),++u;break;case Qv.MOVE_TO_LINE_TO:for(E=i[1],p=i[2],D=l[E],z=l[E+1],v=D+.5|0,y=z+.5|0,v===m&&y===_||(e.moveTo(D,z),m=v,_=y),E+=2;E<p;E+=2)D=l[E],z=l[E+1],v=D+.5|0,y=z+.5|0,E!=p-2&&v===m&&y===_||(e.lineTo(D,z),m=v,_=y);++u;break;case Qv.SET_FILL_STYLE:I=i,this.alignFill_=i[2],k&&(this.fill_(e),k=0,T&&(e.stroke(),T=0)),e.fillStyle=i[1],++u;break;case Qv.SET_STROKE_STYLE:R=i,T&&(e.stroke(),T=0),this.setStrokeStyle_(e,i),++u;break;case Qv.STROKE:F?T++:e.stroke(),++u;break;default:++u}}k&&this.fill_(e),T&&e.stroke()}execute(e,t,i,n,o,r){this.viewRotation_=n,this.execute_(e,t,i,this.instructions,o,void 0,void 0,r)}executeHitDetection(e,t,i,n,o){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,o)}},ky=["Polygon","Circle","LineString","Image","Text","Default"],Ty={},Iy=class{constructor(e,t,i,n,o,r){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];void 0===i&&(i={},this.executorsByZIndex_[t]=i);const n=e[t];for(const e in n){const t=n[e];i[e]=new Ey(this.resolution_,this.pixelRatio_,this.overlaps_,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let t=0,n=e.length;t<n;++t)if(e[t]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,n,o,r){const s=2*(n=Math.round(n))+1,a=Vu(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-i,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=qm(s,s,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;let h;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(h=[1/0,1/0,-1/0,-1/0],ad(h,e),qu(h,t*(this.renderBuffer_+n),h));const u=function(e){if(void 0!==Ty[e])return Ty[e];const t=2*e+1,i=e*e,n=new Array(i+1);for(let r=0;r<=e;++r)for(let o=0;o<=e;++o){const s=r*r+o*o;if(s>i)break;let a=n[s];a||(a=[],n[s]=a),a.push(4*((e+r)*t+(e+o))+3),r>0&&a.push(4*((e-r)*t+(e+o))+3),o>0&&(a.push(4*((e+r)*t+(e-o))+3),r>0&&a.push(4*((e-r)*t+(e-o))+3))}const o=[];for(let r=0,s=n.length;r<s;++r)n[r]&&o.push(...n[r]);return Ty[e]=o,o}(n);let d;function p(e,t){const i=c.getImageData(0,0,s,s).data;for(let a=0,l=u.length;a<l;a++)if(i[u[a]]>0){if(!r||"Image"!==d&&"Text"!==d||r.includes(e)){const i=(u[a]-3)/4,r=n-i%s,l=n-(i/s|0),c=o(e,t,r*r+l*l);if(c)return c}c.clearRect(0,0,s,s);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);let f,m,_,v,y;for(g.sort(eu),f=g.length-1;f>=0;--f){const e=g[f].toString();for(_=this.executorsByZIndex_[e],m=ky.length-1;m>=0;--m)if(d=ky[m],v=_[d],void 0!==v&&(y=v.executeHitDetection(c,a,i,p,h),y))return y}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],n=t[1],o=t[2],r=t[3],s=[i,n,i,r,o,r,o,n];return Op(s,0,8,2,e,s),s}isEmpty(){return hu(this.executorsByZIndex_)}execute(e,t,i,n,o,r,s){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,c,h,u,d,p;for(a.sort(eu),this.maxExtent_&&(e.save(),this.clip(e,i)),r=r||ky,s&&a.reverse(),l=0,c=a.length;l<c;++l){const c=a[l].toString();for(d=this.executorsByZIndex_[c],h=0,u=r.length;h<u;++h)p=d[r[h]],void 0!==p&&p.execute(e,t,i,n,o,s)}this.maxExtent_&&e.restore()}},Ry=class extends ey{constructor(e,t,i,n,o,r,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=n,this.transformRotation_=n?Ud(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=r,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,i,n){if(!this.image_)return;const o=Op(e,t,i,n,this.transform_,this.pixelCoordinates_),r=this.context_,s=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let c=0,h=o.length;c<h;c+=2){const e=o[c]-this.imageAnchorX_,t=o[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const i=e+this.imageAnchorX_,n=t+this.imageAnchorY_;Vu(s,i,n,1,1,l,-i,-n),r.save(),r.transform.apply(r,s),r.translate(i,n),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.restore()}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,t,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=a)}drawText_(e,t,i,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Op(e,t,i,n,this.transform_,this.pixelCoordinates_),r=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<i;t+=n){const e=o[t]+this.textOffsetX_,i=o[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.save(),r.translate(e-this.textOffsetX_,i-this.textOffsetY_),r.rotate(s),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.restore()):(this.textStrokeState_&&r.strokeText(this.text_,e,i),this.textFillState_&&r.fillText(this.text_,e,i))}}moveToLineTo_(e,t,i,n,o){const r=this.context_,s=Op(e,t,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);let a=s.length;o&&(a-=2);for(let l=2;l<a;l+=2)r.lineTo(s[l],s[l+1]);return o&&r.closePath(),i}drawRings_(e,t,i,n){for(let o=0,r=i.length;o<r;++o)t=this.moveToLineTo_(e,t,i[o],n,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cd(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(e,t,i){const n=e.getFlatCoordinates();if(!n)return null;const o=e.getStride();return Op(n,0,n.length,o,t,i)}(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],n=t[3]-t[1],o=Math.sqrt(i*i+n*n),r=this.context_;r.beginPath(),r.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,n=t.length;i<n;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),""!==this.text_&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),""!==this.text_&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cd(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Cd(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();let n=0;const o=e.getEnds(),r=e.getStride();t.beginPath();for(let e=0,s=o.length;e<s;++e)n=this.moveToLineTo_(i,n,o[e],r,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cd(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cd(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let n=0;const o=e.getEndss(),r=e.getStride();t.beginPath();for(let e=0,s=o.length;e<s;++e){const t=o[e];n=this.drawRings_(i,n,t,r)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),ou(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,n=e.textAlign?e.textAlign:g_;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=n&&(i.textAlign=n,t.textAlign=n),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:Hm(t||c_)}}else this.fillState_=null;if(t){const e=t.getColor(),i=t.getLineCap(),n=t.getLineDash(),o=t.getLineDashOffset(),r=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=n||u_;this.strokeState_={lineCap:void 0!==i?i:h_,lineDash:1===this.pixelRatio_?l:l.map((e=>e*this.pixelRatio_)),lineDashOffset:(o||0)*this.pixelRatio_,lineJoin:void 0!==r?r:d_,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:Hm(e||p_)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const i=e.getPixelRatio(this.pixelRatio_),n=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const r=e.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/i,r[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(e){const t=e.getFill();if(t){const e=t.getColor();this.textFillState_={fillStyle:Hm(e||c_)}}else this.textFillState_=null;const i=e.getStroke();if(i){const e=i.getColor(),t=i.getLineCap(),n=i.getLineDash(),o=i.getLineDashOffset(),r=i.getLineJoin(),s=i.getWidth(),a=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:h_,lineDash:n||u_,lineDashOffset:o||0,lineJoin:void 0!==r?r:d_,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:Hm(e||p_)}}else this.textStrokeState_=null;const n=e.getFont(),o=e.getOffsetX(),r=e.getOffsetY(),s=e.getRotateWithView(),a=e.getRotation(),l=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),u=e.getTextBaseline();this.textState_={font:void 0!==n?n:l_,textAlign:void 0!==h?h:g_,textBaseline:void 0!==u?u:f_},this.text_=void 0!==c?Array.isArray(c)?c.reduce(((e,t,i)=>e+(i%2?" ":t)),""):c:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},My=.5,Py=.5,Ly={Point:function(e,t,i,n,o){const r=i.getImage(),s=i.getText();let a;if(r){if(r.getImageState()!=Cm)return;let l=e;if(o){const c=r.getDeclutterMode();if("none"!==c)if(l=o,"obstacle"===c){const o=e.getBuilder(i.getZIndex(),"Image");o.setImageStyle(r,a),o.drawPoint(t,n)}else s&&s.getText()&&(a={})}const c=l.getBuilder(i.getZIndex(),"Image");c.setImageStyle(r,a),c.drawPoint(t,n)}if(s&&s.getText()){let r=e;o&&(r=o);const l=r.getBuilder(i.getZIndex(),"Text");l.setTextStyle(s,a),l.drawText(t,n)}},LineString:function(e,t,i,n,o){const r=i.getStroke();if(r){const o=e.getBuilder(i.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawLineString(t,n)}const s=i.getText();if(s&&s.getText()){const r=(o||e).getBuilder(i.getZIndex(),"Text");r.setTextStyle(s),r.drawText(t,n)}},Polygon:function(e,t,i,n,o){const r=i.getFill(),s=i.getStroke();if(r||s){const o=e.getBuilder(i.getZIndex(),"Polygon");o.setFillStrokeStyle(r,s),o.drawPolygon(t,n)}const a=i.getText();if(a&&a.getText()){const r=(o||e).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,n)}},MultiPoint:function(e,t,i,n,o){const r=i.getImage(),s=i.getText();let a;if(r){if(r.getImageState()!=Cm)return;let l=e;if(o){const c=r.getDeclutterMode();if("none"!==c)if(l=o,"obstacle"===c){const o=e.getBuilder(i.getZIndex(),"Image");o.setImageStyle(r,a),o.drawMultiPoint(t,n)}else s&&s.getText()&&(a={})}const c=l.getBuilder(i.getZIndex(),"Image");c.setImageStyle(r,a),c.drawMultiPoint(t,n)}if(s&&s.getText()){let r=e;o&&(r=o);const l=r.getBuilder(i.getZIndex(),"Text");l.setTextStyle(s,a),l.drawText(t,n)}},MultiLineString:function(e,t,i,n,o){const r=i.getStroke();if(r){const o=e.getBuilder(i.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawMultiLineString(t,n)}const s=i.getText();if(s&&s.getText()){const r=(o||e).getBuilder(i.getZIndex(),"Text");r.setTextStyle(s),r.drawText(t,n)}},MultiPolygon:function(e,t,i,n,o){const r=i.getFill(),s=i.getStroke();if(s||r){const o=e.getBuilder(i.getZIndex(),"Polygon");o.setFillStrokeStyle(r,s),o.drawMultiPolygon(t,n)}const a=i.getText();if(a&&a.getText()){const r=(o||e).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,n)}},GeometryCollection:function(e,t,i,n,o){const r=t.getGeometriesArray();let s,a;for(s=0,a=r.length;s<a;++s)(0,Ly[r[s].getType()])(e,r[s],i,n,o)},Circle:function(e,t,i,n,o){const r=i.getFill(),s=i.getStroke();if(r||s){const o=e.getBuilder(i.getZIndex(),"Circle");o.setFillStrokeStyle(r,s),o.drawCircle(t,n)}const a=i.getText();if(a&&a.getText()){const r=(o||e).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,n)}}};function Oy(e,t){return parseInt(Ru(e),10)-parseInt(Ru(t),10)}function Fy(e,t){const i=Ay(e,t);return i*i}function Ay(e,t){return Py*e/t}function Dy(e,t,i,n,o,r,s){let a=!1;const l=i.getImage();if(l){const e=l.getImageState();e==Cm||e==Sm?l.unlistenImageChange(o):(e==bm&&l.load(),l.listenImageChange(o),a=!0)}return function(e,t,i,n,o,r){const s=i.getGeometryFunction()(t);if(!s)return;const a=s.simplifyTransformed(n,o),l=i.getRenderer();l?zy(e,a,i,t):(0,Ly[a.getType()])(e,a,i,t,r)}(e,t,i,n,r,s),a}function zy(e,t,i,n){if("GeometryCollection"!=t.getType())e.getBuilder(i.getZIndex(),"Default").drawCustom(t,n,i.getRenderer(),i.getHitDetectionRenderer());else{const o=t.getGeometries();for(let t=0,r=o.length;t<r;++t)zy(e,o[t],i,n)}}const Ny=class extends gy{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const n=t.extent,o=t.viewState,r=o.center,s=o.resolution,a=o.projection,l=o.rotation,c=a.getExtent(),h=this.getLayer().getSource(),u=t.pixelRatio,d=t.viewHints,p=!(d[Gf]||d[Vf]),g=this.compositionContext_,f=Math.round(t.size[0]*u),m=Math.round(t.size[1]*u),_=h.getWrapX()&&a.canWrapX(),v=_?wd(c):null,y=_?Math.ceil((n[2]-c[2])/v)+1:1;let x=_?Math.floor((n[0]-c[0])/v):0;do{const t=this.getRenderTransform(r,s,l,u,f,m,x*v);e.execute(g,1,t,l,p,void 0,i)}while(++x<y)}setupCompositionContext_(){if(1!==this.opacity_){const e=qm(this.context.canvas.width,this.context.canvas.height,dy);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,$m(this.compositionContext_),dy.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];!function(e,t,i){!function(e,t,i,n,o,r,s){e[0]=t,e[1]=i,e[2]=n,e[3]=o,e[4]=r,e[5]=s}(e,t,0,0,i,0,0)}(this.pixelTransform,1/i,1/i),Wu(this.inversePixelTransform,this.pixelTransform);const o=Xu(this.pixelTransform);this.useContainer(t,o,this.getBackground(e));const r=this.context,s=r.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;let c=a&&!a.isEmpty()||l&&!l.isEmpty();if(!c&&!this.getLayer().hasListener(Df)&&!this.getLayer().hasListener(zf))return null;const h=Math.round(e.size[0]*i),u=Math.round(e.size[1]*i);s.width!=h||s.height!=u?(s.width=h,s.height=u,s.style.transform!==o&&(s.style.transform=o)):this.containerReused||r.clearRect(0,0,h,u),this.preRender(r,e);const d=e.viewState;d.projection,this.opacity_=n.opacity,this.setupCompositionContext_();let p=!1;if(c&&n.extent&&this.clipping){const t=Rp(n.extent);c=Cd(t,e.extent),p=c&&!Ju(t,e.extent),p&&this.clipUnrotated(this.compositionContext_,e,t)}return c&&this.renderWorlds(a,e),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(r,e),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise((t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=[this.context.canvas.width,this.context.canvas.height];Gu(this.pixelTransform,e);const t=this.renderedCenter_,i=this.renderedResolution_,n=this.renderedRotation_,o=this.renderedProjection_,r=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=e[0]*My,c=e[1]*My;a.push(this.getRenderTransform(t,i,n,My,l,c,0).slice());const h=s.getSource(),u=o.getExtent();if(h.getWrapX()&&o.canWrapX()&&!Ju(u,r)){let e=r[0];const o=wd(u);let s,h=0;for(;e<u[0];)--h,s=o*h,a.push(this.getRenderTransform(t,i,n,My,l,c,s).slice()),e+=o;for(h=0,e=r[2];e>u[2];)++h,s=o*h,a.push(this.getRenderTransform(t,i,n,My,l,c,s).slice()),e-=o}this.hitDetectionImageData_=function(e,t,i,n,o,r,s){const a=qm(e[0]*My,e[1]*My);a.imageSmoothingEnabled=!1;const l=a.canvas,c=new Ry(a,My,o,null,s),h=i.length,u=Math.floor(16777215/h),d={};for(let g=1;g<=h;++g){const e=i[g-1],t=e.getStyleFunction()||n;if(!t)continue;let s=t(e,r);if(!s)continue;Array.isArray(s)||(s=[s]);const a=(g*u).toString(16).padStart(7,"#00000");for(let i=0,n=s.length;i<n;++i){const t=s[i],n=t.getGeometryFunction()(e);if(!n||!Cd(o,n.getExtent()))continue;const r=t.clone(),l=r.getFill();l&&l.setColor(a);const c=r.getStroke();c&&(c.setColor(a),c.setLineDash(null)),r.setText(void 0);const h=t.getImage();if(h){const e=h.getImageSize();if(!e)continue;const t=qm(e[0],e[1],void 0,{alpha:!1}),i=t.canvas;t.fillStyle=a,t.fillRect(0,0,i.width,i.height),r.setImage(new H_({img:i,anchor:h.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:h.getOrigin(),opacity:1,size:h.getSize(),scale:h.getScale(),rotation:h.getRotation(),rotateWithView:h.getRotateWithView()}))}const u=r.getZIndex()||0;let p=d[u];p||(p={},d[u]=p,p.Polygon=[],p.Circle=[],p.LineString=[],p.Point=[]);const g=n.getType();if("GeometryCollection"===g){const e=n.getGeometriesArrayRecursive();for(let t=0,i=e.length;t<i;++t){const i=e[t];p[i.getType().replace("Multi","")].push(i,r)}}else p[g.replace("Multi","")].push(n,r)}}const p=Object.keys(d).map(Number).sort(eu);for(let g=0,f=p.length;g<f;++g){const e=d[p[g]];for(const i in e){const n=e[i];for(let e=0,i=n.length;e<i;e+=2){c.setStyle(n[e+1]);for(let i=0,o=t.length;i<o;++i)c.setTransform(t[i]),c.drawGeometry(n[e])}}}return a.getImageData(0,0,l.width,l.height)}(e,a,this.renderedFeatures_,s.getStyleFunction(),r,i,n)}t(function(e,t,i){const n=[];if(i){const o=Math.floor(Math.round(e[0])*My),r=Math.floor(Math.round(e[1])*My),s=4*(Kd(o,0,i.width-1)+Kd(r,0,i.height-1)*i.width),a=i.data[s],l=i.data[s+1],c=i.data[s+2]+256*(l+256*a),h=Math.floor(16777215/t.length);c&&c%h==0&&n.push(t[c/h-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(e,t,i,n,o){if(!this.replayGroup_)return;const r=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},c=function(e,t,i){const r=Ru(e),s=l[r];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return l[r]=!0,o.splice(o.lastIndexOf(s),1),n(e,a,t);s.geometry=t,s.distanceSq=i}}else{if(0===i)return l[r]=!0,n(e,a,t);o.push(l[r]={feature:e,layer:a,geometry:t,distanceSq:i,callback:n})}};let h;const u=[this.replayGroup_];return this.declutterExecutorGroup&&u.push(this.declutterExecutorGroup),u.some((n=>h=n.forEachFeatureAtCoordinate(e,r,s,i,c,n===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((e=>e.value)):null))),h}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const n=e.viewHints[Gf],o=e.viewHints[Vf],r=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!r&&n||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,l=e.viewState,c=l.projection,h=l.resolution,u=e.pixelRatio,d=t.getRevision(),p=t.getRenderBuffer();let g=t.getRenderOrder();void 0===g&&(g=Oy);const f=l.center.slice(),m=qu(a,p*h),_=m.slice(),v=[m.slice()],y=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!Ju(y,e.extent)){const e=wd(y),t=Math.max(wd(m)/2,e);m[0]=y[0]-t,m[2]=y[2]+t,sp(f,c);const i=Ed(v[0],c);i[0]<y[0]&&i[2]<y[2]?v.push([i[0]+e,i[1],i[2]+e,i[3]]):i[0]>y[0]&&i[2]>y[2]&&v.push([i[0]-e,i[1],i[2]-e,i[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&Ju(this.wrappedRenderedExtent_,m))return ou(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=f,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new cy(Ay(h,u),m,h,u);let b;this.getLayer().getDeclutter()&&(b=new cy(Ay(h,u),m,h,u));for(let R=0,M=v.length;R<M;++R)i.loadFeatures(v[R],h,c);const w=Fy(h,u);let C=!0;const S=e=>{let i;const n=e.getStyleFunction()||t.getStyleFunction();if(n&&(i=n(e,h)),i){const t=this.renderFeature(e,w,i,x,void 0,b);C=C&&!t}},E=Ip(m),k=i.getFeaturesInExtent(E);g&&k.sort(g);for(let R=0,M=k.length;R<M;++R)S(k[R]);this.renderedFeatures_=k,this.ready=C;const T=x.finish(),I=new Iy(m,h,u,i.getOverlaps(),T,t.getRenderBuffer());return b&&(this.declutterExecutorGroup=new Iy(m,h,u,i.getOverlaps(),b.finish(),t.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=_,this.wrappedRenderedExtent_=m,this.renderedCenter_=f,this.renderedProjection_=c,this.replayGroup_=I,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,n,o,r){if(!i)return!1;let s=!1;if(Array.isArray(i))for(let a=0,l=i.length;a<l;++a)s=Dy(n,e,i[a],t,this.boundHandleStyleImageChange_,o,r)||s;else s=Dy(n,e,i,t,this.boundHandleStyleImageChange_,o,r);return s}},jy=class extends Hv{constructor(e){super(e)}createRenderer(){return new Ny(this)}},By="add",Gy="remove",Vy="length";class Wy extends Zh{constructor(e,t,i){super(e),this.element=t,this.index=i}}const Ky=class extends Pu{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,n=this.array_.length;i<n;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Vy)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Wy(By,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Wy(Gy,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Wy(Gy,i,e)),this.dispatchEvent(new Wy(By,t,e))}updateLength_(){this.set(Vy,this.array_.length)}assertUnique_(e,t){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},Xy=class{constructor(e){this.rbush_=new am(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Ru(t)]=i}load(e,t){const i=new Array(t.length);for(let n=0,o=t.length;n<o;n++){const o=e[n],r=t[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:r};i[n]=s,this.items_[Ru(r)]=s}this.rbush_.load(i)}remove(e){const t=Ru(e),i=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(i)}update(e,t){const i=this.items_[Ru(t)];rd([i.minX,i.minY,i.maxX,i.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map((function(e){return e.value}))}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let n=0,o=e.length;n<o;n++)if(i=t(e[n]),i)return i;return i}isEmpty(){return hu(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return td(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}},Yy=[1,0,0,1,0,0];class Hy{constructor(e,t,i,n,o,r){this.styleFunction,this.extent_,this.id_=r,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=o,this.squaredTolerance_,this.stride_=n,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?nd(this.flatCoordinates_):od(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=gd(this.getExtent());this.flatInteriorPoints_=Ig(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=function(e,t){const i=[];let n,o=0,r=0;for(let s=0,a=t.length;s<a;++s){const a=t[s],l=Pg(e,o,a,2);if(void 0===n&&(n=l),l===n)i.push(t.slice(r,s+1));else{if(0===i.length)continue;i[i.length-1].push(t[r])}r=s+1,o=a}return i}(this.flatCoordinates_,this.ends_),t=zg(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Rg(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=ug(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let n=0,o=i.length;n<o;++n){const o=i[n],r=ug(e,t,o,2,.5);nu(this.flatMidpoints_,r),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=_p(e)).getExtent(),i=e.getWorldExtent();if(t&&i){const e=vd(i)/vd(t);Vu(Yy,i[0],i[3],e,-e,0,0,0),Op(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Yy,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Hy(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=lu(((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let n;switch(this.type_){case"LineString":i.length=Jp(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),n=[i.length];break;case"MultiLineString":n=[],i.length=Qp(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,n);break;case"Polygon":n=[],i.length=ig(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,n)}return n&&(this.simplifiedGeometry_=new Hy(this.type_,i,n,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_})),this}}Hy.prototype.getFlatCoordinates=Hy.prototype.getOrientedFlatCoordinates;const qy=Hy;function $y(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}const Uy=class extends Pu{constructor(e){super(),this.projection=_p(e.projection),this.attributions_=$y(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise((function(e,i){t.viewResolver=e,t.viewRejector=i}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=$y(e),this.changed()}setState(e){this.state_=e,this.changed()}},Zy="addfeature",Jy="changefeature",Qy="clear",ex="removefeature",tx="featuresloadstart",ix="featuresloadend",nx="featuresloaderror";function ox(e,t){return[[-1/0,-1/0,1/0,1/0]]}let rx=!1;function sx(e,t){return function(i,n,o,r,s){const a=this;!function(e,t,i,n,o,r,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(i,n,o):e,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=rx,a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){const e=t.getType();let n;"json"==e?n=JSON.parse(a.responseText):"text"==e?n=a.responseText:"xml"==e?(n=a.responseXML,n||(n=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==e&&(n=a.response),n?r(t.readFeatures(n,{extent:i,featureProjection:o}),t.readProjection(n)):s()}else s()},a.onerror=s,a.send()}(e,t,i,n,o,(function(e,t){a.addFeatures(e),void 0!==r&&r(e)}),s||au)}}class ax extends Zh{constructor(e,t,i){super(e),this.feature=t,this.features=i}}const lx=class extends Uy{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=au,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(Bu(this.format_,"`format` must be set when `url` is set"),this.loader_=sx(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:ox;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let i,n;this.featuresRtree_=t?new Xy:null,this.loadedExtentsRtree_=new Xy,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?n=e.features:e.features&&(i=e.features,n=i.getArray()),t||void 0!==i||(i=new Ky(n)),void 0!==n&&this.addFeaturesInternal(n),void 0!==i&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Ru(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const t=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new ax(Zy,e))}setupChangeEvents_(e,t){t instanceof qy||(this.featureChangeKeys_[e]=[wu(t,du,this.handleFeatureChange_,this),wu(t,Jh,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(void 0!==t.getId()){const e=String(t.getId());if(e in this.idIndex_)if(t instanceof qy){const n=this.idIndex_[e];n instanceof qy?Array.isArray(n)?n.push(t):this.idIndex_[e]=[n,t]:i=!1}else i=!1;else this.idIndex_[e]=t}return i&&(Bu(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],n=[];for(let o=0,r=e.length;o<r;o++){const t=e[o],n=Ru(t);this.addToIndex_(n,t)&&i.push(t)}for(let o=0,r=i.length;o<r;o++){const e=i[o],r=Ru(e);this.setupChangeEvents_(r,e);const s=e.getGeometry();if(s){const i=s.getExtent();t.push(i),n.push(e)}else this.nullGeometryFeatures_[r]=e}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(Zy))for(let o=0,r=i.length;o<r;o++)this.dispatchEvent(new ax(Zy,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Zy,(function(i){t||(t=!0,e.push(i.feature),t=!1)})),this.addEventListener(ex,(function(i){t||(t=!0,e.remove(i.feature),t=!1)})),e.addEventListener(By,(e=>{t||(t=!0,this.addFeature(e.element),t=!1)})),e.addEventListener(Gy,(e=>{t||(t=!0,this.removeFeature(e.element),t=!1)})),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Su);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const e=e=>{this.removeFeatureInternal(e)};this.featuresRtree_.forEach(e);for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new ax(Qy);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,(function(i){const n=i.getGeometry();if(n instanceof qy||n.intersectsCoordinate(e))return t(i)}))}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,(function(i){const n=i.getGeometry();if(n instanceof qy||n.intersectsExtent(e)){const e=t(i);if(e)return e}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),hu(this.nullGeometryFeatures_)||nu(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=function(e,t){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];Ed(e,t);const n=wd(i);if(wd(e)>n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+n,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-n,e[3]]]}return[e]}(e,t);return[].concat(...i.map((e=>this.featuresRtree_.getInExtent(e))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],n=e[1];let o=null;const r=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||ru,this.featuresRtree_.forEachInExtent(a,(function(e){if(t(e)){const t=e.getGeometry(),l=s;if(s=t instanceof qy?0:t.closestPointXY(i,n,r,s),s<l){o=e;const t=Math.sqrt(s);a[0]=i-t,a[1]=n-t,a[2]=i+t,a[3]=n+t}}})),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Ru(t),n=t.getGeometry();if(n){const e=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);const o=t.getId();if(void 0!==o){const e=o.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new ax(Jy,t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:Ru(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&hu(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,i){const n=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let r=0,s=o.length;r<s;++r){const e=o[r];n.forEachInExtent(e,(function(t){return Ju(t.extent,e)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new ax(tx)),this.loader_.call(this,e,t,i,(e=>{--this.loadingExtentsCount_,this.dispatchEvent(new ax(ix,void 0,e))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ax(nx))})),n.insert(e,{extent:e.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,(function(t){if(rd(t.extent,e))return i=t,!0})),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=Ru(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Ru(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(Su),delete this.featureChangeKeys_[t];const n=e.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new ax(ex,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_){const n=this.idIndex_[i];if(e instanceof qy&&Array.isArray(n)&&n.includes(e))n.splice(n.indexOf(e),1);else if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}}return t}setLoader(e){this.loader_=e}setUrl(e){Bu(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(sx(e,this.format_))}},cx="drawstart",hx="drawend",ux="drawabort";class dx extends Zh{constructor(e,t){super(e),this.feature=t}}function px(e,t){return Yd(e[0],e[1],t[0],t[1])}function gx(e,t){const i=e.length;return t<0?e[t+i]:t>=i?e[t-i]:e[t]}function fx(e,t,i){let n,o;t<i?(n=t,o=i):(n=i,o=t);const r=Math.ceil(n),s=Math.floor(o);if(r>s)return px(bx(e,n),bx(e,o));let a=0;n<r&&(a+=px(bx(e,n),gx(e,r))),s<o&&(a+=px(gx(e,s),bx(e,o)));for(let l=r;l<s-1;++l)a+=px(gx(e,l),gx(e,l+1));return a}function mx(e,t,i){if(t instanceof bg)vx(e,t.getCoordinates(),!1,i);else if(t instanceof Cg){const n=t.getCoordinates();for(let t=0,o=n.length;t<o;++t)vx(e,n[t],!1,i)}else if(t instanceof Ag){const n=t.getCoordinates();for(let t=0,o=n.length;t<o;++t)vx(e,n[t],!0,i)}else if(t instanceof jg){const n=t.getCoordinates();for(let t=0,o=n.length;t<o;++t){const o=n[t];for(let t=0,n=o.length;t<n;++t)vx(e,o[t],!0,i)}}else if(t instanceof Yp){const n=t.getGeometries();for(let t=0;t<n.length;++t)mx(e,n[t],i)}}const _x={index:-1,endIndex:NaN};function vx(e,t,i,n){const o=e[0],r=e[1];for(let s=0,a=t.length-1;s<a;++s){const e=xx(o,r,t[s],t[s+1]);if(0===e.squaredDistance){const o=s+e.along;return void n.push({coordinates:t,ring:i,startIndex:o,endIndex:o})}}}const yx={along:0,squaredDistance:0};function xx(e,t,i,n){const o=i[0],r=i[1],s=n[0]-o,a=n[1]-r;let l=0,c=o,h=r;return 0===s&&0===a||(l=Kd(((e-o)*s+(t-r)*a)/(s*s+a*a),0,1),c+=s*l,h+=a*l),yx.along=l,yx.squaredDistance=Ud(Yd(e,t,c,h),10),yx}function bx(e,t){const i=e.length;let n=Math.floor(t);const o=t-n;n>=i?n-=i:n<0&&(n+=i);let r=n+1;r>=i&&(r-=i);const s=e[n],a=s[0],l=s[1],c=e[r];return[a+(c[0]-a)*o,l+(c[1]-l)*o]}function wx(){const e=function(){const e={},t=[255,255,255,1],i=[0,153,255,1];return e.Polygon=[new A_({fill:new L_({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new A_({stroke:new F_({color:t,width:5})}),new A_({stroke:new F_({color:i,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new A_({image:new M_({radius:6,fill:new L_({color:i}),stroke:new F_({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}();return function(t,i){return e[t.getGeometry().getType()]}}const Cx=class extends Ug{constructor(e){const t=e;t.stopDown||(t.stopDown=su),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+e)}}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:ru,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const e=this.mode_;if("Circle"===e)i=function(e,t,i){const n=t||new Wp([NaN,NaN]),o=Tp(e[0]),r=op(o,Tp(e[e.length-1]));return n.setCenterAndRadius(o,Math.sqrt(r),this.geometryLayout_),n};else{let t;"Point"===e?t=Eg:"LineString"===e?t=bg:"Polygon"===e&&(t=Ag),i=function(i,n,o){return n?"Polygon"===e?i[0].length?n.setCoordinates([i[0].concat([i[0][0]])],this.geometryLayout_):n.setCoordinates([],this.geometryLayout_):n.setCoordinates(i,this.geometryLayout_):n=new t(i,this.geometryLayout_),n}}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new jy({source:new lx({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:wx(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:rf,this.freehandCondition_,e.freehand?this.freehandCondition_=tf:this.freehandCondition_=e.freehandCondition?e.freehandCondition:sf,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(Bg,this.updateState_)}setTrace(e){let t;t=e?!0===e?tf:e:of,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===gu&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);let t=e.type===Hg.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Hg.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Hg.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===Hg.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===Hg.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===Hg.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===Hg.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new Sf(Hg.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const t=this.getMap(),i=Hu([t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_])]),n=this.traceSource_.getFeaturesInExtent(i);if(0===n.length)return;const o=function(e,t){const i=[];for(let n=0;n<t.length;++n)mx(e,t[n].getGeometry(),i);return i}(e.coordinate,n);o.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:o,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const i=e.startIndex<=e.endIndex;i===e.startIndex<=t?i&&t>e.endIndex||!i&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(i&&t<e.endIndex||!i&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let i=0;if(e<t){const n=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),i=o-n+1}else{const n=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),i=n-o+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,t,i){if(t===i)return;const n=[];if(t<i){const o=Math.ceil(t);let r=Math.floor(i);r===i&&(r-=1);for(let t=o;t<=r;++t)n.push(gx(e.coordinates,t))}else{const o=Math.floor(t);let r=Math.ceil(i);r===i&&(r+=1);for(let t=o;t>=r;--t)n.push(gx(e.coordinates,t))}n.length&&this.appendCoordinates(n)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(-1===t.targetIndex&&rp(t.startPx,e.pixel)<this.snapTolerance_)return;const i=function(e,t,i,n){const o=e[0],r=e[1];let s=1/0,a=-1,l=NaN;for(let u=0;u<t.targets.length;++u){const e=t.targets[u],i=e.coordinates;let n,c=1/0;for(let t=0;t<i.length-1;++t){const e=xx(o,r,i[t],i[t+1]);e.squaredDistance<c&&(c=e.squaredDistance,n=t+e.along)}c<s&&(s=c,e.ring&&t.targetIndex===u&&(e.endIndex>e.startIndex?n<e.startIndex&&(n+=i.length):e.endIndex<e.startIndex&&n>e.startIndex&&(n-=i.length)),l=n,a=u)}const c=t.targets[a];let h=c.ring;if(t.targetIndex===a&&h){const e=bx(c.coordinates,l);rp(i.getPixelFromCoordinate(e),t.startPx)>n&&(h=!1)}if(h){const e=c.coordinates,t=e.length,i=c.startIndex,n=l;if(i<n){const o=fx(e,i,n);fx(e,i,n-t)<o&&(l-=t)}else{const o=fx(e,i,n);fx(e,i,n+t)<o&&(l+=t)}}return _x.index=a,_x.endIndex=l,_x}(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==i.index){if(-1!==t.targetIndex){const e=t.targets[t.targetIndex];this.removeTracedCoordinates_(e.startIndex,e.endIndex)}const e=t.targets[i.index];this.addTracedCoordinates_(e,e.startIndex,i.endIndex)}else{const e=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(e,i.endIndex)}t.targetIndex=i.index;const n=t.targets[t.targetIndex];n.endIndex=i.endIndex;const o=bx(n.coordinates,n.endIndex),r=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(r[0]),Math.round(r[1])]}handleUpEvent(e){let t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&"Point"!==this.mode_||(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,i=e.pixel,n=t[0]-i[0],o=t[1]-i[1],r=n*n+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,t){let i=!1;if(this.sketchFeature_){let n=!1,o=[this.finishCoordinate_];const r=this.mode_;if("Point"===r)i=!0;else if("Circle"===r)i=2===this.sketchCoords_.length;else if("LineString"===r)n=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===r){const e=this.sketchCoords_;n=e[0].length>this.minPoints_,o=[e[0][0],e[0][e[0].length-2]],o=t?[e[0][0]]:[e[0][0],e[0][e[0].length-2]]}if(n){const t=this.getMap();for(let n=0,r=o.length;n<r;n++){const r=o[n],s=t.getPixelFromCoordinate(r),a=e[0]-s[0],l=e[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(a*a+l*l)<=c,i){this.finishCoordinate_=r;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new wf(new Eg(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new wf);const t=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new bg(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const t=this.getMap().getView().getProjection(),i=zp(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new wf(new bg(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new wf,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new dx(cx,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),i=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),o=zp(this.geometryLayout_);let r,s;for(;e.length<o;)e.push(0);"Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(r=this.sketchCoords_[0],s=r[r.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(r=this.sketchCoords_,s=r[r.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),"Polygon"===i.getType()&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let n,o;const r=this.mode_;"LineString"===r||"Circle"===r?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(e.slice()),this.geometryFunction_(o,t,i)):"Polygon"===r&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(e.slice()),n&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let o=0;o<e;++o){let e;if("LineString"===n||"Circle"===n){if(e=this.sketchCoords_,e.splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();const t=this.finishCoordinate_.slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}this.geometryFunction_(e,t,i),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===n){e=this.sketchCoords_[0],e.splice(-2,1);const n=this.sketchLine_.getGeometry();if(e.length>=2){const t=e[e.length-2].slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}n.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,i)}if(1===e.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const i=e.getGeometry(),n=this.getMap().getView().getProjection();"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,i,n)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,i,n),t=i.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new Tg([t])):"MultiLineString"===this.type_?e.setGeometry(new Cg([t])):"MultiPolygon"===this.type_&&e.setGeometry(new jg([t])),this.dispatchEvent(new dx(hx,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new dx(ux,e))}appendCoordinates(e){const t=this.mode_,i=!this.sketchFeature_;let n;if(i&&this.startDrawing_(e[0]),"LineString"===t||"Circle"===t)n=this.sketchCoords_;else{if("Polygon"!==t)return;n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&n.shift(),n.pop();for(let r=0;r<e.length;r++)this.addToDrawing_(e[r]);const o=e[e.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new wf(new Eg(i)),this.updateSketchFeatures_(),this.dispatchEvent(new dx(cx,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)}},Sx="ArrowLeft",Ex="ArrowUp",kx="ArrowRight",Tx="ArrowDown",Ix=class extends Yg{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return rf(e)&&af(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==_u){const i=e.originalEvent,n=i.key;if(this.condition_(e)&&(n==Tx||n==Sx||n==kx||n==Ex)){const o=e.map.getView(),r=o.getResolution()*this.pixelDelta_;let s=0,a=0;n==Tx?a=-r:n==Sx?s=-r:n==kx?s=r:a=r;const l=[s,a];np(l,o.getRotation()),function(e,t,i){const n=e.getCenterInternal();if(n){const o=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:void 0!==i?i:250,easing:Kg,center:e.getConstrainedCenter(o)})}}(o,l,this.duration_),i.preventDefault(),t=!0}}return!t}},Rx=class extends Yg{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(e){return!function(e){const t=e.originalEvent;return Au?t.metaKey:t.ctrlKey}(e)&&af(e)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==_u||e.type==vu){const i=e.originalEvent,n=i.key;if(this.condition_(e)&&("+"===n||"-"===n)){const o=e.map,r="+"===n?this.delta_:-this.delta_;Xg(o.getView(),r,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},Mx="postrender",Px="movestart",Lx="moveend",Ox="loadstart",Fx="loadend",Ax=class extends Yg{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:tf;this.condition_=e.onFocusOnly?Jg(ef,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==bu)return!0;const t=e.map,i=e.originalEvent;let n;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==bu&&(n=i.deltaY,Ou&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Du),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const r=t.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=n;const s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Kd(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Xg(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},Dx=class extends Ug{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=su),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],n=this.targetPointers[1],o=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){const e=o-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=o;const r=e.map,s=r.getView();s.getConstraints().rotation!==_f&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel($g(this.targetPointers))),this.rotating_&&(r.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},zx=class extends Ug{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=su),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,r=i.clientY-n.clientY,s=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const a=e.map,l=a.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel($g(this.targetPointers))),a.render(),l.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},Nx=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const n=this.points_[t+2]-this.points_[i+2];if(n<1e3/60)return!1;const o=this.points_[t]-this.points_[i],r=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},jx=(e,t)=>{let i,n=null;return"Exent"===t?(i="Circle",n=function(e,t,i){const n=Hu([e[0],e[e.length-1]].map((function(e){return Tp(e)}))),o=[[dd(n),pd(n),bd(n),xd(n),dd(n)]];return t?t.setCoordinates(o):t=new Ag(o),t}):i=t,new Cx({source:e,type:i,geometryFunction:n})},Bx=(e,t)=>{e.removeInteraction(t)},Gx=0,Vx=1,Wx=2,Kx=3,Xx=4,Yx=class extends uu{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(du)}release(){this.state===Kx&&this.setState(Xx)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Wx)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let t=this;do{if(e.getState()==Wx){e.interimTile=null;break}e.getState()==Vx?t=e:e.getState()==Gx?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Kx&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Tu()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else i=t,this.transitionStarts_[e]=i;const n=t-i+1e3/60;return n>=this.transition_?1:Gg(n/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}},Hx=class extends Yx{constructor(e,t,i,n,o,r){super(e,t,r),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Wx,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Kx,this.unlistenImage_(),this.image_=function(){const e=qm(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Wx:this.state=Xx,this.unlistenImage_(),this.changed()}load(){this.state==Kx&&(this.state=Gx,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Gx&&(this.state=Vx,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,i){const n=e;let o=!0,r=!1,s=!1;const a=[Cu(n,yu,(function(){s=!0,r||t()}))];return n.src&&Nu?(r=!0,n.decode().then((function(){o&&t()})).catch((function(e){o&&(s?t():i())}))):a.push(Cu(n,pu,i)),function(){o=!1,a.forEach(Su)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function qx(e,t){V_.expire()}const $x=class extends Qh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Tu()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;Vu(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Wu(n,i)}forEachFeatureAtCoordinate(e,t,i,n,o,r,s,a){let l;const c=t.viewState;function h(e,t,i,n){return o.call(r,t,e?i:null,n)}const u=c.projection,d=sp(e.slice(),u),p=[[0,0]];if(u.canWrapX()&&n){const e=wd(u.getExtent());p.push([-e,0],[e,0])}const g=t.layerStatesArray,f=g.length,m=[],_=[];for(let y=0;y<p.length;y++)for(let n=f-1;n>=0;--n){const o=g[n],r=o.layer;if(r.hasRenderer()&&tm(o,c)&&s.call(a,r)){const n=r.getRenderer(),s=r.getSource();if(n&&s){const r=s.getWrapX()?d:e,a=h.bind(null,o.managed);_[0]=r[0]+p[y][0],_[1]=r[1]+p[y][1],l=n.forEachFeatureAtCoordinate(_,t,i,a,m)}if(l)return l}}if(0===m.length)return;const v=1/m.length;return m.forEach(((e,t)=>e.distanceSq+=t*v)),m.sort(((e,t)=>e.distanceSq-t.distanceSq)),m.some((e=>l=e.callback(e.feature,e.layer,e.geometry))),l}hasFeatureAtCoordinate(e,t,i,n,o,r){return void 0!==this.forEachFeatureAtCoordinate(e,t,i,n,ru,this,o,r)}getMap(){return this.map_}renderFrame(e){Tu()}flushDeclutterItems(e){}scheduleExpireIconCache(e){V_.canExpireCache()&&e.postRenderFunctions.push(qx)}},Ux=class extends $x{constructor(e){super(e),this.fontChangeListenerKey_=wu(__,Jh,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=i_+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const n=new uy(e,void 0,t);i.dispatchEvent(n)}}disposeInternal(){Su(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(Nf,e);const t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),i=e.viewState;this.children_.length=0;const n=this.declutterLayers_;n.length=0;let o=null;for(let r=0,s=t.length;r<s;++r){const s=t[r];e.layerIndex=r;const a=s.layer,l=a.getSourceState();if(!tm(s,i)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(e,o);c&&(c!==o&&(this.children_.push(c),o=c),"getDeclutter"in a&&n.push(a))}this.flushDeclutterItems(e),function(e,t){const i=e.childNodes;for(let n=0;;++n){const o=i[n],r=t[n];if(!o&&!r)break;o!==r&&(o?r?e.insertBefore(r,o):(e.removeChild(o),--n):e.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent(jf,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const t=this.declutterLayers_;for(let i=t.length-1;i>=0;--i)t[i].renderDeclutter(e);t.length=0}};class Zx extends Zh{constructor(e,t){super(e),this.layer=t}}const Jx="layers";class Qx extends Af{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Jx,this.handleLayersChanged_),i?Array.isArray(i)?i=new Ky(i.slice(),{unique:!0}):Bu("function"==typeof i.getArray,"Expected `layers` to be an array or a `Collection`"):i=new Ky(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Su),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(wu(e,By,this.handleLayersAdd_,this),wu(e,Gy,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Su);cu(this.listenerKeys_);const t=e.getArray();for(let i=0,n=t.length;i<n;i++){const e=t[i];this.registerLayerListeners_(e),this.dispatchEvent(new Zx("addlayer",e))}this.changed()}registerLayerListeners_(e){const t=[wu(e,Jh,this.handleLayerChange_,this),wu(e,du,this.handleLayerChange_,this)];e instanceof Qx&&t.push(wu(e,"addlayer",this.handleLayerGroupAdd_,this),wu(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ru(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Zx("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Zx("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Zx("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Ru(t);this.listenerKeys_[i].forEach(Su),delete this.listenerKeys_[i],this.dispatchEvent(new Zx("removelayer",t)),this.changed()}getLayers(){return this.get(Jx)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,i=e.length;t<i;++t)this.dispatchEvent(new Zx("removelayer",e[t]))}this.set(Jx,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}getLayerStatesArray(e){const t=void 0!==e?e:[],i=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));const n=this.getLayerState();let o=n.zIndex;e||void 0!==n.zIndex||(o=0);for(let r=i,s=t.length;r<s;r++){const e=t[r];e.opacity*=n.opacity,e.visible=e.visible&&n.visible,e.maxResolution=Math.min(e.maxResolution,n.maxResolution),e.minResolution=Math.max(e.minResolution,n.minResolution),e.minZoom=Math.max(e.minZoom,n.minZoom),e.maxZoom=Math.min(e.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==e.extent?e.extent=yd(e.extent,n.extent):e.extent=n.extent),void 0===e.zIndex&&(e.zIndex=o)}return t}getSourceState(){return"ready"}}const eb=Qx,tb="pointermove",ib="pointerdown",nb="pointerout",ob=class extends uu{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=wu(i,ib,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=wu(i,tb,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(xu,this.boundHandleTouchMove_,!!ju&&{passive:!1})}emulateClick_(e){let t=new Sf(Hg.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Sf(Hg.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const t=new Sf(Hg.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}),250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Hg.POINTERUP||t.type==Hg.POINTERCANCEL){delete this.trackedTouches_[i];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=Hg.POINTERDOWN&&t.type!=Hg.POINTERMOVE||(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Sf(Hg.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(Su),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new Sf(Hg.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(wu(e,Hg.POINTERMOVE,this.handlePointerMove_,this),wu(e,Hg.POINTERUP,this.handlePointerUp_,this),wu(this.element_,Hg.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(wu(this.element_.getRootNode(),Hg.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Sf(Hg.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Sf(Hg.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Su(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(xu,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Su(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Su),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},rb="layergroup",sb="size",ab="target",lb="view",cb=1/0,hb=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,cu(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(e){Bu(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=cb&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,n=t.length,o=t[e],r=i[e],s=e;for(;e<n>>1;){const o=this.getLeftChildIndex_(e),r=this.getRightChildIndex_(e),s=r<n&&i[r]<i[o]?r:o;t[e]=t[s],i[e]=i[s],e=s}t[e]=o,i[e]=r,this.siftDown_(s,e)}siftDown_(e,t){const i=this.elements_,n=this.priorities_,o=i[t],r=n[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(n[e]>r))break;i[t]=i[e],n[t]=n[e],t=e}i[t]=o,n[t]=r}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let n=0;const o=t.length;let r,s,a;for(s=0;s<o;++s)r=t[s],a=e(r),a==cb?delete this.queuedElements_[this.keyFunction_(r)]:(i[n]=a,t[n++]=r);t.length=n,i.length=n,this.heapify_()}},ub=class extends hb{constructor(e,t){super((function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(du,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===Wx||i===Kx||i===Xx){i!==Kx&&t.removeEventListener(du,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i,n,o,r=0;for(;this.tilesLoading_<e&&r<t&&this.getCount()>0;)n=this.dequeue()[0],o=n.getKey(),i=n.getState(),i!==Gx||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,n.load())}},db=class extends Pu{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Qm(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Qm(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)Su(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==au&&this.listenerKeys.push(wu(e,Mx,this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},pb=class extends db{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",n=void 0!==e.expandClassName?e.expandClassName:t+"-expand",o=void 0!==e.collapseLabel?e.collapseLabel:"›",r=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=r):this.collapseLabel_=o;const s=void 0!==e.label?e.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=n):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(fu,this.handleClick_.bind(this),!1);const l=t+" "+i_+" "+n_+(this.collapsed_&&this.collapsible_?" "+o_:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap((t=>t.getAttributions(e))))),i=!this.getMap().getAllLayers().some((e=>e.getSource()&&!1===e.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ou(t,this.renderedAttributions_)){e_(this.ulElement_);for(let e=0,i=t.length;e<i;++e){const i=document.createElement("li");i.innerHTML=t[e],this.ulElement_.appendChild(i)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(o_),this.collapsed_?Jm(this.collapseLabel_,this.label_):Jm(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},gb=class extends db{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"⇧",n=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const o=e.tipLabel?e.tipLabel:"Reset rotation",r=document.createElement("button");r.className=t+"-reset",r.setAttribute("type","button"),r.title=o,r.appendChild(this.label_),r.addEventListener(fu,this.handleClick_.bind(this),!1);const s=t+" "+i_+" "+n_,a=this.element;a.className=s,a.appendChild(r),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(t_)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:Vg}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const e="rotate("+i+"rad)";if(this.autoHide_){const e=this.element.classList.contains(t_);e||0!==i?e&&0!==i&&this.element.classList.remove(t_):this.element.classList.add(t_)}this.label_.style.transform=e}this.rotation_=i}},fb=class extends db{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,n=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",o=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",r=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=n,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof r?document.createTextNode(r):r),c.addEventListener(fu,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=o,h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(fu,this.handleClick_.bind(this,-i),!1);const u=t+" "+i_+" "+n_,d=this.element;d.className=u,d.appendChild(c),d.appendChild(h),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const i=t.getZoom();if(void 0!==i){const n=t.getConstrainedZoom(i+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:Vg})):t.setZoom(n)}}};function mb(e){e instanceof im?e.setMapInternal(null):e instanceof eb&&e.getLayers().forEach(mb)}function _b(e,t){if(e instanceof im)e.setMapInternal(t);else if(e instanceof eb){const i=e.getLayers().getArray();for(let e=0,n=i.length;e<n;++e)_b(i[e],t)}}const vb=class extends Pu{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const i={},n=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new eb({layers:e.layers});let o,r,s;return i[rb]=n,i[ab]=e.target,i[lb]=e.view instanceof em?e.view:new em,void 0!==e.controls&&(Array.isArray(e.controls)?o=new Ky(e.controls.slice()):(Bu("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),o=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?r=new Ky(e.interactions.slice()):(Bu("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),r=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?s=new Ky(e.overlays.slice()):(Bu("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new Ky,{controls:o,interactions:r,keyboardEventTarget:t,overlays:s,values:i}}(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Du,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=t.controls||function(e){e=e||{};const t=new Ky;return(void 0===e.zoom||e.zoom)&&t.push(new fb(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new gb(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new pb(e.attributionOptions)),t}(),this.interactions=t.interactions||function(e){e=e||{};const t=new Ky,i=new Nx(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new yf),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new qg({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new mf({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new Dx),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new zx({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new Ix),t.push(new Rx({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new Ax({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new xf({duration:e.zoomDuration})),t}({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new ub(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(rb,this.handleLayerGroupChanged_),this.addChangeListener(lb,this.handleViewChanged_),this.addChangeListener(sb,this.handleSizeChanged_),this.addChangeListener(ab,this.handleTargetChanged_),this.setProperties(t.values);const i=this;!e.view||e.view instanceof em||e.view.then((function(e){i.setView(new em(e))})),this.controls.addEventListener(By,(e=>{e.element.setMap(this)})),this.controls.addEventListener(Gy,(e=>{e.element.setMap(null)})),this.interactions.addEventListener(By,(e=>{e.element.setMap(this)})),this.interactions.addEventListener(Gy,(e=>{e.element.setMap(null)})),this.overlays_.addEventListener(By,(e=>{this.addOverlayInternal_(e.element)})),this.overlays_.addEventListener(Gy,(e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)})),this.controls.forEach((e=>{e.setMap(this)})),this.interactions.forEach((e=>{e.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){_b(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(e),o=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,r=void 0!==i.layerFilter?i.layerFilter:ru,s=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,o,s,t,null,r,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,(function(e){i.push(e)}),t),i}getAllLayers(){const e=[];return function t(i){i.forEach((function(i){i instanceof eb?t(i.getLayers()):e.push(i)}))}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:ru,o=void 0!==t.hitTolerance?t.hitTolerance:0,r=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,r,n,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),i=this.getSize(),n=t.width/i[0],o=t.height/i[1],r="changedTouches"in e?e.changedTouches[0]:e;return[(r.clientX-t.left)/n,(r.clientY-t.top)/o]}getTarget(){return this.get(ab)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return kp(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Gu(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(rb)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Ky)return void t.setLayers(e);const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const i=e[t];if(!i.visible)continue;const n=i.layer.getRenderer();if(n&&!n.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Tp(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Gu(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(sb)}getView(){return this.get(lb)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,n){return function(e,t,i,n,o){if(!e||!(i in e.wantedTiles))return cb;if(!e.wantedTiles[i][t.getKey()])return cb;const r=e.viewState.center,s=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(o)+Math.sqrt(s*s+a*a)/o}(this.frameState_,e,t,i,n)}handleBrowserEvent(e,t){t=t||e.type;const i=new Sf(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===ib||i===bu||i===_u){const e=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():e,n=t.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===e?e.documentElement:i).contains(n))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let i=t.length-1;i>=0;i--){const n=t[i];if(n.getMap()===this&&n.getActive()&&this.getTargetElement()&&(!n.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let i=this.maxTilesLoading_,n=i;if(e){const t=e.viewHints;if(t[Gf]||t[Vf]){const t=Date.now()-e.time>8;i=t?0:8,n=t?0:2}}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,n))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(Bf)&&this.renderer_.dispatchRenderEvent(Bf,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Cf(Fx,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Cf(Ox,this,e))));const i=this.postRenderFunctions_;for(let n=0,o=i.length;n<o;++n)i[n](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)Su(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(gu,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(bu,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Qm(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Ux(this)),this.mapBrowserEventHandler_=new ob(this,this.moveTolerance_);for(const t in Hg)this.mapBrowserEventHandler_.addEventListener(Hg[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(gu,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(bu,this.boundHandleBrowserEvent_,!!ju&&{passive:!1});const e=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[wu(e,_u,this.handleBrowserEvent,this),wu(e,vu,this.handleBrowserEvent,this)];const i=t.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Su(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Su(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=wu(e,Jh,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=wu(e,du,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Su),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Zx("addlayer",e)),this.layerGroupPropertyListenerKeys_=[wu(e,Jh,this.render,this),wu(e,du,this.render,this),wu(e,"addlayer",this.handleLayerAdd_,this),wu(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){mb(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),n=this.frameState_;let o=null;if(void 0!==t&&Em(t)&&i&&i.isDef()){const n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:md(r.center,r.resolution,r.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:r,viewHints:n,wantedTiles:{},mapId:Ru(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const e=isNaN(r.nextRotation)?r.rotation:r.nextRotation;o.nextExtent=md(r.nextCenter,r.nextResolution,e,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),n&&(!this.previousExtent_||!Sd(this.previousExtent_)&&!rd(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Cf(Px,this,n)),this.previousExtent_=id(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Gf]&&!o.viewHints[Vf]&&!rd(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Cf(Lx,this,o)),$u(o.extent,this.previousExtent_))),this.dispatchEvent(new Cf(Mx,this,o)),this.renderComplete_=this.hasListener(Ox)||this.hasListener(Fx)||this.hasListener(Bf)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Zx("removelayer",t)),this.set(rb,e)}setSize(e){this.set(sb,e)}setTarget(e){this.set(ab,e)}setView(e){if(!e||e instanceof em)return void this.set(lb,e);this.set(lb,new em);const t=this;e.then((function(e){t.setView(new em(e))}))}updateSize(){const e=this.getTargetElement();let t;if(e){const i=getComputedStyle(e),n=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(n)||isNaN(o)||(t=[n,o],!Em(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&up("No map visible because the map container's width or height are 0."))}const i=this.getSize();!t||i&&ou(t,i)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}},yb="element",xb="map",bb="offset",wb="position",Cb="positioning",Sb=class extends Pu{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(yb,this.handleElementChanged),this.addChangeListener(xb,this.handleMapChanged),this.addChangeListener(bb,this.handleOffsetChanged),this.addChangeListener(wb,this.handlePositionChanged),this.addChangeListener(Cb,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(yb)}getId(){return this.id}getMap(){return this.get(xb)||null}getOffset(){return this.get(bb)}getPosition(){return this.get(wb)}getPositioning(){return this.get(Cb)}handleElementChanged(){e_(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Qm(this.element),Su(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=wu(e,Mx,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(yb,e)}setMap(e){this.set(xb,e)}setOffset(e){this.set(bb,e)}setPosition(e){this.set(wb,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(wb))return;const i=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),o=this.getRect(n,[Um(n),Zm(n)]),r=void 0===(e=e||{}).margin?20:e.margin;if(!Ju(i,o)){const n=o[0]-i[0],s=i[2]-o[2],a=o[1]-i[1],l=i[3]-o[3],c=[0,0];if(n<0?c[0]=n-r:s<0&&(c[0]=Math.abs(s)+r),a<0?c[1]=a-r:l<0&&(c[1]=Math.abs(l)+r),0!==c[0]||0!==c[1]){const i=t.getView().getCenterInternal(),n=t.getPixelFromCoordinateInternal(i);if(!n)return;const o=[n[0]+c[0],n[1]+c[1]],r=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(o),duration:r.duration,easing:r.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+t[0],o+t[1]]}setPositioning(e){this.set(Cb,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(e,t){const i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let r="0%",s="0%";"bottom-right"==o||"center-right"==o||"top-right"==o?r="-100%":"bottom-center"!=o&&"center-center"!=o&&"top-center"!=o||(r="-50%"),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?s="-100%":"center-left"!=o&&"center-center"!=o&&"center-right"!=o||(s="-50%");const a=`translate(${r}, ${s}) translate(${Math.round(e[0]+n[0])+"px"}, ${Math.round(e[1]+n[1])+"px"})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,i.transform=a)}getOptions(){return this.options}},Eb=class{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Bu(void 0!==i,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Bu(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t,i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e}getValues(){const e=new Array(this.count_);let t,i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Bu(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}};function kb(e,t,i,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=i,n):[e,t,i]}function Tb(e,t,i){return e+"/"+t+"/"+i}function Ib(e){return Tb(e[0],e[1],e[2])}const Rb=class extends Eb{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const e=function(e){return e.split("/").map(Number)}(this.peekFirstKey()),t=e[0];this.forEach((e=>{e.tileCoord[0]!==t&&(this.remove(Ib(e.tileCoord)),e.release())}))}};class Mb{constructor(e,t,i,n){this.minX=e,this.maxX=t,this.minY=i,this.maxY=n}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Pb(e,t,i,n,o){return void 0!==o?(o.minX=e,o.maxX=t,o.minY=i,o.maxY=n,o):new Mb(e,t,i,n)}const Lb=Mb,Ob=class{constructor(e,t,i,n,o,r){this.sourceProj_=e,this.targetProj_=t;let s={};const a=Sp(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){const t=e[0]+"/"+e[1];return s[t]||(s[t]=a(e)),s[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&wd(n)>=wd(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?wd(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?wd(this.targetProj_.getExtent()):null;const l=xd(i),c=bd(i),h=pd(i),u=dd(i),d=this.transformInv_(l),p=this.transformInv_(c),g=this.transformInv_(h),f=this.transformInv_(u),m=10+(r?Math.max(0,Math.ceil(Math.log2(ud(i)/(r*r*256*256)))):0);if(this.addQuad_(l,c,h,u,d,p,g,f,m),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach((function(t,i,n){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const i=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];i[0][0]-e>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-e>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-e>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);const n=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-n<this.sourceWorldWidth_/2&&(t.source=i)}}))}s={}}addTriangle_(e,t,i,n,o,r){this.triangles_.push({source:[n,o,r],target:[e,t,i]})}addQuad_(e,t,i,n,o,r,s,a,l){const c=Hu([o,r,s,a]),h=this.sourceWorldWidth_?wd(c)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1;let p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=wd(Hu([e,t,i,n]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&h&&(p=h>.25||p)),!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Cd(c,this.maxSourceExtent_))return;let g=0;if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)p=!0;else if(g=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=g&&2!=g&&4!=g&&8!=g)return;if(l>0){if(!p){const t=[(e[0]+i[0])/2,(e[1]+i[1])/2],n=this.transformInv_(t);let r;r=d?(qd(o[0],u)+qd(s[0],u))/2-qd(n[0],u):(o[0]+s[0])/2-n[0];const a=(o[1]+s[1])/2-n[1];p=r*r+a*a>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const c=[(t[0]+i[0])/2,(t[1]+i[1])/2],h=this.transformInv_(c),u=[(n[0]+e[0])/2,(n[1]+e[1])/2],d=this.transformInv_(u);this.addQuad_(e,t,c,u,o,r,h,d,l-1),this.addQuad_(u,c,i,n,d,h,s,a,l-1)}else{const c=[(e[0]+t[0])/2,(e[1]+t[1])/2],h=this.transformInv_(c),u=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=this.transformInv_(u);this.addQuad_(e,c,u,n,o,h,d,a,l-1),this.addQuad_(c,t,i,u,h,r,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(e,i,n,o,s,a),0==(14&g)&&this.addTriangle_(e,i,t,o,s,r),g&&(0==(13&g)&&this.addTriangle_(t,n,e,r,a,o),0==(7&g)&&this.addTriangle_(t,n,i,r,a,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,i,n){const o=t.source;ad(e,o[0]),ad(e,o[1]),ad(e,o[2])})),e}getTriangles(){return this.triangles_}};let Fb;const Ab=[];function Db(e,t,i,n,o){e.beginPath(),e.moveTo(0,0),e.lineTo(t,i),e.lineTo(n,o),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(i,o)),e.restore()}function zb(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function Nb(e,t,i,n){const o=Ep(i,t,e);let r=vp(t,n,i);const s=t.getMetersPerUnit();void 0!==s&&(r*=s);const a=e.getMetersPerUnit();void 0!==a&&(r/=a);const l=e.getExtent();if(!l||Zu(l,o)){const t=vp(e,r,o)/r;isFinite(t)&&t>0&&(r/=t)}return r}function jb(e,t,i,n,o,r,s,a,l,c,h,u,d){const p=qm(Math.round(i*e),Math.round(i*t),Ab);if(u||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function g(e){return Math.round(e*i)/i}p.scale(i,i),p.globalCompositeOperation="lighter";const f=[1/0,1/0,-1/0,-1/0];let m;if(l.forEach((function(e,t,i){sd(f,e.extent)})),!d||1!==l.length||0!==c){const e=wd(f),t=vd(f);m=qm(Math.round(i*e/n),Math.round(i*t/n),Ab),u||(m.imageSmoothingEnabled=!1);const o=i/n;l.forEach((function(e,t,i){const n=e.extent[0]-f[0],r=-(e.extent[3]-f[3]),s=wd(e.extent),a=vd(e.extent);e.image.width>0&&e.image.height>0&&m.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,n*o,r*o,s*o,a*o)}))}const _=xd(s);return a.getTriangles().forEach((function(e,t,o){const s=e.source,a=e.target;let c=s[0][0],h=s[0][1],d=s[1][0],v=s[1][1],y=s[2][0],x=s[2][1];const b=g((a[0][0]-_[0])/r),w=g(-(a[0][1]-_[1])/r),C=g((a[1][0]-_[0])/r),S=g(-(a[1][1]-_[1])/r),E=g((a[2][0]-_[0])/r),k=g(-(a[2][1]-_[1])/r),T=c,I=h;c=0,h=0,d-=T,v-=I,y-=T,x-=I;const R=function(e){const t=e.length;for(let n=0;n<t;n++){let i=n,o=Math.abs(e[n][n]);for(let s=n+1;s<t;s++){const t=Math.abs(e[s][n]);t>o&&(o=t,i=s)}if(0===o)return null;const r=e[i];e[i]=e[n],e[n]=r;for(let s=n+1;s<t;s++){const i=-e[s][n]/e[n][n];for(let o=n;o<t+1;o++)n==o?e[s][o]=0:e[s][o]+=i*e[n][o]}}const i=new Array(t);for(let n=t-1;n>=0;n--){i[n]=e[n][t]/e[n][n];for(let o=n-1;o>=0;o--)e[o][t]-=e[o][n]*i[n]}return i}([[d,v,0,0,C-b],[y,x,0,0,E-b],[0,0,d,v,S-w],[0,0,y,x,k-w]]);if(!R)return;if(p.save(),p.beginPath(),function(){if(void 0===Fb){const e=qm(6,6,Ab);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Db(e,4,5,4,0),Db(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;Fb=zb(t,0)||zb(t,4)||zb(t,8),$m(e),Ab.push(e.canvas)}return Fb}()||!u){p.moveTo(C,S);const e=4,t=b-C,i=w-S;for(let n=0;n<e;n++)p.lineTo(C+g((n+1)*t/e),S+g(n*i/(e-1))),n!=e-1&&p.lineTo(C+g((n+1)*t/e),S+g((n+1)*i/(e-1)));p.lineTo(E,k)}else p.moveTo(C,S),p.lineTo(b,w),p.lineTo(E,k);let M;if(p.clip(),p.transform(R[0],R[2],R[1],R[3],b,w),p.translate(f[0]-T,f[3]-I),m)M=m.canvas,p.scale(n/i,-n/i);else{const e=l[0],t=e.extent;M=e.image,p.scale(wd(t)/M.width,-vd(t)/M.height)}p.drawImage(M,0,0),p.restore()})),m&&($m(m),Ab.push(m.canvas)),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(e,t,i){const n=e.target,o=(n[0][0]-_[0])/r,s=-(n[0][1]-_[1])/r,a=(n[1][0]-_[0])/r,l=-(n[1][1]-_[1])/r,c=(n[2][0]-_[0])/r,h=-(n[2][1]-_[1])/r;p.beginPath(),p.moveTo(a,l),p.lineTo(o,s),p.lineTo(c,h),p.closePath(),p.stroke()})),p.restore()),p.canvas}const Bb=class extends Yx{constructor(e,t,i,n,o,r,s,a,l,c,h,u){super(o,Gx,u),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=r||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const d=n.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const f=p?yd(d,p):d;if(0===ud(f))return void(this.state=Xx);const m=e.getExtent();m&&(g=g?yd(g,m):m);const _=n.getResolution(this.wrappedTileCoord_[0]),v=function(e,t,i,n){const o=gd(i);let r=Nb(e,t,o,n);return(!isFinite(r)||r<=0)&&hd(i,(function(i){return r=Nb(e,t,i,n),isFinite(r)&&r>0})),r}(e,i,f,_);if(!isFinite(v)||v<=0)return void(this.state=Xx);const y=void 0!==c?c:.5;if(this.triangulation_=new Ob(e,i,f,g,v*y,_),0===this.triangulation_.getTriangles().length)return void(this.state=Xx);this.sourceZ_=t.getZForResolution(v);let x=this.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(x[1]=Kd(x[1],g[1],g[3]),x[3]=Kd(x[3],g[1],g[3])):x=yd(x,g)),ud(x)){const e=t.getTileRangeForExtentAndZ(x,this.sourceZ_);for(let t=e.minX;t<=e.maxX;t++)for(let i=e.minY;i<=e.maxY;i++){const e=l(this.sourceZ_,t,i,s);e&&this.sourceTiles_.push(e)}0===this.sourceTiles_.length&&(this.state=Xx)}else this.state=Xx}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach((t=>{t&&t.getState()==Wx&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})})),this.sourceTiles_.length=0,0===e.length)this.state=Kx;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),n="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],r=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=jb(n,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),r,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Wx}this.changed()}load(){if(this.state==Gx){this.state=Vx,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((t=>{const i=t.getState();if(i==Gx||i==Vx){e++;const i=wu(t,du,(function(n){const o=t.getState();o!=Wx&&o!=Kx&&o!=Xx||(Su(i),e--,0===e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}})),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,i){e.getState()==Gx&&e.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Su),this.sourcesListenerKeys_=null}release(){this.canvas_&&($m(this.canvas_.getContext("2d")),Ab.push(this.canvas_),this.canvas_=null),super.release()}},Gb="preload",Vb="useInterimTilesOnError",Wb=class extends im{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get(Gb)}setPreload(e){this.set(Gb,e)}getUseInterimTilesOnError(){return this.get(Vb)}setUseInterimTilesOnError(e){this.set(Vb,e)}getData(e){return super.getData(e)}},Kb=class extends gy{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new Lb(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==Wx||i==Xx||i==Kx&&!n}getTile(e,t,i,n){const o=n.pixelRatio,r=n.viewState.projection,s=this.getLayer();let a=s.getSource().getTile(e,t,i,o,r);return a.getState()==Kx&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=Gu(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Zu(o,n))return null;const r=t.pixelRatio,s=t.viewState.projection,a=t.viewState,l=i.getRenderSource(),c=l.getTileGridForProjection(a.projection),h=l.getTilePixelRatio(t.pixelRatio);for(let u=c.getZForResolution(a.resolution);u>=c.getMinZoom();--u){const e=c.getTileCoordForCoordAndZ(n,u),t=l.getTile(u,e[1],e[2],r,s);if(!(t instanceof Hx||t instanceof Bb)||t instanceof Bb&&t.getState()===Xx)return null;if(t.getState()!==Wx)continue;const i=c.getOrigin(u),o=km(c.getTileSize(u)),d=c.getResolution(u),p=Math.floor(h*((n[0]-i[0])/d-e[1]*o[0])),g=Math.floor(h*((i[1]-n[1])/d-e[2]*o[1])),f=Math.round(h*l.getGutterForProjection(a.projection));return this.getImageData(t.getImage(),p+f,g+f)}return null}loadedTileCallback(e,t,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(e,t,i)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],n=e.viewState,o=n.projection,r=n.resolution,s=n.center,a=n.rotation,l=e.pixelRatio,c=this.getLayer(),h=c.getSource(),u=h.getRevision(),d=h.getTileGridForProjection(o),p=d.getZForResolution(r,h.zDirection),g=d.getResolution(p);let f=e.extent;const m=e.viewState.resolution,_=h.getTilePixelRatio(l),v=Math.round(wd(f)/m*l),y=Math.round(vd(f)/m*l),x=i.extent&&Rp(i.extent);x&&(f=yd(f,Rp(i.extent)));const b=g*v/2/_,w=g*y/2/_,C=[s[0]-b,s[1]-w,s[0]+b,s[1]+w],S=d.getTileRangeForExtentAndZ(f,p),E={};E[p]={};const k=this.createLoadedTileFinder(h,o,E),T=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;const R=a?_d(n.center,m,a,e.size):void 0;for(let N=S.minX;N<=S.maxX;++N)for(let t=S.minY;t<=S.maxY;++t){if(a&&!d.tileCoordIntersectsViewport([p,N,t],R))continue;const n=this.getTile(p,N,t,e);if(this.isDrawableTile(n)){const t=Ru(this);if(n.getState()==Wx){E[p][n.tileCoord.toString()]=n;let e=n.inTransition(t);e&&1!==i.opacity&&(n.endTransition(t),e=!1),this.newTiles_||!e&&this.renderedTiles.includes(n)||(this.newTiles_=!0)}if(1===n.getAlpha(t,e.time))continue}const o=d.getTileCoordChildTileRange(n.tileCoord,I,T);let r=!1;o&&(r=k(p+1,o)),r||d.forEachTileCoordParentTileRange(n.tileCoord,k,I,T)}const M=g/r*l/_;Vu(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,a,-v/2,-y/2);const P=Xu(this.pixelTransform);this.useContainer(t,P,this.getBackground(e));const L=this.context,O=L.canvas;Wu(this.inversePixelTransform,this.pixelTransform),Vu(this.tempTransform,v/2,y/2,M,M,0,-v/2,-y/2),O.width!=v||O.height!=y?(O.width=v,O.height=y):this.containerReused||L.clearRect(0,0,v,y),x&&this.clipUnrotated(L,e,x),h.getInterpolate()||(L.imageSmoothingEnabled=!1),this.preRender(L,e),this.renderedTiles.length=0;let F,A,D,z=Object.keys(E).map(Number);z.sort(eu),1!==i.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(F=[],A=[]):z=z.reverse();for(let N=z.length-1;N>=0;--N){const t=z[N],i=h.getTilePixelSize(t,l,o),n=d.getResolution(t)/g,r=i[0]*n*M,s=i[1]*n*M,a=d.getTileCoordForCoordAndZ(xd(C),t),c=d.getTileCoordExtent(a),u=Gu(this.tempTransform,[_*(c[0]-C[0])/g,_*(C[3]-c[3])/g]),f=_*h.getGutterForProjection(o),m=E[t];for(const o in m){const i=m[o],n=i.tileCoord,l=a[1]-n[1],c=Math.round(u[0]-(l-1)*r),d=a[2]-n[2],g=Math.round(u[1]-(d-1)*s),_=Math.round(u[0]-l*r),v=Math.round(u[1]-d*s),y=c-_,x=g-v,b=p===t,w=b&&1!==i.getAlpha(Ru(this),e.time);let C=!1;if(!w)if(F){D=[_,v,_+y,v,_+y,v+x,_,v+x];for(let e=0,i=F.length;e<i;++e)if(p!==t&&t<A[e]){const t=F[e];Cd([_,v,_+y,v+x],[t[0],t[3],t[4],t[7]])&&(C||(L.save(),C=!0),L.beginPath(),L.moveTo(D[0],D[1]),L.lineTo(D[2],D[3]),L.lineTo(D[4],D[5]),L.lineTo(D[6],D[7]),L.moveTo(t[6],t[7]),L.lineTo(t[4],t[5]),L.lineTo(t[2],t[3]),L.lineTo(t[0],t[1]),L.clip())}F.push(D),A.push(t)}else L.clearRect(_,v,y,x);this.drawTileImage(i,e,_,v,y,x,f,b),F&&!w?(C&&L.restore(),this.renderedTiles.unshift(i)):this.renderedTiles.push(i),this.updateUsedTiles(e.usedTiles,h,i)}}return this.renderedRevision=u,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!rd(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(e,h,d,l,o,f,p,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(L,e),i.extent&&L.restore(),L.imageSmoothingEnabled=!0,P!==O.style.transform&&(O.style.transform=P),this.container}drawTileImage(e,t,i,n,o,r,s,a){const l=this.getTileImage(e);if(!l)return;const c=Ru(this),h=t.layerStatesArray[t.layerIndex],u=h.opacity*(a?e.getAlpha(c,t.time):1),d=u!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,i,n,o,r),d&&this.context.restore(),u!==h.opacity?t.animate=!0:a&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=function(e,t,i){const n=Ru(e);n in i.usedTiles&&e.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const n=Ru(t);n in e||(e[n]={}),e[n][i.getKey()]=!0}manageTilePyramid(e,t,i,n,o,r,s,a,l){const c=Ru(t);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],u=e.tileQueue,d=i.getMinZoom(),p=e.viewState.rotation,g=p?_d(e.viewState.center,e.viewState.resolution,p,e.size):void 0;let f,m,_,v,y,x,b=0;for(x=d;x<=s;++x)for(m=i.getTileRangeForExtentAndZ(r,x,m),_=i.getResolution(x),v=m.minX;v<=m.maxX;++v)for(y=m.minY;y<=m.maxY;++y)p&&!i.tileCoordIntersectsViewport([x,v,y],g)||(s-x<=a?(++b,f=t.getTile(x,v,y,n,o),f.getState()==Gx&&(h[f.getKey()]=!0,u.isKeyQueued(f.getKey())||u.enqueue([f,c,i.getTileCoordCenter(f.tileCoord),_])),void 0!==l&&l(f)):t.useTile(x,v,y,o));t.updateCacheSize(b,o)}},Xb=class extends Wb{constructor(e){super(e)}createRenderer(){return new Kb(this)}},Yb="tileloadstart",Hb="tileloadend",qb="tileloaderror",$b=[0,0,0],Ub=class{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Bu(function(e,t,i){const n=t||eu;return e.every((function(t,o){if(0===o)return!0;const r=n(e[o-1],t);return!(r>0||i&&0===r)}))}(this.resolutions_,((e,t)=>t-e),!0),"`resolutions` must be sorted in descending order"),!e.origins)for(let n=0,o=this.resolutions_.length-1;n<o;++n)if(t){if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}else t=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Bu(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;void 0===i||this.origin_||this.origins_||(this.origin_=xd(i)),Bu(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Bu(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:Xf,Bu(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(((e,t)=>{const n=new Lb(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(i){const e=this.getTileRangeForExtentAndZ(i,t);n.minX=Math.max(e.minX,n.minX),n.maxX=Math.min(e.maxX,n.maxX),n.minY=Math.max(e.minY,n.minY),n.maxY=Math.min(e.maxY,n.maxY)}return n})):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const n=this.getTileRangeForExtentAndZ(e,t);for(let o=n.minX,r=n.maxX;o<=r;++o)for(let e=n.minY,s=n.maxY;e<=s;++e)i([t,o,e])}forEachTileCoordParentTileRange(e,t,i,n){let o,r,s,a=null,l=e[0]-1;for(2===this.zoomFactor_?(r=e[1],s=e[2]):a=this.getTileCoordExtent(e,n);l>=this.minZoom;){if(void 0!==r&&void 0!==s?(r=Math.floor(r/2),s=Math.floor(s/2),o=Pb(r,r,s,s,i)):o=this.getTileRangeForExtentAndZ(a,l,i),t(l,o))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const i=2*e[1],n=2*e[2];return Pb(i,i+1,n,n+1,t)}const n=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const n=e[0],o=e[1],r=e[2];if(t===n)return Pb(o,r,o,r,i);if(this.zoomFactor_){const e=Math.pow(this.zoomFactor_,t-n),s=Math.floor(o*e),a=Math.floor(r*e);return t<n?Pb(s,s,a,a,i):Pb(s,Math.floor(e*(o+1))-1,a,Math.floor(e*(r+1))-1,i)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,$b);const n=$b[1],o=$b[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,$b),Pb(n,$b[1],o,$b[2],i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=km(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*i,t[1]-(e[2]+.5)*n[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),n=this.getResolution(e[0]),o=km(this.getTileSize(e[0]),this.tmpSize_),r=i[0]+e[1]*o[0]*n,s=i[1]-(e[2]+1)*o[1]*n;return td(r,s,r+o[0]*n,s+o[1]*n,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,n,o){const r=this.getZForResolution(i),s=i/this.getResolution(r),a=this.getOrigin(r),l=km(this.getTileSize(r),this.tmpSize_);let c=s*(e-a[0])/i/l[0],h=s*(a[1]-t)/i/l[1];return n?(c=Jd(c,5)-1,h=Jd(h,5)-1):(c=Zd(c,5),h=Zd(h,5)),kb(r,c,h,o)}getTileCoordForXYAndZ_(e,t,i,n,o){const r=this.getOrigin(i),s=this.getResolution(i),a=km(this.getTileSize(i),this.tmpSize_);let l=(e-r[0])/s/a[0],c=(r[1]-t)/s/a[1];return n?(l=Jd(l,5)-1,c=Jd(c,5)-1):(l=Zd(l,5),c=Zd(c,5)),kb(i,l,c,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return Kd(tu(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return _g(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let n=this.minZoom;n<t;++n)i[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=i}};function Zb(e){let t=e.getDefaultTileGrid();return t||(t=function(e,t,i,n){const o=Qb(e);return function(e,t,i,n){n=void 0!==n?n:"top-left";const o=Jb(e,t,i);return new Ub({extent:e,origin:fd(e,n),resolutions:o,tileSize:i})}(o,t,i,n)}(e),e.setDefaultTileGrid(t)),t}function Jb(e,t,i,n){t=void 0!==t?t:Kf,i=km(void 0!==i?i:Xf);const o=vd(e),r=wd(e);n=n>0?n:Math.max(r/i[0],o/i[1]);const s=t+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=n/Math.pow(2,l);return a}function Qb(e){let t=(e=_p(e)).getExtent();if(!t){const i=180*kd.degrees/e.getMetersPerUnit();t=td(-i,-i,i,i)}return t}class ew extends Zh{constructor(e,t){super(e),this.tile=t}}const tw=class extends Uy{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;const t=[256,256];this.tileGrid&&km(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Rb(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,n){const o=this.getTileCacheForProjection(e);if(!o)return!1;let r,s,a,l=!0;for(let c=i.minX;c<=i.maxX;++c)for(let e=i.minY;e<=i.maxY;++e)s=Tb(t,c,e),a=!1,o.containsKey(s)&&(r=o.get(s),a=r.getState()===Wx,a&&(a=!1!==n(r))),a||(l=!1);return l}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,n,o){return Tu()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Zb(e)}getTileCacheForProjection(e){const t=this.getProjection();return Bu(null===t||wp(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const n=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),r=km(n.getTileSize(e),this.tmpSize);return 1==o?r:(s=r,a=o,void 0===(l=this.tmpSize)&&(l=[0,0]),l[0]=s[0]*a+.5|0,l[1]=s[1]*a+.5|0,l);var s,a,l}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function(e,t,i){const n=t[0],o=e.getTileCoordCenter(t),r=Qb(i);if(!Zu(r,o)){const t=wd(r),i=Math.ceil((r[0]-o[0])/t);return o[0]+=t*i,e.getTileCoordForCoordAndZ(o,n)}return t}(i,e,t)),function(e,t){const i=e[0],n=e[1],o=e[2];if(t.getMinZoom()>i||i>t.getMaxZoom())return!1;const r=t.getFullTileRange(i);return!r||r.containsXY(n,o)}(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,n){}};function iw(e,t){const i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s,a,l){if(s)return e.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,s[2].toString()).replace(r,(function(){const e=s[0],i=t.getFullTileRange(e);if(!i)throw new Error("The {-y} placeholder requires a tile grid with extent");return(i.getHeight()-s[2]-1).toString()}))}}function nw(e,t){const i=e.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=iw(e[o],t);return function(e){return 1===e.length?e[0]:function(t,i,n){if(!t)return;const o=function(e){return(e[1]<<e[0])+e[2]}(t),r=qd(o,e.length);return e[r](t,i,n)}}(n)}class ow extends tw{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ow.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Ru(t),n=t.getState();let o;n==Vx?(this.tileLoadingKeys_[i]=!0,o=Yb):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=n==Kx?qb:n==Wx?Hb:void 0),null!=o&&this.dispatchEvent(new ew(o,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}setUrl(e){const t=function(e){const t=[];let i=/\{([a-z])-([a-z])\}/.exec(e);if(i){const n=i[1].charCodeAt(0),o=i[2].charCodeAt(0);let r;for(r=n;r<=o;++r)t.push(e.replace(i[0],String.fromCharCode(r)));return t}if(i=/\{(\d+)-(\d+)\}/.exec(e),i){const n=parseInt(i[2],10);for(let o=parseInt(i[1],10);o<=n;o++)t.push(e.replace(i[0],o.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(nw(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const n=Tb(e,t,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const rw=ow;function sw(e,t){e.getImage().src=t}const aw=class extends rw{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:sw,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:Hx,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const n in this.tileCacheForProjection){const e=this.tileCacheForProjection[n];e.expireCache(e==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!wp(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!wp(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||wp(t,e)))return this.tileGrid;const i=Ru(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Zb(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||wp(t,e))return this.tileCache;const i=Ru(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Rb(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,n,o,r){const s=[e,t,i],a=this.getTileCoordForTileUrlFunction(s,o),l=a?this.tileUrlFunction(a,n,o):void 0,c=new this.tileClass(s,void 0!==l?Gx:Xx,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=r,c.addEventListener(du,this.handleTileChange.bind(this)),c}getTile(e,t,i,n,o){const r=this.getProjection();if(!r||!o||wp(r,o))return this.getTileInternal(e,t,i,n,r||o);const s=this.getTileCacheForProjection(o),a=[e,t,i];let l;const c=Ib(a);s.containsKey(c)&&(l=s.get(c));const h=this.getKey();if(l&&l.key==h)return l;const u=this.getTileGridForProjection(r),d=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(a,o),g=new Bb(r,u,o,d,a,p,this.getTilePixelRatio(n),this.getGutter(),((e,t,i,n)=>this.getTileInternal(e,t,i,n,r)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=h,l?(g.interimTile=l,g.refreshInterimChain(),s.replace(c,g)):s.set(c,g),g}getTileInternal(e,t,i,n,o){let r=null;const s=Tb(e,t,i),a=this.getKey();if(this.tileCache.containsKey(s)){if(r=this.tileCache.get(s),r.key!=a){const l=r;r=this.createTile_(e,t,i,n,o,a),l.getState()==Gx?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(e,t,i,n,o,a),this.tileCache.set(s,r);return r}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}}setTileGridForProjection(e,t){const i=_p(e);if(i){const e=Ru(i);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},lw=class extends aw{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",i=void 0!==e.tileGrid?e.tileGrid:function(e){const t=e||{},i=t.extent||_p("EPSG:3857").getExtent(),n={extent:i,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Jb(i,t.maxZoom,t.tileSize,t.maxResolution)};return new Ub(n)}({extent:Qb(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}},cw="projection",hw="coordinateFormat",uw=class extends db{constructor(e){e=e||{};const t=document.createElement("div");t.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(cw,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==e.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(hw)}getProjection(){return this.get(cw)}handleMouseMove(e){const t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const t=e.getViewport();this.listenerKeys.push(wu(t,tb,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(wu(t,nb,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(hw,e)}setProjection(e){this.set(cw,_p(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const e=this.getProjection();this.transform_=e?Cp(this.mapProjection_,e):fp}const i=this.getMap().getCoordinateFromPixelInternal(e);if(i){this.transform_(i,i),this.wrapX_&&sp(i,this.getProjection()||this.mapProjection_);const e=this.getCoordinateFormat();t=e?e(i):i.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){const t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}},dw=.75,pw=.1,gw=class extends db{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=void 0!==e.rotateWithView&&e.rotateWithView,this.viewExtent_=void 0;const t=void 0!==e.className?e.className:"ol-overviewmap",i=void 0!==e.tipLabel?e.tipLabel:"Overview map",n=void 0!==e.collapseLabel?e.collapseLabel:"‹";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;const o=void 0!==e.label?e.label:"›";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;const r=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=i,s.appendChild(r),s.addEventListener(fu,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view;const a=new vb({view:e.view,controls:new Ky,interactions:new Ky});this.ovmap_=a,e.layers&&e.layers.forEach((function(e){a.addLayer(e)}));const l=document.createElement("div");l.className="ol-overviewmap-box",l.style.boxSizing="border-box",this.boxOverlay_=new Sb({position:[0,0],positioning:"center-center",element:l}),this.ovmap_.addOverlay(this.boxOverlay_);const c=t+" "+i_+" "+n_+(this.collapsed_&&this.collapsible_?" "+o_:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=c,h.appendChild(this.ovmapDiv_),h.appendChild(s);const u=this,d=this.boxOverlay_,p=this.boxOverlay_.getElement(),g=function(e){const t={clientX:(i=e).clientX,clientY:i.clientY};var i;const n=a.getEventCoordinateInternal(t);d.setPosition(n)},f=function(e){const t=a.getEventCoordinateInternal(e);u.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f)};p.addEventListener("mousedown",(function(){window.addEventListener("mousemove",g),window.addEventListener("mouseup",f)}))}setMap(e){const t=this.getMap();if(e!==t){if(t){const e=t.getView();e&&this.unbindView_(e),this.ovmap_.setTarget(null)}if(super.setMap(e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(wu(e,Jh,this.handleMapPropertyChange_,this));const t=e.getView();t&&(this.bindView_(t),t.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(e){if(e.key===lb){const t=e.oldValue;t&&this.unbindView_(t);const i=this.getMap().getView();this.bindView_(i)}else this.ovmap_.isRendered()||e.key!==ab&&e.key!==sb||this.ovmap_.updateSize()}bindView_(e){if(!this.view_){const t=new em({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(Wf.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()}unbindView_(e){e.removeChangeListener(Wf.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),n=e.getView().calculateExtentInternal(i);if(this.viewExtent_&&rd(n,this.viewExtent_))return;this.viewExtent_=n;const o=t.getSize(),r=t.getView().calculateExtentInternal(o),s=t.getPixelFromCoordinateInternal(xd(n)),a=t.getPixelFromCoordinateInternal(pd(n)),l=Math.abs(s[0]-a[0]),c=Math.abs(s[1]-a[1]),h=o[0],u=o[1];l<h*pw||c<u*pw||l>h*dw||c>u*dw?this.resetExtent_():Ju(r,n)||this.recenter_()}resetExtent_(){const e=this.getMap(),t=this.ovmap_,i=e.getSize(),n=e.getView().calculateExtentInternal(i),o=t.getView(),r=Math.log(7.5)/Math.LN2;!function(e,t){const i=(e[2]-e[0])/2*(t-1),n=(e[3]-e[1])/2*(t-1);e[0]-=i,e[2]+=i,e[1]-=n,e[3]+=n}(n,1/(Math.pow(2,r/2)*pw)),o.fitInternal(Dg(n))}recenter_(){const e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())}updateBox_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),n=e.getView(),o=t.getView(),r=this.rotateWithView_?0:-n.getRotation(),s=this.boxOverlay_,a=this.boxOverlay_.getElement(),l=n.getCenterInternal(),c=n.getResolution(),h=o.getResolution(),u=i[0]*c/h,d=i[1]*c/h;if(s.setPosition(l),a){a.style.width=u+"px",a.style.height=d+"px";const e="rotate("+r+"rad)";a.style.transform=e}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Cu(this.ovmap_,Mx,(function(e){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))}handleClick_(e){e.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(o_),this.collapsed_?Jm(this.collapseLabel_,this.label_):Jm(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}setCollapsed(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(e){this.validateExtent_(),this.updateBox_()}},fw="units",mw=[1,2,5],_w=25.4/.28,vw=class extends db{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+i_,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(fw,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(fw)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(fw,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,i=e.projection,n=this.getUnits(),o="degrees"==n?"degrees":"m";let r=vp(i,e.resolution,t,o);const s=this.minWidth_*(this.dpi_||_w)/_w,a=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||_w)/_w:void 0;let l=s*r,c="";if("degrees"==n){const e=kd.degrees;l*=e,l<e/60?(c="″",r*=3600):l<e?(c="′",r*=60):c="°"}else if("imperial"==n)l<.9144?(c="in",r/=.0254):l<1609.344?(c="ft",r/=.3048):(c="mi",r/=1609.344);else if("nautical"==n)r/=1852,c="NM";else if("metric"==n)l<.001?(c="μm",r*=1e6):l<1?(c="mm",r*=1e3):l<1e3?c="m":(c="km",r/=1e3);else{if("us"!=n)throw new Error("Invalid units");l<.9144?(c="in",r*=39.37):l<1609.344?(c="ft",r/=.30480061):(c="mi",r/=1609.3472)}let h,u,d,p,g,f,m=3*Math.floor(Math.log(s*r)/Math.log(10));for(;;){d=Math.floor(m/3);const e=Math.pow(10,d);if(h=mw[(m%3+3)%3]*e,u=Math.round(h/r),isNaN(u))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==a&&u>=a){h=p,u=g,d=f;break}if(u>=s)break;p=h,g=u,f=d,++m}const _=this.scaleBar_?this.createScaleBar(u,h,c):h.toFixed(d<0?-d:0)+" "+c;this.renderedHTML_!=_&&(this.innerElement_.innerHTML=_,this.renderedHTML_=_),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const n=this.getScaleForResolution(),o=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),r=this.scaleBarSteps_,s=e/r,a=[this.createMarker("absolute")];for(let l=0;l<r;++l){const n=l%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(l%2==0||2===r?this.createStepText(l,e,!1,t,i):"")+"</div>")}return a.push(this.createStepText(r,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,i,n,o){const r=(0===e?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+o);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${i?t+"px":"unset"};">`+r+"</div>"}getScaleForResolution(){return vp(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||_w)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}},yw=new j_({fill:new L_({color:"rgba(50, 224, 141,0.4)"}),stroke:new F_({color:"rgba(255,128,0,0.5)",width:2}),image:new H_({src:"./location.png",scale:[.3,.3]})}),xw=new lx({}),bw=new jy({source:xw,style:yw});var ww={};function Cw(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function Sw(e,t,i){var n=(e=Cw(e*i))-(t=Cw(t*i));n<<=1,e-t<0&&(n=~n);for(var o="";n>=32;)o+=String.fromCharCode(63+(32|31&n)),n>>=5;return o+=String.fromCharCode(n+63)}function Ew(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].slice();t.push([n[1],n[0]])}return t}ww.decode=function(e,t){for(var i,n=0,o=0,r=0,s=[],a=0,l=0,c=null,h=Math.pow(10,Number.isInteger(t)?t:5);n<e.length;){c=null,a=0,l=0;do{l|=(31&(c=e.charCodeAt(n++)-63))<<a,a+=5}while(c>=32);i=1&l?~(l>>1):l>>1,a=l=0;do{l|=(31&(c=e.charCodeAt(n++)-63))<<a,a+=5}while(c>=32);o+=i,r+=1&l?~(l>>1):l>>1,s.push([o/h,r/h])}return s},ww.encode=function(e,t){if(!e.length)return"";for(var i=Math.pow(10,Number.isInteger(t)?t:5),n=Sw(e[0][0],0,i)+Sw(e[0][1],0,i),o=1;o<e.length;o++){var r=e[o],s=e[o-1];n+=Sw(r[0],s[0],i),n+=Sw(r[1],s[1],i)}return n},ww.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return ww.encode(Ew(e.coordinates),t)},ww.toGeoJSON=function(e,t){return{type:"LineString",coordinates:Ew(ww.decode(e,t))}};class kw{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=wf,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?_p(t.dataProjection):this.readProjection(e);t.extent&&i&&"tile-pixels"===i.getUnits()&&(i=_p(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Tu()}readFeature(e,t){return Tu()}readFeatures(e,t){return Tu()}readGeometry(e,t){return Tu()}readProjection(e){return Tu()}writeFeature(e,t){return Tu()}writeFeatures(e,t){return Tu()}writeGeometry(e,t){return Tu()}}function Tw(e,t,i){const n=i?_p(i.featureProjection):null,o=i?_p(i.dataProjection):null;let r=e;if(n&&o&&!wp(n,o)){t&&(r=e.clone());const i=t?n:o,s=t?o:n;"tile-pixels"===i.getUnits()?r.transform(i,s):r.applyTransform(Sp(i,s))}if(t&&i&&void 0!==i.decimals){const t=Math.pow(10,i.decimals),n=function(e){for(let i=0,n=e.length;i<n;++i)e[i]=Math.round(e[i]*t)/t;return e};r===e&&(r=e.clone()),r.applyTransform(n)}return r}function Iw(e){return"string"==typeof e?e:""}const Rw=class extends kw{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(Iw(e),this.adaptOptions(t))}readFeatureFromText(e,t){return Tu()}readFeatures(e,t){return this.readFeaturesFromText(Iw(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return Tu()}readGeometry(e,t){return this.readGeometryFromText(Iw(e),this.adaptOptions(t))}readGeometryFromText(e,t){return Tu()}readProjection(e){return this.readProjectionFromText(Iw(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return Tu()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return Tu()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return Tu()}};function Mw(e,t,i,n,o,r){void 0!==o?r=void 0!==r?r:0:(o=[],r=0);let s=t;for(;s<i;){const t=e[s++];o[r++]=e[s++],o[r++]=t;for(let i=2;i<n;++i)o[r++]=e[s++]}return o.length=r,o}function Pw(e){let t,i="";for(;e>=32;)t=63+(32|31&e),i+=String.fromCharCode(t),e>>=5;return t=e+63,i+=String.fromCharCode(t),i}const Lw=class extends Rw{constructor(e){super(),e=e||{},this.dataProjection=_p("EPSG:4326"),this.factor_=e.factor?e.factor:1e5,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY"}readFeatureFromText(e,t){const i=this.readGeometryFromText(e,t);return new wf(i)}readFeaturesFromText(e,t){return[this.readFeatureFromText(e,t)]}readGeometryFromText(e,t){const i=zp(this.geometryLayout_),n=function(e,t,i){let n;i=i||1e5;const o=new Array(t);for(n=0;n<t;++n)o[n]=0;const r=function(e,t){t=t||1e5;const i=function(e){const t=function(e){const t=[];let i=0,n=0;for(let o=0,r=e.length;o<r;++o){const r=e.charCodeAt(o)-63;i|=(31&r)<<n,r<32?(t.push(i),i=0,n=0):n+=5}return t}(e);for(let i=0,n=t.length;i<n;++i){const e=t[i];t[i]=1&e?~(e>>1):e>>1}return t}(e);for(let n=0,o=i.length;n<o;++n)i[n]/=t;return i}(e,i);for(let s=0,a=r.length;s<a;)for(n=0;n<t;++n,++s)o[n]+=r[s],r[s]=o[n];return r}(e,i,this.factor_);Mw(n,0,n.length,i,n);const o=ng(n,0,n.length,i);return Tw(new bg(o,this.geometryLayout_),!1,this.adaptOptions(t))}writeFeatureText(e,t){const i=e.getGeometry();if(i)return this.writeGeometryText(i,t);throw new Error("Expected `feature` to have a geometry")}writeFeaturesText(e,t){return this.writeFeatureText(e[0],t)}writeGeometryText(e,t){const i=(e=Tw(e,!0,this.adaptOptions(t))).getFlatCoordinates(),n=e.getStride();return Mw(i,0,i.length,n,i),function(e,t,i){let n;i=i||1e5;const o=new Array(t);for(n=0;n<t;++n)o[n]=0;for(let r=0,s=e.length;r<s;)for(n=0;n<t;++n,++r){const t=e[r],i=t-o[n];o[n]=t,e[r]=i}return function(e,t){t=t||1e5;for(let i=0,n=e.length;i<n;++i)e[i]=Math.round(e[i]*t);return function(e){for(let t=0,i=e.length;t<i;++t){const i=e[t];e[t]=i<0?~(i<<1):i<<1}return function(e){let t="";for(let i=0,n=e.length;i<n;++i)t+=Pw(e[i]);return t}(e)}(e)}(e,i)}(i,n,this.factor_)}};function Ow(e,t,i){if(void 0===i&&(i={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Aw(e[0])||!Aw(e[1]))throw new Error("coordinates must contain numbers");return function(e,t,i){void 0===i&&(i={});var n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=t||{},n.geometry=e,n}({type:"Point",coordinates:e},t,i)}function Fw(e){return e%360*Math.PI/180}function Aw(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Dw(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function zw(e,t,i){if(void 0===i&&(i={}),!0===i.final)return function(e,t){var i=zw(t,e);return i=(i+180)%360}(e,t);var n=Dw(e),o=Dw(t),r=Fw(n[0]),s=Fw(o[0]),a=Fw(n[1]),l=Fw(o[1]),c=Math.sin(s-r)*Math.cos(l),h=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(s-r);return Math.atan2(c,h)%(2*Math.PI)*180/Math.PI}const Nw=[{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39558090851449,22.91805484704389]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3970867376813,22.91482081461092]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39290388597631,22.914974819397216]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.38576515069784,22.91559082895965]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3787379606845,22.916925509351003]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.37243579574702,22.91805484704389]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3680274923897,22.918960604175368]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.36825294404204,22.92390670554107]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.36864334608754,22.929501669119517]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.36892220286784,22.934583133081787]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3686991165926,22.937354759706423]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.37405316592394,22.939767054799773]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.37884950169463,22.940536927351815]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.38342275544507,22.939715729611507]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.38593246646803,22.93899717786948]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.3886652637663,22.932684022300464]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39134228630445,22.927089190173632]},{speed:60,time:"1987.12.1 19:20:56",coordinate:[113.39401931309764,22.921391464667593]}],jw=(e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i},Bw=e=>(fe("data-v-db65543f"),e=e(),me(),e),Gw={class:"login-page"},Vw=Bw((()=>g("h1",{class:"title"},"OpenLayers Demo",-1))),Ww={id:"map",class:"map-container"},Kw=["innerHTML"],Xw=Bw((()=>g("p",null,"小车运行",-1))),Yw=Bw((()=>g("br",null,null,-1))),Hw=Bw((()=>g("p",{class:"el-collapse-item-title"},"控件",-1))),qw={class:"checkbox"},$w=Bw((()=>g("p",null,"绘制",-1))),Uw=Bw((()=>g("br",null,null,-1))),Zw=Bw((()=>g("br",null,null,-1))),Jw={__name:"map",setup(e){let t,i=xw,n=bw;const o=c(""),r=[{value:"Point",label:"点"},{value:"LineString",label:"线"},{value:"Polygon",label:"面"},{value:"Exent",label:"矩形"},{value:"Circle",label:"圆"}];let a;const h=()=>{a&&Bx(t,a),a=jx(i,o.value),((e,t)=>{e.addInteraction(t)})(t,a)};l(o,(()=>{h()}));const u=c(!0);l(u,(()=>{u.value?u.value&&""!==o.value&&h():Bx(t,a)}));const f=[];Nw.forEach(((e,t)=>{const i=new wf({geometry:new Eg((n=e.coordinate,pp(),Ep(n,"EPSG:4326",void 0!==o?o:"EPSG:3857"))),time:e.time,speed:e.speed,index:t});var n,o;f.push(i)}));const m=new lx({features:f}),_=new jy({source:m,style:new j_({image:new M_({radius:8,fill:new L_({color:"rgb(209, 192, 15)"})})})}),v={route:new j_({stroke:new F_({color:"rgb(209, 192, 15)",width:6})}),animation:new j_({image:new H_({anchor:[.5,.5],src:"./car.png",rotation:Math.PI/180*66,scale:[.7,.7]})}),start:new j_({text:new $_({font:"15px Times New Roman",scale:.9,text:"起",stroke:new F_({color:"red"}),fill:new L_({color:"red"}),offsetX:20,offsetY:-10})}),end:new j_({text:new $_({font:"15px Times New Roman",scale:.9,text:"终",stroke:new F_({color:"red"}),fill:new L_({color:"red"}),offsetX:20,offsetY:-10})})},y=ww.encode(Nw.map((e=>[e.coordinate[1].toFixed(6),e.coordinate[0].toFixed(6)])),6),x=new Lw({factor:1e6}).readGeometry(y,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),b=new wf({geometry:new Eg(x.getFirstCoordinate()),type:"start"}),w=new wf({geometry:new Eg(x.getLastCoordinate()),type:"end"}),C=new wf({geometry:x,type:"route"}),S=new Eg(x.getFirstCoordinate()),E=new wf({geometry:S,type:"animation"}),k=new lx({features:[C,b,w,E]}),T=new jy({source:k,style:e=>v[e.get("type")]}),I=c(!1),R=c(60);let M,P=0,L=S.getCoordinates();l(I,(()=>{I.value?F():A()}));const O=e=>{const i=e.frameState.time;P=(P+(i-M)*R.value/1e6)%2,M=i;const n=x.getCoordinateAt(P>1?2-P:P);S.setCoordinates(n);const o=S.getCoordinates();let r=zw(Ow(bp(L)),Ow(bp(o)));v.animation.getImage().setRotation(Math.PI/180*(-90+r));const s=function(e){if(!(e.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");const t=e.inversePixelTransform[0],i=e.inversePixelTransform[1],n=Math.sqrt(t*t+i*i),o=e.frameState,r=function(e,t){const i=e[0],n=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=t[0],c=t[1],h=t[2],u=t[3],d=t[4],p=t[5];return e[0]=i*l+o*c,e[1]=n*l+r*c,e[2]=i*h+o*u,e[3]=n*h+r*u,e[4]=i*d+o*p+s,e[5]=n*d+r*p+a,e}(e.inversePixelTransform.slice(),o.coordinateToPixelTransform),s=Fy(o.viewState.resolution,n);return new Ry(e.context,n,o.extent,r,o.viewState.rotation,s,void 0)}(e);s.setStyle(v.animation),s.drawGeometry(S),L=o,t.render()},F=()=>{M=Date.now(),T.on("postrender",O),E.setGeometry(null)},A=()=>{T.un("postrender",O),E.setGeometry(S)},z=()=>{V.setPosition(void 0)},N=c(null),B=c(null);let V,W,K,X;const Y=c(!1),H=c(!1),q=c(!1);l(Y,(()=>{Y.value?W=(e=>{const t=new vw({units:"metric",className:"ol-scale-line"});return e.addControl(t),t})(t):((e,t)=>{t.removeControl(e)})(W,t)})),l(H,(()=>{H.value?K=(e=>{const t=e.getLayers().array_[0].getSource(),i=new gw({layers:[new Xb({source:t})],collapsed:!1,className:"ol-overviewmap"});return e.addControl(i),i})(t):((e,t)=>{t.removeControl(e)})(K,t)})),l(q,(()=>{q.value?X=(e=>{const t=new uw({projection:"EPSG:4326",coordinateFormat:ep(4)});return e.addControl(t),t})(t):((e,t)=>{t.removeControl(e)})(X,t)}));const $=e=>{const i=t.forEachFeatureAtPixel(e,(e=>e),{layerFilter:e=>_===e});return i};return s((()=>{var e;t=new vb({target:"map",layers:[new Xb({source:new lw({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",attributions:'<a class="ol-attribution-amap" href="http://ditu.amap.com/">高德地图</a>'})})],view:new em({projection:"EPSG:3857",center:[12621685.550369183,2623275.034032539],zoom:14})}),t.addLayer(n),t.addLayer(_),t.addLayer(T),e=N.value,V=new Sb({positioning:"bottom-center",autoPan:{animation:250},element:e,position:null}),t.addOverlay(V),t.on("click",(e=>{const t=e.pixel,i=$(t);if(i){const t=e.coordinate,n=function(e,t){return e?tp("NS",e[1],t)+" "+tp("EW",e[0],t):""}(bp(t));V.setPosition(t),B.value=`\n      <p class="title">轨迹点${i.values_.index+1}<p>\n      <p>经纬度: <code> ${n} </code></p>\n      <p>车辆速度： <code> ${i.values_.speed}km/h</code></p>\n      <p>时间 <code> ${i.values_.time} </code></p>`}else V.setPosition(void 0)})),t.on("pointermove",(e=>{const i=e.pixel,n=$(i);t.getTargetElement().style.cursor=n?"pointer":""}))})),(e,t)=>{const i=yh,n=xh,s=Uh,a=Dc,l=nh,c=ih,h=jh,f=Nh,m=vh,_=_h;return d(),p("div",Gw,[G(_,{class:"page"},{default:j((()=>[G(i,{class:"head"},{default:j((()=>[Vw])),_:1}),G(_,{class:"main"},{default:j((()=>[G(n,{class:"mapcontext"},{default:j((()=>[g("div",Ww,[g("div",{id:"popup",class:"ol-popup",ref_key:"container",ref:N},[g("a",{href:"#",id:"popup-closer",class:"ol-popup-closer",ref:"close",onClick:z},null,512),g("div",{id:"popup-content",innerHTML:B.value},null,8,Kw)],512)])])),_:1}),G(m,{width:"245px",class:"aside"},{default:j((()=>[Xw,G(s,{modelValue:I.value,"onUpdate:modelValue":t[0]||(t[0]=e=>I.value=e),class:"mb-2","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),Yw,G(c,{accordion:"",width:"200px"},{default:j((()=>[G(l,{class:""},{title:j((()=>[Hw])),default:j((()=>[g("div",qw,[G(a,{modelValue:Y.value,"onUpdate:modelValue":t[1]||(t[1]=e=>Y.value=e),label:"比例尺",size:"large"},null,8,["modelValue"]),G(a,{modelValue:H.value,"onUpdate:modelValue":t[2]||(t[2]=e=>H.value=e),label:"鹰眼图",size:"large"},null,8,["modelValue"]),G(a,{modelValue:q.value,"onUpdate:modelValue":t[3]||(t[3]=e=>q.value=e),label:"鼠标位置",size:"large"},null,8,["modelValue"])])])),_:1})])),_:1}),g("div",null,[$w,G(s,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=e=>u.value=e),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),Uw,Zw]),G(f,{disabled:!u.value,placement:"bottom-start",modelValue:o.value,"onUpdate:modelValue":t[5]||(t[5]=e=>o.value=e),class:"m-2",placeholder:"Select"},{default:j((()=>[(d(),p(D,null,ue(r,(e=>G(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["disabled","modelValue"])])),_:1})])),_:1})])),_:1})])}}};e("default",jw(Jw,[["__scopeId","data-v-db65543f"]]))}}}));
